Heart rate: 101
starting state publisher
triggering first session action
publishing next action: RUNNEUTRAL60
participant should now be in RUN
session time is:  0.99705696106
programme time is:  1201.99437141
received validated action: RUNNEUTRAL
INFO:root:7-warmup.py stopped.
Heart rate: 102
session time is:  1.99684309959
programme time is:  1202.99415755
prog action duration is: 60
time remaining on that action is: 59.0002279282
Heart rate: 101
session time is:  2.9968419075
programme time is:  1203.99415636
prog action duration is: 60
time remaining on that action is: 58.00030303
Heart rate: 100
session time is:  3.99687004089
programme time is:  1204.99418449
prog action duration is: 60
time remaining on that action is: 57.0002639294
Heart rate: 98
max reward is: 
0.977520342964
max reward is: 
0.97379354028
if len > 1 triggered
session time is:  4.9972949028
programme time is:  1205.99460936
prog action duration is: 60
time remaining on that action is: 55.9997899532
Heart rate: 97
session time is:  5.9972820282
programme time is:  1206.99459648
prog action duration is: 60
time remaining on that action is: 54.999833107
Speed: 3.6mph
Heart rate: 95
Speed: 3.8mph
Speed: 3.7mph
Speed: 3.0mph
session time is:  6.99714589119
programme time is:  1207.99446034
prog action duration is: 60
time remaining on that action is: 53.9999351501
Speed: 3.8mph
Speed: 3.9mph
Heart rate: 95
Speed: 9.8mph
Speed: 4.0mph
Speed: 4.1mph
session time is:  7.99687695503
programme time is:  1208.99419141
prog action duration is: 60
time remaining on that action is: 53.0003149509
Speed: 4.2mph
Heart rate: 95
Speed: 4.3mph
max reward is: 
0.980540037147
max reward is: 
0.975076410452
1561737053.88: got validated action STYLE_UPDATE (validation timestamp: 1561737088.0)
with style CHALLENGING
with validation state STYLE_UPDATE
[ERROR] [1561737053.881066]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

publishing this validated action to behaviour manager: STYLE_UPDATECHALLENGING0
received validated action: STYLE_UPDATECHALLENGING
Speed: 4.9mph
Speed: 4.4mph
session time is:  8.99714803696
programme time is:  1209.99446249
prog action duration is: 60
time remaining on that action is: 51.9998540878
Speed: 4.9mph
Speed: 4.5mph
Speed: 4.6mph
Heart rate: 96
Speed: 4.8mph
Speed: 4.7mph
Speed: 4.8mph
session time is:  9.99683189392
prog action duration is: 60
programme time is:  1210.99414635
time remaining on that action is: 51.0003471375
Heart rate: 98
Speed: 4.9mph
Speed: 9.8mph
Speed: 5.0mph
session time is:  10.9968459606
programme time is:  1211.99416041
prog action duration is: 60
time remaining on that action is: 50.0002350807
Heart rate: 101
session time is:  11.9968500137
programme time is:  1212.99416447
prog action duration is: 60
time remaining on that action is: 49.0000851154
Heart rate: 103
max reward is: 
0.984593226098
max reward is: 
0.979092128527
session time is:  12.9972820282
programme time is:  1213.99459648
prog action duration is: 60
time remaining on that action is: 47.999737978
Heart rate: 104
session time is:  13.9968509674
programme time is:  1214.99416542
prog action duration is: 60
time remaining on that action is: 47.0002360344
Heart rate: 107
Speed: 6.7mph
Speed: 0.0mph
session time is:  14.9966139793
programme time is:  1215.99392843
prog action duration is: 60
time remaining on that action is: 46.0004799366
Heart rate: 110
session time is:  15.9972701073
programme time is:  1216.99458456
prog action duration is: 60
time remaining on that action is: 44.9998760223
Heart rate: 111
max reward is: 
0.972288300055
max reward is: 
0.972288300055
1561737061.88: got validated action STYLE_UPDATE (validation timestamp: 1561737088.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
received validated action: STYLE_UPDATENEUTRAL
prog action duration is: 60
session time is:  16.9968569279
programme time is:  1217.99417138
time remaining on that action is: 44.0001981258
Heart rate: 112
Speed: 6.0mph
session time is:  17.9968559742
programme time is:  1218.99417043
prog action duration is: 60
time remaining on that action is: 43.0002739429
Speed: 5.0mph
1561737063.43: got validated action HUMOUR (validation timestamp: 1561737088.0)
with style POSITIVE
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
calling update threshold
adding a new instance to database
 adding a new instance to database
publishing this validated action to behaviour manager: HUMOURPOSITIVE0
received validated action: HUMOURPOSITIVE
session time is:  18.9968390465
programme time is:  1219.9941535
prog action duration is: 60
time remaining on that action is: 42.000287056
Heart rate: 113
Heart rate: 114
session time is:  19.9968760014
prog action duration is: 60
programme time is:  1220.99419045
time remaining on that action is: 41.0002419949
Heart rate: 114
max reward is: 
0.979463438108
max reward is: 
0.979463438108
1561737065.88: got validated action STYLE_UPDATE (validation timestamp: 1561737088.0)
with style POSITIVE
with validation state STYLE_UPDATE
publishing this proposed action to tablet: HUMOURPOSITIVE
publishing this validated action to behaviour manager: STYLE_UPDATEPOSITIVE0
session time is:  20.9972639084
programme time is:  1221.99457836
prog action duration is: 60
time remaining on that action is: 39.9998300076
Heart rate: 115
session time is:  21.9972600937
programme time is:  1222.99457455
prog action duration is: 60
time remaining on that action is: 38.9997291565
Heart rate: 116
prog action duration is: 60
session time is:  22.9968400002
programme time is:  1223.99415445
time remaining on that action is: 38.0002949238
Heart rate: 117
session time is:  23.9968760014
programme time is:  1224.99419045
prog action duration is: 60
time remaining on that action is: 37.0002491474
Heart rate: 117
received validated action: STYLE_UPDATEPOSITIVE
max reward is: 
0.980453671182
max reward is: 
0.980453671182
Speed: 5.1mph
session time is:  24.9965829849
programme time is:  1225.99389744
prog action duration is: 60
time remaining on that action is: 35.9966480732
Speed: 5.2mph
Heart rate: 118
prog action duration is: 60
session time is:  25.9972999096
programme time is:  1226.99461436
time remaining on that action is: 34.9999370575
Speed: 5.3mph
Heart rate: 118
session time is:  26.9968879223
programme time is:  1227.99420238
prog action duration is: 60
time remaining on that action is: 34.000218153
Heart rate: 118
session time is:  27.9972798824
programme time is:  1228.99459434
prog action duration is: 60
time remaining on that action is: 32.9998669624
received response to learner engagement action suggestion
1561737073.24: got validated action HUMOUR (validation timestamp: 1561737088.0)
with style POSITIVE
with validation state REFUSED
publishing a style learning action
publishing an action learning example
calling update threshold
new threshold is: 
0.96419485222
adding a new instance to database
adding a new instance to database
Heart rate: 119
max reward is: 
0.978799812188
max reward is: 
0.978799812188
session time is:  28.9972879887
prog action duration is: 60
time remaining on that action is: 31.9998300076
programme time is:  1229.99460244
Heart rate: 120
session time is:  29.9968380928
programme time is:  1230.99415255
prog action duration is: 60
time remaining on that action is: 31.0002651215
Speed: 7.3mph
Speed: 0.0mph
Heart rate: 120
session time is:  30.9972651005
programme time is:  1231.99457955
prog action duration is: 60
time remaining on that action is: 29.9997749329
Heart rate: 120
session time is:  31.9968369007
prog action duration is: 60
programme time is:  1232.99415135
time remaining on that action is: 29.0003180504
Heart rate: 120
max reward is: 
0.969094546645
max reward is: 
0.969094546645
1561737077.88: got validated action STYLE_UPDATE (validation timestamp: 1561737088.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
received validated action: STYLE_UPDATENEUTRAL
1561737078.01: got validated action MAINTAIN (validation timestamp: 1561737088.0)
with style POSITIVE
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
adding a new instance to database
 adding a new instance to database
publishing this validated action to behaviour manager: MAINTAINPOSITIVE0
session time is:  32.9968380928
programme time is:  1233.99415255
prog action duration is: 60
time remaining on that action is: 28.0002889633
Speed: 5.3mph
Heart rate: 121
received validated action: MAINTAINPOSITIVE
session time is:  33.9968628883
programme time is:  1234.99417734
prog action duration is: 60
time remaining on that action is: 27.0002369881
Heart rate: 121
session time is:  34.9963181019
programme time is:  1235.99363256
prog action duration is: 60
time remaining on that action is: 26.0008881092
Heart rate: 122
     user_id  session_number                              state_id  \
3376      MR               1  ed72fc0e-9e7c-4f88-87c7-36da9e36e93b   
3383      MR               1  a1adfa30-0d84-4a5d-ab9f-cf5e5173b9a7   
3390      MR               1  3ac6dcca-505c-4d37-8cbc-218faedc75a6   
3397      MR               1  d4f1df09-d070-4d6e-bc00-6703721b4c13   
3404      MR               1  45e64c02-460c-42ae-9e88-51a726be936e   

         timestamp                             action_id    action     style  \
3376  1561478144.0  dab1f734-5834-4552-82a4-3499fe84fedf  MAINTAIN  POSITIVE   
3383  1561478272.0  856bfbe5-0c84-41a6-9202-98219006af26  MAINTAIN  POSITIVE   
3390  1561478400.0  bd8dbe10-51b4-4548-ba99-637757cbe1c0  MAINTAIN  POSITIVE   
3397  1561478528.0  3d3bea57-464f-42ac-87e6-3ee51f92a78d  MAINTAIN  POSITIVE   
3404  1561478656.0  04212d36-7ae4-4219-adff-3c4284b3b429  MAINTAIN  POSITIVE   

     duration validation                                             speech  
3376        0    CONTROL                            Focus on your breathing  
3383        0    CONTROL  Relax your shoulders-allow your arms to swing ...  
3390        0    CONTROL                     Great work-now keep that pace!  
3397        0    CONTROL  Don't forget to listen to what your body's say...  
3404        0    CONTROL  Mirjana-take your mind where it needs to go an...  
Focus on your breathing
session time is:  35.9973049164
programme time is:  1236.99461937
prog action duration is: 60
time remaining on that action is: 24.9998760223
Heart rate: 122
max reward is: 
0.983829895043
max reward is: 
0.983829895043
1561737081.88: got validated action STYLE_UPDATE (validation timestamp: 1561737088.0)
with style POSITIVE
[ERROR] [1561737081.880440]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATEPOSITIVE0
prog action duration is: 60
time remaining on that action is: 24.0000560284
session time is:  36.9968960285
programme time is:  1237.99421048
Heart rate: 123
session time is:  37.9968369007
programme time is:  1238.99415135
prog action duration is: 60
time remaining on that action is: 23.0003759861
Heart rate: 123
session time is:  38.9968559742
programme time is:  1239.99417043
prog action duration is: 60
time remaining on that action is: 22.0002839565
Heart rate: 123
prog action duration is: 60
session time is:  39.9972670078
programme time is:  1240.99458146
time remaining on that action is: 20.9999489784
Heart rate: 124
max reward is: 
0.982450187769
max reward is: 
0.982450187769
prog action duration is: 60
time remaining on that action is: 20.0002419949
session time is:  40.9968910217
programme time is:  1241.99420547
Heart rate: 124
received validated action: STYLE_UPDATEPOSITIVE
prog action duration is: 60
time remaining on that action is: 19.0003581047
session time is:  41.9968540668
programme time is:  1242.99416852
Heart rate: 124
session time is:  42.9972670078
programme time is:  1243.99458146
prog action duration is: 60
time remaining on that action is: 17.9998049736
Heart rate: 125
session time is:  43.9968829155
programme time is:  1244.99419737
prog action duration is: 60
time remaining on that action is: 17.0001530647
Heart rate: 126
max reward is: 
0.97612296183
max reward is: 
0.97612296183
1561737089.88: got validated action STYLE_UPDATE (validation timestamp: 1561737088.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
received validated action: STYLE_UPDATENEUTRAL
prog action duration is: 60
session time is:  44.9972589016
programme time is:  1245.99457335
time remaining on that action is: 15.9999470711
Heart rate: 126
session time is:  45.9972610474
programme time is:  1246.9945755
prog action duration is: 60
time remaining on that action is: 14.99990201
Heart rate: 126
prog action duration is: 60
time remaining on that action is: 14.0003509521
session time is:  46.9968619347
programme time is:  1247.99417639
Heart rate: 128
session time is:  47.9972889423
programme time is:  1248.9946034
prog action duration is: 60
time remaining on that action is: 12.9998581409
Heart rate: 129
max reward is: 
0.976753800881
max reward is: 
0.976753800881
session time is:  48.9969370365
publishing next action: WALKNEUTRAL90
programme time is:  1249.99425149
prog action duration is: 60
time remaining on that action is: 11.9999549389
publishing this proposed action to tablet: WALKNEUTRAL
Heart rate: 129
session time is:  49.9968268871
prog action duration is: 60
programme time is:  1250.99414134
time remaining on that action is: 11.0003261566
Heart rate: 131
1561737095.92: got validated action WALK (validation timestamp: 1561737088.0)
with style NEUTRAL
with validation state REFUSED
publishing a style learning action
adding a new instance to database
session time is:  50.996860981
prog action duration is: 60
programme time is:  1251.99417543
time remaining on that action is: 10.0003070831
Heart rate: 132
session time is:  51.9968600273
prog action duration is: 60
programme time is:  1252.99417448
time remaining on that action is: 9.00026798248
Heart rate: 133
max reward is: 
0.976273233511
max reward is: 
0.976273233511
prog action duration is: 60
time remaining on that action is: 7.99993109703
session time is:  52.9972651005
programme time is:  1253.99457955
Heart rate: 133
prog action duration is: 60
session time is:  53.9968550205
programme time is:  1254.99416947
time remaining on that action is: 7.00030493736
Heart rate: 134
prog action duration is: 60
session time is:  54.9968640804
programme time is:  1255.99417853
time remaining on that action is: 6.00038599968
Heart rate: 135
prog action duration is: 60
session time is:  55.9968650341
programme time is:  1256.99417949
time remaining on that action is: 5.00028705597
Heart rate: 136
max reward is: 
0.966856641447
max reward is: 
0.966856641447
got a learner suggestion but the tablet is busy so won't queue
session time is:  56.9968700409
prog action duration is: 60
time remaining on that action is: 4.00010609627
programme time is:  1257.99418449
Heart rate: 137
prog action duration is: 60
session time is:  57.9973108768
programme time is:  1258.99462533
time remaining on that action is: 2.99984407425
Heart rate: 138
session time is:  58.9963951111
programme time is:  1259.99370956
prog action duration is: 60
time remaining on that action is: 2.00063610077
Heart rate: 138
session time is:  59.9970788956
prog action duration is: 60
programme time is:  1260.99439335
time remaining on that action is: 0.999895095825
received response to styled programme suggestion
1561737105.26: got validated action WALK (validation timestamp: 1561737088.0)
with style POSITIVE
with validation state PASSIVE_ACCEPTED
publishing a style learning action
adding programme action to validated action queue
adding a new instance to database
publishing this validated action to behaviour manager: WALKPOSITIVE90
received validated action: WALKPOSITIVE
Heart rate: 139
max reward is: 
0.977336567291
max reward is: 
0.974318214992
participant should now be in WALK
session time is:  60.9968440533
prog action duration is: 90.0
programme time is:  1261.99415851
time remaining on that action is: 89.9998409748
Heart rate: 140
prog action duration is: 90.0
time remaining on that action is: 88.9976398945
session time is:  61.9995229244
programme time is:  1262.99683738
Heart rate: 140
session time is:  62.9968340397
programme time is:  1263.99414849
prog action duration is: 90.0
time remaining on that action is: 88.0002310276
Heart rate: 141
session time is:  63.9969069958
programme time is:  1264.99422145
prog action duration is: 90.0
time remaining on that action is: 87.0002799034
Heart rate: 141
max reward is: 
0.982625893919
max reward is: 
0.982625893919
[ERROR] [1561737109.880757]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

1561737109.88: got validated action STYLE_UPDATE (validation timestamp: 1561737088.0)
with style POSITIVE
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATEPOSITIVE0
Speed: 5.2mph
session time is:  64.9969060421
programme time is:  1265.9942205
prog action duration is: 90.0
time remaining on that action is: 86.0000898838
Heart rate: 141
Speed: 5.1mph
Speed: 5.0mph
session time is:  65.9968559742
programme time is:  1266.99417043
prog action duration is: 90.0
time remaining on that action is: 85.0002000332
Speed: 9.8mph
Speed: 4.9mph
Speed: 4.8mph
Heart rate: 142
Speed: 4.7mph
Speed: 4.6mph
session time is:  66.9972989559
programme time is:  1267.99461341
prog action duration is: 90.0
time remaining on that action is: 83.9998419285
received validated action: STYLE_UPDATEPOSITIVE
Speed: 4.5mph
Speed: 4.9mph
Heart rate: 143
Speed: 4.4mph
Speed: 4.3mph
session time is:  67.9968409538
programme time is:  1268.99415541
prog action duration is: 90.0
time remaining on that action is: 83.0002360344
Speed: 4.2mph
Heart rate: 142
Speed: 4.1mph
max reward is: 
0.990278718381
max reward is: 
0.990278718381
Speed: 4.0mph
session time is:  68.9968600273
programme time is:  1269.99417448
prog action duration is: 90.0
time remaining on that action is: 82.0003209114
Speed: 9.8mph
Speed: 3.9mph
Heart rate: 143
Speed: 3.8mph
Speed: 3.7mph
session time is:  69.9968659878
programme time is:  1270.99418044
prog action duration is: 90.0
time remaining on that action is: 81.0002009869
Heart rate: 143
Speed: 3.8mph
Speed: 3.6mph
session time is:  70.9968490601
programme time is:  1271.99416351
prog action duration is: 90.0
time remaining on that action is: 80.0001480579
Heart rate: 143
session time is:  71.9968469143
prog action duration is: 90.0
time remaining on that action is: 79.000232935
programme time is:  1272.99416137
Heart rate: 143
max reward is: 
0.991230713495
max reward is: 
0.991230713495
session time is:  72.9968650341
programme time is:  1273.99417949
prog action duration is: 90.0
time remaining on that action is: 78.0001828671
Heart rate: 143
session time is:  73.9968519211
prog action duration is: 90.0
time remaining on that action is: 77.0002200603
programme time is:  1274.99416637
Heart rate: 143
Speed: 2.8mph
Speed: 0.0mph
session time is:  74.9968600273
programme time is:  1275.99417448
prog action duration is: 90.0
time remaining on that action is: 76.0000429153
Heart rate: 142
prog action duration is: 90.0
session time is:  75.9968318939
programme time is:  1276.99414635
time remaining on that action is: 75.0004498959
max reward is: 
0.984851856673
max reward is: 
0.984851856673
[ERROR] [1561737121.880386]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

Heart rate: 142
session time is:  76.9964020252
programme time is:  1277.99371648
prog action duration is: 90.0
time remaining on that action is: 74.0008060932
Heart rate: 141
Speed: 3.6mph
session time is:  77.9962949753
programme time is:  1278.99360943
prog action duration is: 90.0
time remaining on that action is: 73.0008459091
Heart rate: 140
session time is:  78.9968559742
programme time is:  1279.99417043
prog action duration is: 90.0
time remaining on that action is: 72.0003399849
Heart rate: 140
session time is:  79.9972600937
prog action duration is: 90.0
programme time is:  1280.99457455
time remaining on that action is: 70.9999859333
Heart rate: 139
max reward is: 
0.990191665137
max reward is: 
0.990191665137
session time is:  80.9963929653
programme time is:  1281.99370742
prog action duration is: 90.0
time remaining on that action is: 70.0008080006
Heart rate: 139
prog action duration is: 90.0
session time is:  81.9972689152
programme time is:  1282.99458337
time remaining on that action is: 68.9999990463
Heart rate: 138
session time is:  82.9968540668
programme time is:  1283.99416852
prog action duration is: 90.0
time remaining on that action is: 68.0002989769
Heart rate: 138
session time is:  83.9968440533
prog action duration is: 90.0
programme time is:  1284.99415851
time remaining on that action is: 67.0003528595
Heart rate: 137
max reward is: 
0.987744577972
max reward is: 
0.987744577972
session time is:  84.9968659878
programme time is:  1285.99418044
prog action duration is: 90.0
time remaining on that action is: 66.0002710819
Heart rate: 137
session time is:  85.9972999096
programme time is:  1286.99461436
prog action duration is: 90.0
time remaining on that action is: 64.9998860359
Heart rate: 136
session time is:  86.996958971
programme time is:  1287.99427342
prog action duration is: 90.0
time remaining on that action is: 64.0000519753
Heart rate: 136
session time is:  87.9968619347
prog action duration is: 90.0
programme time is:  1288.99417639
time remaining on that action is: 63.0003569126
Heart rate: 135
max reward is: 
0.98517119221
max reward is: 
0.98517119221
publishing this proposed action to tablet: MAINTAINPOSITIVE
prog action duration is: 90.0
session time is:  88.9973258972
programme time is:  1289.99464035
time remaining on that action is: 61.9998779297
Heart rate: 134
session time is:  89.996860981
programme time is:  1290.99417543
prog action duration is: 90.0
time remaining on that action is: 61.0001299381
Heart rate: 133
prog action duration is: 90.0
session time is:  90.9963819981
programme time is:  1291.99369645
time remaining on that action is: 60.0008289814
Heart rate: 132
received response to learner engagement action suggestion
1561737136.94: got validated action MAINTAIN (validation timestamp: 1561737088.0)
with style POSITIVE
with validation state VALIDATED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
adding a new instance to database
adding a new instance to database
publishing this validated action to behaviour manager: MAINTAINPOSITIVE0
received validated action: MAINTAINPOSITIVE
prog action duration is: 90.0
session time is:  91.9968590736
programme time is:  1292.99417353
time remaining on that action is: 59.0003938675
Heart rate: 130
max reward is: 
0.9968724441
max reward is: 
0.9968724441
session time is:  92.9968440533
programme time is:  1293.99415851
prog action duration is: 90.0
time remaining on that action is: 58.0002400875
Heart rate: 130
     user_id  session_number                              state_id  \
3376      MR               1  ed72fc0e-9e7c-4f88-87c7-36da9e36e93b   
3383      MR               1  a1adfa30-0d84-4a5d-ab9f-cf5e5173b9a7   
3390      MR               1  3ac6dcca-505c-4d37-8cbc-218faedc75a6   
3397      MR               1  d4f1df09-d070-4d6e-bc00-6703721b4c13   
3404      MR               1  45e64c02-460c-42ae-9e88-51a726be936e   

         timestamp                             action_id    action     style  \
3376  1561478144.0  dab1f734-5834-4552-82a4-3499fe84fedf  MAINTAIN  POSITIVE   
3383  1561478272.0  856bfbe5-0c84-41a6-9202-98219006af26  MAINTAIN  POSITIVE   
3390  1561478400.0  bd8dbe10-51b4-4548-ba99-637757cbe1c0  MAINTAIN  POSITIVE   
3397  1561478528.0  3d3bea57-464f-42ac-87e6-3ee51f92a78d  MAINTAIN  POSITIVE   
3404  1561478656.0  04212d36-7ae4-4219-adff-3c4284b3b429  MAINTAIN  POSITIVE   

     duration validation                                             speech  
3376        0    CONTROL                            Focus on your breathing  
3383        0    CONTROL  Relax your shoulders-allow your arms to swing ...  
3390        0    CONTROL                     Great work-now keep that pace!  
3397        0    CONTROL  Don't forget to listen to what your body's say...  
3404        0    CONTROL  Mirjana-take your mind where it needs to go an...  
Relax your shoulders, allow your arms to swing naturally with the motion
session time is:  93.9968669415
programme time is:  1294.99418139
prog action duration is: 90.0
time remaining on that action is: 57.0002629757
Heart rate: 129
session time is:  94.996336937
programme time is:  1295.99365139
prog action duration is: 90.0
time remaining on that action is: 56.0007748604
Heart rate: 128
session time is:  95.9973180294
programme time is:  1296.99463248
prog action duration is: 90.0
time remaining on that action is: 54.9999239445
Heart rate: 127
max reward is: 
0.989481184226
max reward is: 
0.989481184226
prog action duration is: 90.0
session time is:  96.9972839355
programme time is:  1297.99459839
time remaining on that action is: 53.9999399185
Heart rate: 126
prog action duration is: 90.0
time remaining on that action is: 53.0003790855
session time is:  97.9968719482
programme time is:  1298.9941864
Heart rate: 126
session time is:  98.9972929955
programme time is:  1299.99460745
prog action duration is: 90.0
time remaining on that action is: 51.99979496
Heart rate: 125
session time is:  99.9968349934
prog action duration is: 90.0
programme time is:  1300.99414945
time remaining on that action is: 51.0003550053
Heart rate: 125
max reward is: 
0.984522918496
max reward is: 
0.982919856347
[ERROR] [1561737145.880383]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

session time is:  100.996869087
prog action duration is: 90.0
time remaining on that action is: 50.0003130436
programme time is:  1301.99418354
Heart rate: 124
session time is:  101.996840954
programme time is:  1302.99415541
prog action duration is: 90.0
time remaining on that action is: 49.0002810955
Heart rate: 123
session time is:  102.99732399
programme time is:  1303.99463844
prog action duration is: 90.0
time remaining on that action is: 47.9997479916
Heart rate: 122
session time is:  103.996865988
programme time is:  1304.99418044
prog action duration is: 90.0
time remaining on that action is: 47.0002810955
Heart rate: 121
max reward is: 
0.990263047425
max reward is: 
0.981658379105
session time is:  104.997293949
programme time is:  1305.9946084
prog action duration is: 90.0
time remaining on that action is: 45.9998629093
Heart rate: 120
session time is:  105.996870995
programme time is:  1306.99418545
prog action duration is: 90.0
time remaining on that action is: 45.0003550053
Heart rate: 120
prog action duration is: 90.0
session time is:  106.996870995
programme time is:  1307.99418545
time remaining on that action is: 44.0002570152
Heart rate: 120
session time is:  107.996423006
programme time is:  1308.99373746
prog action duration is: 90.0
time remaining on that action is: 43.0007240772
Heart rate: 120
max reward is: 
0.992398659877
max reward is: 
0.980591251025
publishing this proposed action to tablet: MAINTAINPOSITIVE
session time is:  108.997284889
programme time is:  1309.99459934
prog action duration is: 90.0
time remaining on that action is: 41.9999148846
Heart rate: 120
prog action duration is: 90.0
time remaining on that action is: 40.9998569489
session time is:  109.997318983
programme time is:  1310.99463344
Heart rate: 119
prog action duration is: 90.0
time remaining on that action is: 40.0002720356
session time is:  110.996978998
programme time is:  1311.99429345
received response to learner engagement action suggestion
1561737156.41: got validated action MAINTAIN (validation timestamp: 1561737216.0)
with style POSITIVE
with validation state REFUSED
publishing a style learning action
publishing an action learning example
adding a new instance to database
 adding a new instance to database
Heart rate: 120
session time is:  111.996890068
programme time is:  1312.99420452
prog action duration is: 90.0
time remaining on that action is: 39.0002069473
Heart rate: 120
max reward is: 
0.990075359315
max reward is: 
0.980639240252
prog action duration is: 90.0
session time is:  112.996853113
programme time is:  1313.99416757
time remaining on that action is: 38.0003480911
Heart rate: 120
prog action duration is: 90.0
time remaining on that action is: 37.0008108616
session time is:  113.996371984
programme time is:  1314.99368644
Heart rate: 119
session time is:  114.996848106
programme time is:  1315.99416256
prog action duration is: 90.0
time remaining on that action is: 36.0003070831
Heart rate: 118
prog action duration is: 90.0
time remaining on that action is: 35.000371933
session time is:  115.996880054
programme time is:  1316.99419451
Heart rate: 117
max reward is: 
0.991594631571
max reward is: 
0.983273332337
[ERROR] [1561737161.879749]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

session time is:  116.996398926
programme time is:  1317.99371338
prog action duration is: 90.0
time remaining on that action is: 34.0007200241
Heart rate: 116
prog action duration is: 90.0
session time is:  117.996855974
programme time is:  1318.99417043
time remaining on that action is: 33.0001468658
Heart rate: 116
prog action duration is: 90.0
session time is:  118.996871948
programme time is:  1319.9941864
time remaining on that action is: 32.0003199577
Heart rate: 115
session time is:  119.997287989
prog action duration is: 90.0
programme time is:  1320.99460244
time remaining on that action is: 30.9998710155
Heart rate: 115
max reward is: 
0.988100727514
max reward is: 
0.983683211623
session time is:  120.996850014
prog action duration is: 90.0
time remaining on that action is: 30.0000650883
programme time is:  1321.99416447
session time is:  121.996845961
prog action duration is: 90.0
programme time is:  1322.99416041
time remaining on that action is: 29.0003669262
Heart rate: 115
Heart rate: 114
session time is:  122.996860027
programme time is:  1323.99417448
prog action duration is: 90.0
time remaining on that action is: 28.0003240108
Heart rate: 115
prog action duration is: 90.0
session time is:  123.996408939
programme time is:  1324.99372339
time remaining on that action is: 27.0007789135
Heart rate: 115
max reward is: 
0.985065087563
max reward is: 
0.984729025961
session time is:  124.99684906
prog action duration is: 90.0
time remaining on that action is: 26.0003819466
programme time is:  1325.99416351
Heart rate: 114
session time is:  125.996850014
prog action duration is: 90.0
programme time is:  1326.99416447
time remaining on that action is: 25.0002138615
Heart rate: 114
session time is:  126.996887922
programme time is:  1327.99420238
prog action duration is: 90.0
time remaining on that action is: 24.0000870228
Heart rate: 115
session time is:  127.996853113
prog action duration is: 90.0
programme time is:  1328.99416757
time remaining on that action is: 23.000164032
Heart rate: 116
max reward is: 
0.989823796865
max reward is: 
0.989823796865
[ERROR] [1561737173.880479]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

session time is:  128.996854067
programme time is:  1329.99416852
prog action duration is: 90.0
time remaining on that action is: 22.0002319813
Heart rate: 117
session time is:  129.996854067
prog action duration is: 90.0
programme time is:  1330.99416852
time remaining on that action is: 21.0002739429
Heart rate: 117
session time is:  130.996850967
programme time is:  1331.99416542
prog action duration is: 90.0
time remaining on that action is: 20.0002689362
Heart rate: 116
session time is:  131.996855974
programme time is:  1332.99417043
prog action duration is: 90.0
time remaining on that action is: 19.0002350807
Heart rate: 116
max reward is: 
0.986633771866
max reward is: 
0.987876134215
session time is:  132.997287035
prog action duration is: 90.0
programme time is:  1333.99460149
time remaining on that action is: 17.9999539852
Heart rate: 114
session time is:  133.9968431
prog action duration is: 90.0
time remaining on that action is: 17.000262022
programme time is:  1334.99415755
Heart rate: 112
prog action duration is: 90.0
time remaining on that action is: 16.0003609657
session time is:  134.996855021
programme time is:  1335.99416947
Heart rate: 111
session time is:  135.996412992
prog action duration is: 90.0
programme time is:  1336.99372745
time remaining on that action is: 15.000756979
1561737181.37: got validated action CHALLENGE (validation timestamp: 1561737216.0)
with style CHALLENGING
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
calling update threshold
adding a new instance to database
publishing an action learning example
calling update threshold
adding a new instance to database
publishing this validated action to behaviour manager: CHALLENGECHALLENGING0
received validated action: CHALLENGECHALLENGING
Heart rate: 109
max reward is: 
0.99661777634
max reward is: 
0.99661777634
got duplicate learner suggestion too quickly - won't suggest
1561737181.88: got validated action STYLE_UPDATE (validation timestamp: 1561737216.0)
with style CHALLENGING
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATECHALLENGING0
prog action duration is: 90.0
session time is:  136.996845961
programme time is:  1337.99416041
time remaining on that action is: 14.0002739429
Heart rate: 109
session time is:  137.996856928
prog action duration is: 90.0
programme time is:  1338.99417138
time remaining on that action is: 13.0002169609
     user_id  session_number                              state_id  \
3379      MR               1  40105a69-c16d-4a55-988d-bc4705dfe4a9   

         timestamp                             action_id     action  \
3379  1561478144.0  a9106bfd-36a0-4e0a-893f-d11b3ace6790  CHALLENGE   

            style duration validation  \
3379  CHALLENGING        0    CONTROL   

                                             speech  
3379  Come on Mirjana show me what you're made of!!  
Come on Mirjana show me what you're made of!!
Heart rate: 110
session time is:  138.996851921
programme time is:  1339.99416637
publishing next action: RUNNEUTRAL60
prog action duration is: 90.0
time remaining on that action is: 12.0000050068
publishing this proposed action to tablet: RUNCHALLENGING
Heart rate: 110
session time is:  139.996856928
programme time is:  1340.99417138
prog action duration is: 90.0
time remaining on that action is: 11.0000660419
Heart rate: 109
max reward is: 
0.985452282262
max reward is: 
0.98949653089
session time is:  140.996851921
programme time is:  1341.99416637
prog action duration is: 90.0
time remaining on that action is: 10.0002748966
Heart rate: 109
session time is:  141.996867895
programme time is:  1342.99418235
prog action duration is: 90.0
time remaining on that action is: 9.00022888184
Heart rate: 108
session time is:  142.996865988
prog action duration is: 90.0
programme time is:  1343.99418044
time remaining on that action is: 8.00006198883
received validated action: STYLE_UPDATECHALLENGING
Heart rate: 108
session time is:  143.996861935
programme time is:  1344.99417639
prog action duration is: 90.0
time remaining on that action is: 7.00025105476
Heart rate: 108
max reward is: 
0.979650497636
max reward is: 
0.974075942691
got a learner suggestion but the tablet is busy so won't queue
1561737189.88: got validated action STYLE_UPDATE (validation timestamp: 1561737216.0)
with style POSITIVE
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATEPOSITIVE0
received validated action: STYLE_UPDATEPOSITIVE
session time is:  144.996876955
programme time is:  1345.99419141
prog action duration is: 90.0
time remaining on that action is: 6.00023698807
Heart rate: 108
session time is:  145.996861935
prog action duration is: 90.0
programme time is:  1346.99417639
time remaining on that action is: 5.00021600723
Heart rate: 108
session time is:  146.996867895
prog action duration is: 90.0
programme time is:  1347.99418235
time remaining on that action is: 4.00034403801
Heart rate: 108
session time is:  147.996882915
prog action duration is: 90.0
programme time is:  1348.99419737
time remaining on that action is: 3.00027394295
Heart rate: 108
max reward is: 
0.979325384269
max reward is: 
0.974949120269
session time is:  148.997287989
programme time is:  1349.99460244
prog action duration is: 90.0
time remaining on that action is: 1.99994087219
Heart rate: 107
prog action duration is: 90.0
session time is:  149.996887922
programme time is:  1350.99420238
time remaining on that action is: 1.00034594536
received response to styled programme suggestion
1561737195.25: got validated action RUN (validation timestamp: 1561737216.0)
with style CHALLENGING
with validation state VALIDATED
publishing a style learning action
adding programme action to validated action queue
calling update threshold
new threshold is: 
0.978254848728
adding a new instance to database
publishing this validated action to behaviour manager: RUNCHALLENGING60
received validated action: RUNCHALLENGING
Heart rate: 108
session time is:  150.997287989
programme time is:  1351.99460244
participant should now be in RUN
prog action duration is: 60.0
time remaining on that action is: 59.9998600483
Heart rate: 108
session time is:  151.99683404
programme time is:  1352.99414849
prog action duration is: 60.0
time remaining on that action is: 59.0006389618
Heart rate: 107
max reward is: 
0.978094441846
max reward is: 
0.9754949066
1561737197.88: got validated action STYLE_UPDATE (validation timestamp: 1561737216.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
prog action duration is: 60.0
session time is:  152.997288942
programme time is:  1353.9946034
time remaining on that action is: 58.0002028942
Heart rate: 104
prog action duration is: 60.0
session time is:  153.996865034
programme time is:  1354.99417949
time remaining on that action is: 57.0005898476
Heart rate: 103
session time is:  154.997112036
programme time is:  1355.99442649
prog action duration is: 60.0
time remaining on that action is: 56.0002288818
Heart rate: 103
session time is:  155.99683094
programme time is:  1356.99414539
prog action duration is: 60.0
time remaining on that action is: 55.0004918575
Heart rate: 103
max reward is: 
0.984142029942
max reward is: 
0.984142029942
1561737201.88: got validated action STYLE_UPDATE (validation timestamp: 1561737216.0)
with style POSITIVE
with validation state STYLE_UPDATE
[ERROR] [1561737201.881434]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

publishing this validated action to behaviour manager: STYLE_UPDATEPOSITIVE0
session time is:  156.997294903
prog action duration is: 60.0
programme time is:  1357.99460936
time remaining on that action is: 54.0001940727
Heart rate: 104
Speed: 3.8mph
Speed: 3.7mph
session time is:  157.996537924
programme time is:  1358.99385238
prog action duration is: 60.0
time remaining on that action is: 53.000784874
Speed: 3.8mph
Heart rate: 105
Speed: 3.9mph
Speed: 4.0mph
Speed: 4.1mph
session time is:  158.996870041
prog action duration is: 60.0
programme time is:  1359.99418449
time remaining on that action is: 52.0005919933
Speed: 4.2mph
Speed: 4.3mph
Heart rate: 106
Speed: 4.9mph
Speed: 4.4mph
Speed: 4.9mph
Speed: 4.5mph
Speed: 4.6mph
prog action duration is: 60.0
session time is:  159.997114897
programme time is:  1360.99442935
time remaining on that action is: 51.000412941
Speed: 4.7mph
received validated action: STYLE_UPDATENEUTRAL
Speed: 4.8mph
Heart rate: 107
max reward is: 
0.982946058911
max reward is: 
0.982364015293
1561737205.88: got validated action STYLE_UPDATE (validation timestamp: 1561737216.0)
with style CHALLENGING
with validation state STYLE_UPDATE
publishing this proposed action to tablet: CHALLENGECHALLENGING
publishing this validated action to behaviour manager: STYLE_UPDATECHALLENGING0
Speed: 4.9mph
Speed: 9.8mph
Speed: 5.1mph
session time is:  160.997309923
prog action duration is: 60.0
programme time is:  1361.99462438
time remaining on that action is: 50.000223875
Speed: 5.7mph
Speed: 5.2mph
Heart rate: 108
Speed: 5.3mph
received validated action: STYLE_UPDATEPOSITIVE
Speed: 5.4mph
session time is:  161.996869087
prog action duration is: 60.0
programme time is:  1362.99418354
time remaining on that action is: 49.0005440712
Speed: 5.9mph
Speed: 5.5mph
Heart rate: 109
session time is:  162.9972651
programme time is:  1363.99457955
prog action duration is: 60.0
time remaining on that action is: 48.0001749992
received validated action: STYLE_UPDATECHALLENGING
Heart rate: 112
session time is:  163.99684
programme time is:  1364.99415445
prog action duration is: 60.0
time remaining on that action is: 47.0005638599
Heart rate: 114
max reward is: 
0.983965474936
max reward is: 
0.98221090866
got a learner suggestion but the tablet is busy so won't queue
prog action duration is: 60.0
time remaining on that action is: 46.0006439686
session time is:  164.996839046
programme time is:  1365.9941535
Heart rate: 116
session time is:  165.99684906
prog action duration is: 60.0
time remaining on that action is: 45.0005569458
programme time is:  1366.99416351
Speed: 9.9mph
Speed: 0.0mph
Heart rate: 117
session time is:  166.996877909
prog action duration is: 60.0
time remaining on that action is: 44.0004198551
programme time is:  1367.99419236
Heart rate: 118
session time is:  167.996882915
prog action duration is: 60.0
programme time is:  1368.99419737
time remaining on that action is: 43.000385046
Heart rate: 119
max reward is: 
0.976498278954
max reward is: 
0.976498278954
1561737213.88: got validated action STYLE_UPDATE (validation timestamp: 1561737216.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
received validated action: STYLE_UPDATENEUTRAL
received response to learner engagement action suggestion
1561737213.94: got validated action CHALLENGE (validation timestamp: 1561737216.0)
with style CHALLENGING
with validation state REFUSED
publishing a style learning action
publishing an action learning example
calling update threshold
calling update threshold
new threshold is: 
0.967869062435
adding a new instance to database
 new threshold is: 
0.979117059641
adding a new instance to database
session time is:  168.996879101
programme time is:  1369.99419355
prog action duration is: 60.0
time remaining on that action is: 42.00050807
Heart rate: 121
Speed: 9.9mph
Speed: 5.5mph
session time is:  169.997284889
programme time is:  1370.99459934
prog action duration is: 60.0
time remaining on that action is: 41.0001950264
Heart rate: 122
session time is:  170.997282982
programme time is:  1371.99459743
prog action duration is: 60.0
time remaining on that action is: 40.0001158714
1561737216.77: got validated action CHALLENGE (validation timestamp: 1561737216.0)
with style SYMPATHETIC
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
adding a new instance to database
calling update threshold
adding a new instance to database
publishing this validated action to behaviour manager: CHALLENGESYMPATHETIC0
received validated action: CHALLENGESYMPATHETIC
session time is:  171.997267008
prog action duration is: 60.0
programme time is:  1372.99458146
time remaining on that action is: 39.0001869202
Heart rate: 122
Heart rate: 122
max reward is: 
0.99421913437
max reward is: 
0.99421913437
got duplicate learner suggestion too quickly - won't suggest
1561737217.88: got validated action STYLE_UPDATE (validation timestamp: 1561737216.0)
with style SYMPATHETIC
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATESYMPATHETIC0
session time is:  172.996912956
prog action duration is: 60.0
time remaining on that action is: 38.0005469322
programme time is:  1373.99422741
Heart rate: 123
prog action duration is: 60.0
session time is:  173.99689889
programme time is:  1374.99421334
time remaining on that action is: 37.0003960133
Heart rate: 124
prog action duration is: 60.0
session time is:  174.996854067
programme time is:  1375.99416852
time remaining on that action is: 36.0003938675
Heart rate: 125
session time is:  175.996949911
prog action duration is: 60.0
programme time is:  1376.99426436
time remaining on that action is: 35.0004069805
Heart rate: 125
max reward is: 
0.989529891339
max reward is: 
0.989529891339
publishing this proposed action to tablet: SYMPATHISESYMPATHETIC
session time is:  176.996846914
programme time is:  1377.99416137
prog action duration is: 60.0
time remaining on that action is: 34.0005300045
Heart rate: 127
received validated action: STYLE_UPDATESYMPATHETIC
session time is:  177.996432066
programme time is:  1378.99374652
prog action duration is: 60.0
time remaining on that action is: 33.0010778904
Heart rate: 127
session time is:  178.997282982
prog action duration is: 60.0
programme time is:  1379.99459743
time remaining on that action is: 32.0001659393
Heart rate: 128
received response to learner engagement action suggestion
1561737224.92: got validated action SYMPATHISE (validation timestamp: 1561737216.0)
with style SYMPATHETIC
with validation state REFUSED
publishing a style learning action
publishing an action learning example
adding a new instance to database
calling update threshold
new threshold is: 
0.971895333983
adding a new instance to database
session time is:  179.996340036
programme time is:  1380.99365449
prog action duration is: 60.0
time remaining on that action is: 31.0011339188
Heart rate: 129
max reward is: 
0.987855928302
max reward is: 
0.987855928302
session time is:  180.997272015
prog action duration is: 60.0
programme time is:  1381.99458647
time remaining on that action is: 30.0000748634
Heart rate: 130
session time is:  181.996855021
programme time is:  1382.99416947
prog action duration is: 60.0
time remaining on that action is: 29.0005788803
Heart rate: 130
session time is:  182.996884108
programme time is:  1383.99419856
prog action duration is: 60.0
time remaining on that action is: 28.0004110336
Heart rate: 131
session time is:  183.997287035
programme time is:  1384.99460149
prog action duration is: 60.0
time remaining on that action is: 27.0001649857
Heart rate: 133
max reward is: 
0.981356708874
max reward is: 
0.981356708874
session time is:  184.997291088
programme time is:  1385.99460554
prog action duration is: 60.0
time remaining on that action is: 25.9999489784
Heart rate: 133
session time is:  185.997293949
programme time is:  1386.9946084
prog action duration is: 60.0
time remaining on that action is: 24.9998879433
Heart rate: 134
session time is:  186.996838093
programme time is:  1387.99415255
prog action duration is: 60.0
time remaining on that action is: 24.0004689693
Heart rate: 134
prog action duration is: 60.0
session time is:  187.9968431
programme time is:  1388.99415755
time remaining on that action is: 23.0003950596
Heart rate: 134
max reward is: 
0.984800791097
max reward is: 
0.984800791097
publishing this proposed action to tablet: CHALLENGESYMPATHETIC
session time is:  188.996857882
prog action duration is: 60.0
programme time is:  1389.99417233
time remaining on that action is: 22.0003550053
Heart rate: 134
session time is:  189.997272015
programme time is:  1390.99458647
prog action duration is: 60.0
time remaining on that action is: 21.0000669956
Heart rate: 134
session time is:  190.997274876
prog action duration is: 60.0
time remaining on that action is: 20.0001339912
programme time is:  1391.99458933
Heart rate: 135
session time is:  191.997294903
programme time is:  1392.99460936
prog action duration is: 60.0
time remaining on that action is: 19.0001900196
Heart rate: 135
max reward is: 
0.981805113827
max reward is: 
0.981805113827
1561737237.88: got validated action STYLE_UPDATE (validation timestamp: 1561737216.0)
with style POSITIVE
with validation state STYLE_UPDATE
 got a learner suggestion but the tablet is busy so won't queue
publishing this validated action to behaviour manager: STYLE_UPDATEPOSITIVE0
received validated action: STYLE_UPDATEPOSITIVE
received response to learner engagement action suggestion
1561737238.01: got validated action CHALLENGE (validation timestamp: 1561737216.0)
with style SYMPATHETIC
with validation state REFUSED
publishing a style learning action
publishing an action learning example
adding a new instance to database
calling update threshold
new threshold is: 
0.973606464781
adding a new instance to database
session time is:  192.996844053
programme time is:  1393.99415851
prog action duration is: 60.0
time remaining on that action is: 18.0006818771
Heart rate: 136
session time is:  193.996838093
programme time is:  1394.99415255
prog action duration is: 60.0
time remaining on that action is: 17.0005879402
Heart rate: 136
prog action duration is: 60.0
session time is:  194.996403933
programme time is:  1395.99371839
time remaining on that action is: 16.0011339188
Heart rate: 137
session time is:  195.997091055
programme time is:  1396.99440551
prog action duration is: 60.0
time remaining on that action is: 15.0004160404
Heart rate: 137
max reward is: 
0.980864963678
max reward is: 
0.980864963678
prog action duration is: 60.0
session time is:  196.996867895
programme time is:  1397.99418235
time remaining on that action is: 14.0005569458
Heart rate: 138
session time is:  197.997292042
programme time is:  1398.99460649
prog action duration is: 60.0
time remaining on that action is: 13.0001270771
Heart rate: 139
publishing next action: WALKNEUTRAL90
prog action duration is: 60.0
session time is:  198.996876001
time remaining on that action is: 12.0005309582
programme time is:  1399.99419045
publishing this proposed action to tablet: WALKPOSITIVE
Heart rate: 140
session time is:  199.997302055
prog action duration is: 60.0
time remaining on that action is: 11.0002000332
programme time is:  1400.99461651
Heart rate: 140
max reward is: 
0.979863371164
max reward is: 
0.979863371164
got a learner suggestion but the tablet is busy so won't queue
session time is:  200.996860027
programme time is:  1401.99417448
prog action duration is: 60.0
time remaining on that action is: 10.0006558895
Heart rate: 142
session time is:  201.996872902
prog action duration is: 60.0
time remaining on that action is: 9.00045490265
programme time is:  1402.99418736
Heart rate: 143
prog action duration is: 60.0
session time is:  202.997287989
programme time is:  1403.99460244
time remaining on that action is: 8.00020503998
Heart rate: 144
prog action duration is: 60.0
session time is:  203.996845961
programme time is:  1404.99416041
time remaining on that action is: 7.00067687035
Heart rate: 144
max reward is: 
0.978148893727
max reward is: 
0.978148893727
1561737249.88: got validated action STYLE_UPDATE (validation timestamp: 1561737216.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
received validated action: STYLE_UPDATENEUTRAL
prog action duration is: 60.0
time remaining on that action is: 6.00017690659
session time is:  204.997298956
programme time is:  1405.99461341
Heart rate: 146
session time is:  205.997203112
prog action duration is: 60.0
programme time is:  1406.99451756
time remaining on that action is: 5.0001809597
Heart rate: 146
prog action duration is: 60.0
time remaining on that action is: 4.00086188316
session time is:  206.996582985
programme time is:  1407.99389744
Heart rate: 146
session time is:  207.997272968
programme time is:  1408.99458742
prog action duration is: 60.0
time remaining on that action is: 3.00011301041
Heart rate: 147
max reward is: 
0.980121095753
max reward is: 
0.980121095753
1561737253.88: got validated action STYLE_UPDATE (validation timestamp: 1561737216.0)
with style POSITIVE
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATEPOSITIVE0
received validated action: STYLE_UPDATEPOSITIVE
session time is:  208.996871948
prog action duration is: 60.0
programme time is:  1409.9941864
time remaining on that action is: 2.00061607361
Heart rate: 147
prog action duration is: 60.0
time remaining on that action is: 1.00063991547
session time is:  209.996846914
programme time is:  1410.99416137
received response to styled programme suggestion
1561737255.26: got validated action WALK (validation timestamp: 1561737216.0)
with style POSITIVE
with validation state VALIDATED
publishing a style learning action
adding programme action to validated action queue
adding a new instance to database
publishing this validated action to behaviour manager: WALKPOSITIVE90
Heart rate: 148
received validated action: WALKPOSITIVE
participant should now be in WALK
prog action duration is: 90.0
session time is:  210.997291088
programme time is:  1411.99460554
time remaining on that action is: 89.9998319149
Heart rate: 148
prog action duration is: 90.0
session time is:  211.996850014
programme time is:  1412.99416447
time remaining on that action is: 89.0003099442
Heart rate: 148
max reward is: 
0.98084922358
max reward is: 
0.98084922358
[ERROR] [1561737257.880545]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

session time is:  212.996848106
prog action duration is: 90.0
programme time is:  1413.99416256
time remaining on that action is: 88.000235796
Heart rate: 149
prog action duration is: 90.0
session time is:  213.996839046
programme time is:  1414.9941535
time remaining on that action is: 87.0003688335
Heart rate: 150
session time is:  214.996846914
programme time is:  1415.99416137
prog action duration is: 90.0
time remaining on that action is: 86.0002307892
Heart rate: 150
session time is:  215.997283936
programme time is:  1416.99459839
prog action duration is: 90.0
time remaining on that action is: 84.9999258518
Heart rate: 150
max reward is: 
0.978631369966
max reward is: 
0.978631369966
1561737261.88: got validated action STYLE_UPDATE (validation timestamp: 1561737216.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
session time is:  216.997273922
programme time is:  1417.99458838
prog action duration is: 90.0
time remaining on that action is: 83.9998128414
Heart rate: 150
session time is:  217.996866941
prog action duration is: 90.0
programme time is:  1418.99418139
time remaining on that action is: 83.0002219677
received validated action: STYLE_UPDATENEUTRAL
Heart rate: 150
session time is:  218.996846914
programme time is:  1419.99416137
prog action duration is: 90.0
time remaining on that action is: 82.0001959801
Heart rate: 150
Speed: 5.9mph
Speed: 5.4mph
Speed: 5.9mph
Speed: 5.3mph
session time is:  219.996342897
programme time is:  1420.99365735
prog action duration is: 90.0
time remaining on that action is: 81.0008718967
Speed: 5.2mph
Speed: 5.7mph
Heart rate: 151
Speed: 5.1mph
Speed: 5.0mph
max reward is: 
0.991446714353
max reward is: 
0.991446714353
1561737265.88: got validated action STYLE_UPDATE (validation timestamp: 1561737216.0)
with style POSITIVE
with validation state STYLE_UPDATE
[ERROR] [1561737265.881470]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

publishing this validated action to behaviour manager: STYLE_UPDATEPOSITIVE0
received validated action: STYLE_UPDATEPOSITIVE
Speed: 9.8mph
Speed: 4.9mph
prog action duration is: 90.0
time remaining on that action is: 80.0003907681
session time is:  220.996866941
programme time is:  1421.99418139
Speed: 4.8mph
Speed: 4.7mph
Speed: 4.6mph
session time is:  221.997288942
programme time is:  1422.9946034
prog action duration is: 90.0
time remaining on that action is: 78.9998149872
Speed: 4.5mph
Heart rate: 151
Heart rate: 151
Speed: 4.9mph
Speed: 4.4mph
session time is:  222.996853113
programme time is:  1423.99416757
prog action duration is: 90.0
time remaining on that action is: 78.0001869202
Speed: 4.9mph
Speed: 4.3mph
Heart rate: 150
Speed: 4.2mph
session time is:  223.996845007
programme time is:  1424.99415946
prog action duration is: 90.0
time remaining on that action is: 77.0003728867
Speed: 4.1mph
Speed: 4.0mph
Heart rate: 150
max reward is: 
0.988126015276
max reward is: 
0.988126015276
session time is:  224.996841908
programme time is:  1425.99415636
prog action duration is: 90.0
time remaining on that action is: 76.0003437996
Speed: 9.8mph
Speed: 3.9mph
Speed: 3.8mph
Heart rate: 150
Speed: 3.7mph
session time is:  225.997279882
programme time is:  1426.99459434
prog action duration is: 90.0
time remaining on that action is: 74.9998989105
Heart rate: 150
session time is:  226.99684
programme time is:  1427.99415445
prog action duration is: 90.0
time remaining on that action is: 74.0003089905
Heart rate: 150
1561737273.23: got validated action PRAISE (validation timestamp: 1561737216.0)
with style POSITIVE
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
adding a new instance to database
adding a new instance to database
session time is:  227.996833086
programme time is:  1428.99414754
prog action duration is: 90.0
time remaining on that action is: 73.0003638268
publishing this validated action to behaviour manager: PRAISEPOSITIVE0
received validated action: PRAISEPOSITIVE
Heart rate: 150
max reward is: 
0.992251499097
max reward is: 
0.992251499097
session time is:  228.996450901
prog action duration is: 90.0
programme time is:  1429.99376535
time remaining on that action is: 72.000743866
Heart rate: 150
Speed: 3.0mph
     user_id  session_number                              state_id  \
3381      MR               1  e17a8829-f934-47c7-9b25-585e88911e13   
3386      MR               1  1f88bd75-d367-4705-91f6-441a7b3678d3   
3388      MR               1  3fd44b6c-fb0e-42fc-9c6b-cd5cbe882772   
3393      MR               1  74ea600a-1b8a-4afd-a747-3fbb486212e7   
3395      MR               1  dfe7c137-873d-4f1e-8e14-5db833f77849   

         timestamp                             action_id  action     style  \
3381  1561478144.0  a31c3975-e08b-4780-acdc-3fd619113075  PRAISE  POSITIVE   
3386  1561478272.0  ba560e30-dda3-4bc8-8fc2-42be61f0aa8b  PRAISE  POSITIVE   
3388  1561478272.0  994a2b5a-a09b-4cb2-9aca-c2d6fefbecd7  PRAISE  POSITIVE   
3393  1561478400.0  81004164-2a9c-4fb0-8e07-f0b4897bdccc  PRAISE  POSITIVE   
3395  1561478528.0  31782d2b-bc50-477a-8121-bc3f0e65bfb9  PRAISE  POSITIVE   

     duration validation                                             speech  
3381        0    CONTROL                                   You've got this!  
3386        0    CONTROL             You're doing really well-keep this up.  
3388        0    CONTROL                                You're nailing this  
3393        0    CONTROL          You'll be destroying 5k runs in no time!!  
3395        0    CONTROL  Loving this effort! You are stronger than you ...  
Your evolutionary ancestors would be proud of you
Speed: 0.0mph
session time is:  229.996845961
programme time is:  1430.99416041
prog action duration is: 90.0
time remaining on that action is: 71.000276804
Heart rate: 150
prog action duration is: 90.0
session time is:  230.996876001
programme time is:  1431.99419045
time remaining on that action is: 70.0002958775
Heart rate: 149
prog action duration is: 90.0
session time is:  231.997298002
programme time is:  1432.99461246
time remaining on that action is: 68.9999268055
Heart rate: 149
max reward is: 
0.990434873771
max reward is: 
0.990434873771
publishing this proposed action to tablet: PRAISEPOSITIVE
session time is:  232.997283936
programme time is:  1433.99459839
prog action duration is: 90.0
time remaining on that action is: 67.9998149872
Speed: 3.7mph
Heart rate: 148
session time is:  233.996859074
programme time is:  1434.99417353
prog action duration is: 90.0
time remaining on that action is: 67.0002608299
Heart rate: 147
session time is:  234.997286081
programme time is:  1435.99460053
prog action duration is: 90.0
time remaining on that action is: 65.9998598099
Heart rate: 146
received response to learner engagement action suggestion
1561737281.02: got validated action PRAISE (validation timestamp: 1561737344.0)
with style POSITIVE
with validation state REFUSED
publishing a style learning action
publishing an action learning example
adding a new instance to database
adding a new instance to database
prog action duration is: 90.0
session time is:  235.996866941
programme time is:  1436.99418139
time remaining on that action is: 65.0003418922
Heart rate: 146
max reward is: 
0.990528188859
max reward is: 
0.990528188859
session time is:  236.996869087
programme time is:  1437.99418354
prog action duration is: 90.0
time remaining on that action is: 64.0002989769
Heart rate: 146
session time is:  237.996490002
programme time is:  1438.99380445
prog action duration is: 90.0
time remaining on that action is: 63.0006718636
Heart rate: 146
session time is:  238.997294903
programme time is:  1439.99460936
prog action duration is: 90.0
time remaining on that action is: 61.9998109341
Heart rate: 147
session time is:  239.996413946
programme time is:  1440.9937284
prog action duration is: 90.0
time remaining on that action is: 61.0007219315
Heart rate: 146
max reward is: 
0.986529441433
max reward is: 
0.986529441433
prog action duration is: 90.0
session time is:  240.997288942
programme time is:  1441.9946034
time remaining on that action is: 59.9999098778
Heart rate: 146
session time is:  241.996880054
programme time is:  1442.99419451
prog action duration is: 90.0
time remaining on that action is: 59.0001928806
Heart rate: 146
session time is:  242.99729991
programme time is:  1443.99461436
prog action duration is: 90.0
time remaining on that action is: 57.9998018742
Heart rate: 145
prog action duration is: 90.0
time remaining on that action is: 57.0003929138
session time is:  243.996860981
programme time is:  1444.99417543
Heart rate: 144
max reward is: 
0.986352176961
max reward is: 
0.986352176961
[ERROR] [1561737289.880944]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

prog action duration is: 90.0
session time is:  244.996884108
programme time is:  1445.99419856
time remaining on that action is: 56.0002288818
Heart rate: 143
session time is:  245.996388912
programme time is:  1446.99370337
prog action duration is: 90.0
time remaining on that action is: 55.000718832
Heart rate: 142
session time is:  246.996850967
programme time is:  1447.99416542
prog action duration is: 90.0
time remaining on that action is: 54.0000309944
Heart rate: 142
prog action duration is: 90.0
session time is:  247.996841908
time remaining on that action is: 53.0003647804
programme time is:  1448.99415636
Heart rate: 141
max reward is: 
0.986918660739
max reward is: 
0.986918660739
publishing this proposed action to tablet: PRAISEPOSITIVE
session time is:  248.997294903
programme time is:  1449.99460936
prog action duration is: 90.0
time remaining on that action is: 51.9998409748
Heart rate: 141
session time is:  249.997294903
programme time is:  1450.99460936
prog action duration is: 90.0
time remaining on that action is: 50.9998378754
Heart rate: 139
session time is:  250.996871948
programme time is:  1451.9941864
prog action duration is: 90.0
time remaining on that action is: 50.0002639294
Heart rate: 138
session time is:  251.997291088
programme time is:  1452.99460554
prog action duration is: 90.0
time remaining on that action is: 48.9998559952
Heart rate: 138
max reward is: 
0.989032221523
max reward is: 
0.989032221523
got a learner suggestion but the tablet is busy so won't queue
session time is:  252.996840954
programme time is:  1453.99415541
prog action duration is: 90.0
time remaining on that action is: 48.000292778
received response to learner engagement action suggestion
1561737298.4: got validated action PRAISE (validation timestamp: 1561737344.0)
with style POSITIVE
with validation state REFUSED
publishing a style learning action
publishing an action learning example
adding a new instance to database
adding a new instance to database
Heart rate: 137
session time is:  253.997297049
programme time is:  1454.9946115
prog action duration is: 90.0
time remaining on that action is: 46.9998748302
Heart rate: 137
session time is:  254.997287989
programme time is:  1455.99460244
prog action duration is: 90.0
time remaining on that action is: 45.9998588562
Heart rate: 137
session time is:  255.997283936
programme time is:  1456.99459839
prog action duration is: 90.0
time remaining on that action is: 44.9999449253
Heart rate: 136
max reward is: 
0.986732932678
max reward is: 
0.986732932678
session time is:  256.996871948
programme time is:  1457.9941864
prog action duration is: 90.0
time remaining on that action is: 44.000289917
Heart rate: 136
prog action duration is: 90.0
session time is:  257.996869087
programme time is:  1458.99418354
time remaining on that action is: 43.0002839565
Heart rate: 134
session time is:  258.997049093
programme time is:  1459.99436355
prog action duration is: 90.0
time remaining on that action is: 41.9999368191
Heart rate: 134
session time is:  259.997281075
prog action duration is: 90.0
time remaining on that action is: 40.9998619556
programme time is:  1460.99459553
Heart rate: 133
max reward is: 
0.985654675024
max reward is: 
0.985654675024
session time is:  260.996867895
programme time is:  1461.99418235
prog action duration is: 90.0
time remaining on that action is: 40.0002548695
Heart rate: 133
session time is:  261.997243881
programme time is:  1462.99455833
prog action duration is: 90.0
time remaining on that action is: 38.9998059273
Heart rate: 133
session time is:  262.996865988
programme time is:  1463.99418044
prog action duration is: 90.0
time remaining on that action is: 38.0001199245
Heart rate: 133
session time is:  263.996845961
programme time is:  1464.99416041
prog action duration is: 90.0
time remaining on that action is: 37.0002877712
Heart rate: 132
max reward is: 
0.986057127753
max reward is: 
0.986057127753
[ERROR] [1561737309.880208]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

session time is:  264.997119904
programme time is:  1465.99443436
prog action duration is: 90.0
time remaining on that action is: 35.9999988079
Heart rate: 132
session time is:  265.996845961
prog action duration is: 90.0
time remaining on that action is: 35.0003829002
programme time is:  1466.99416041
Heart rate: 132
session time is:  266.996851921
programme time is:  1467.99416637
prog action duration is: 90.0
time remaining on that action is: 34.0002748966
Heart rate: 132
session time is:  267.996844053
programme time is:  1468.99415851
prog action duration is: 90.0
time remaining on that action is: 33.0003509521
Heart rate: 132
max reward is: 
0.988254589798
max reward is: 
0.988254589798
session time is:  268.996845007
programme time is:  1469.99415946
prog action duration is: 90.0
time remaining on that action is: 32.0003068447
Heart rate: 131
prog action duration is: 90.0
session time is:  269.996850014
programme time is:  1470.99416447
time remaining on that action is: 31.0003569126
Heart rate: 130
prog action duration is: 90.0
session time is:  270.996319056
time remaining on that action is: 30.0009069443
programme time is:  1471.99363351
session time is:  271.996857882
programme time is:  1472.99417233
prog action duration is: 90.0
time remaining on that action is: 29.0000498295
Heart rate: 130
Heart rate: 128
max reward is: 
0.988394498062
max reward is: 
0.988394498062
1561737317.88: got validated action STYLE_UPDATE (validation timestamp: 1561737344.0)
with style CHALLENGING
with validation state STYLE_UPDATE
[ERROR] [1561737317.880404]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

publishing this validated action to behaviour manager: STYLE_UPDATECHALLENGING0
received validated action: STYLE_UPDATECHALLENGING
session time is:  272.996853113
programme time is:  1473.99416757
prog action duration is: 90.0
time remaining on that action is: 28.0000548363
Heart rate: 127
prog action duration is: 90.0
time remaining on that action is: 27.0003578663
session time is:  273.996882915
programme time is:  1474.99419737
Heart rate: 126
prog action duration is: 90.0
session time is:  274.996848106
programme time is:  1475.99416256
time remaining on that action is: 26.0000989437
Heart rate: 125
session time is:  275.996855021
prog action duration is: 90.0
programme time is:  1476.99416947
time remaining on that action is: 25.0003459454
Heart rate: 125
max reward is: 
0.988992869468
max reward is: 
0.988992869468
prog action duration is: 90.0
session time is:  276.997294903
programme time is:  1477.99460936
time remaining on that action is: 23.9998428822
Heart rate: 124
session time is:  277.996856928
programme time is:  1478.99417138
prog action duration is: 90.0
time remaining on that action is: 23.0002977848
Heart rate: 124
prog action duration is: 90.0
session time is:  278.996440887
programme time is:  1479.99375534
time remaining on that action is: 22.000674963
Heart rate: 125
session time is:  279.996854067
programme time is:  1480.99416852
prog action duration is: 90.0
time remaining on that action is: 21.0001628399
Heart rate: 124
max reward is: 
0.988619194639
max reward is: 
0.988619194639
session time is:  280.996857882
programme time is:  1481.99417233
prog action duration is: 90.0
time remaining on that action is: 20.0001688004
Heart rate: 124
session time is:  281.996860027
programme time is:  1482.99417448
prog action duration is: 90.0
time remaining on that action is: 19.0001499653
Heart rate: 123
session time is:  282.996861935
prog action duration is: 90.0
time remaining on that action is: 18.0001809597
programme time is:  1483.99417639
Heart rate: 123
session time is:  283.9968431
programme time is:  1484.99415755
prog action duration is: 90.0
time remaining on that action is: 17.0001938343
Heart rate: 123
max reward is: 
0.983696482412
max reward is: 
0.983696482412
[ERROR] [1561737329.880398]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

session time is:  284.996923923
prog action duration is: 90.0
time remaining on that action is: 16.0001628399
programme time is:  1485.99423838
Heart rate: 122
session time is:  285.997227907
programme time is:  1486.99454236
prog action duration is: 90.0
time remaining on that action is: 14.9998857975
Heart rate: 122
session time is:  286.996853113
programme time is:  1487.99416757
prog action duration is: 90.0
time remaining on that action is: 14.0002818108
Heart rate: 123
1561737333.09: got validated action CHALLENGE (validation timestamp: 1561737344.0)
with style CHALLENGING
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
calling update threshold
adding a new instance to database
calling update threshold
adding a new instance to database
publishing this validated action to behaviour manager: CHALLENGECHALLENGING0
received validated action: CHALLENGECHALLENGING
session time is:  287.996844053
prog action duration is: 90.0
time remaining on that action is: 13.0002129078
programme time is:  1488.99415851
Heart rate: 123
max reward is: 
0.997111312924
max reward is: 
0.997111312924
session time is:  288.997292042
programme time is:  1489.99460649
publishing next action: RUNNEUTRAL60
prog action duration is: 90.0
time remaining on that action is: 11.9997398853
publishing this proposed action to tablet: RUNCHALLENGING
Heart rate: 123
     user_id  session_number                              state_id  \
3379      MR               1  40105a69-c16d-4a55-988d-bc4705dfe4a9   
4267      MR               2  9f5ad841-1e2a-4b69-9f06-29e16ba970eb   

         timestamp                             action_id     action  \
3379  1561478144.0  a9106bfd-36a0-4e0a-893f-d11b3ace6790  CHALLENGE   
4267  1561737216.0  9cb04d98-e274-4732-ab87-f272cad2ee13  CHALLENGE   

            style duration  validation  \
3379  CHALLENGING        0     CONTROL   
4267  CHALLENGING        0  UNPROMPTED   

                                                 speech  
3379      Come on Mirjana show me what you're made of!!  
4267  Keep up the intensity. We die today to be stro...  
Keep up the intensity. We die today to be stronger tomorrow.
prog action duration is: 90.0
session time is:  289.997277975
programme time is:  1490.99459243
time remaining on that action is: 10.9999969006
Heart rate: 123
session time is:  290.996859074
programme time is:  1491.99417353
prog action duration is: 90.0
time remaining on that action is: 10.0002129078
Heart rate: 123
1561737336.78: got validated action RUN (validation timestamp: 1561737344.0)
with style CHALLENGING
with validation state REFUSED
publishing a style learning action
calling update threshold
new threshold is: 
0.981872898961
adding a new instance to database
session time is:  291.996865034
prog action duration is: 90.0
programme time is:  1492.99417949
time remaining on that action is: 9.00034880638
Heart rate: 123
max reward is: 
0.986246080434
max reward is: 
0.986246080434
session time is:  292.997287035
programme time is:  1493.99460149
prog action duration is: 90.0
time remaining on that action is: 7.99986791611
Heart rate: 122
session time is:  293.996879101
programme time is:  1494.99419355
prog action duration is: 90.0
time remaining on that action is: 7.00034189224
Heart rate: 122
prog action duration is: 90.0
session time is:  294.996923923
programme time is:  1495.99423838
time remaining on that action is: 6.00026488304
Heart rate: 121
prog action duration is: 90.0
session time is:  295.997306108
programme time is:  1496.99462056
time remaining on that action is: 4.9999358654
Heart rate: 121
max reward is: 
0.981077290367
max reward is: 
0.974528564918
1561737341.88: got validated action STYLE_UPDATE (validation timestamp: 1561737344.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
received validated action: STYLE_UPDATENEUTRAL
prog action duration is: 90.0
session time is:  296.996865034
programme time is:  1497.99417949
time remaining on that action is: 4.00036478043
Heart rate: 121
session time is:  297.997292995
programme time is:  1498.99460745
prog action duration is: 90.0
time remaining on that action is: 2.99986481667
Heart rate: 120
session time is:  298.997284889
programme time is:  1499.99459934
prog action duration is: 90.0
time remaining on that action is: 1.99991393089
Heart rate: 120
session time is:  299.997288942
prog action duration is: 90.0
programme time is:  1500.9946034
time remaining on that action is: 0.999774932861
received response to styled programme suggestion
1561737345.25: got validated action RUN (validation timestamp: 1561737344.0)
with style NEUTRAL
with validation state PASSIVE_ACCEPTED
publishing a style learning action
adding programme action to validated action queue
adding a new instance to database
publishing this validated action to behaviour manager: RUNNEUTRAL60
received validated action: RUNNEUTRAL
Heart rate: 120
max reward is: 
0.981783099773
max reward is: 
0.978421847976
session time is:  300.997296095
programme time is:  1501.99461055
participant should now be in RUN
prog action duration is: 60.0
time remaining on that action is: 59.9998569489
Heart rate: 119
session time is:  301.996850014
programme time is:  1502.99416447
prog action duration is: 60.0
time remaining on that action is: 59.0002169609
Heart rate: 119
prog action duration is: 60.0
time remaining on that action is: 58.0000538826
session time is:  302.997292042
programme time is:  1503.99460649
Heart rate: 120
session time is:  303.996867895
programme time is:  1504.99418235
prog action duration is: 60.0
time remaining on that action is: 57.0005528927
Heart rate: 120
max reward is: 
0.971521273175
max reward is: 
0.971521273175
no action suggestioned
prog action duration is: 60.0
time remaining on that action is: 56.0004689693
session time is:  304.996865034
programme time is:  1505.99417949
Heart rate: 120
prog action duration is: 60.0
session time is:  305.997292042
programme time is:  1506.99460649
time remaining on that action is: 55.0000500679
Heart rate: 120
session time is:  306.997297049
programme time is:  1507.9946115
prog action duration is: 60.0
time remaining on that action is: 53.9998719692
Heart rate: 120
Speed: 3.8mph
Speed: 3.9mph
prog action duration is: 60.0
time remaining on that action is: 53.0000839233
session time is:  307.997298002
programme time is:  1508.99461246
Speed: 9.8mph
Speed: 4.0mph
Heart rate: 119
Speed: 4.1mph
max reward is: 
0.979904031043
max reward is: 
0.977951578823
Speed: 4.2mph
prog action duration is: 60.0
time remaining on that action is: 52.0004239082
session time is:  308.996846914
programme time is:  1509.99416137
Speed: 4.3mph
Speed: 4.4mph
Heart rate: 119
Speed: 4.5mph
Speed: 4.6mph
prog action duration is: 60.0
time remaining on that action is: 51.0005300045
session time is:  309.996838093
programme time is:  1510.99415255
Speed: 4.8mph
Heart rate: 117
Speed: 4.7mph
Speed: 4.8mph
session time is:  310.997286081
prog action duration is: 60.0
programme time is:  1511.99460053
time remaining on that action is: 50.000041008
Speed: 9.0mph
Speed: 5.1mph
Speed: 5.2mph
Heart rate: 117
Speed: 5.9mph
Speed: 5.4mph
Speed: 5.9mph
Speed: 5.5mph
session time is:  311.997306108
programme time is:  1512.99462056
prog action duration is: 60.0
time remaining on that action is: 48.9987778664
Speed: 5.6mph
Speed: 5.8mph
Heart rate: 117
Speed: 5.7mph
Speed: 5.8mph
max reward is: 
0.986487982001
max reward is: 
0.986487982001
1561737357.88: got validated action STYLE_UPDATE (validation timestamp: 1561737344.0)
with style CHALLENGING
[ERROR] [1561737357.880690]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATECHALLENGING0
received validated action: STYLE_UPDATECHALLENGING
Speed: 5.9mph
session time is:  312.997283936
prog action duration is: 60.0
programme time is:  1513.99459839
time remaining on that action is: 48.0000340939
Heart rate: 118
Speed: 6.8mph
Speed: 6.0mph
session time is:  313.996870995
prog action duration is: 60.0
programme time is:  1514.99418545
time remaining on that action is: 47.0003869534
Heart rate: 119
1561737360.0: got validated action HUMOUR (validation timestamp: 1561737344.0)
with style POSITIVE
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
adding a new instance to database
calling update threshold
adding a new instance to database
publishing this validated action to behaviour manager: HUMOURPOSITIVE0
received validated action: HUMOURPOSITIVE
session time is:  314.997286081
programme time is:  1515.99460053
prog action duration is: 60.0
time remaining on that action is: 45.9999680519
Heart rate: 120
prog action duration is: 60.0
session time is:  315.996876001
programme time is:  1516.99419045
time remaining on that action is: 45.0004608631
Heart rate: 121
     user_id  session_number                              state_id  \
4256      MR               2  9da6c847-c5c7-44d0-bc1f-5dcf1e931cf1   

         timestamp                             action_id  action     style  \
4256  1561737088.0  4d7a779b-7d15-41f7-8a40-a8e935ab2171  HUMOUR  POSITIVE   

     duration  validation                                             speech  
4256        0  UNPROMPTED  I heard your ancestors ate 5K runs for breakfast!  
I heard your ancestors ate 5K runs for breakfast!
max reward is: 
0.996729514059
max reward is: 
0.996729514059
1561737361.88: got validated action STYLE_UPDATE (validation timestamp: 1561737344.0)
with style POSITIVE
with validation state STYLE_UPDATE
 got duplicate learner suggestion too quickly - won't suggest
publishing this validated action to behaviour manager: STYLE_UPDATEPOSITIVE0
session time is:  316.996840954
programme time is:  1517.99415541
prog action duration is: 60.0
time remaining on that action is: 44.0004210472
Heart rate: 123
Speed: 7.8mph
Speed: 0.0mph
session time is:  317.99684906
programme time is:  1518.99416351
prog action duration is: 60.0
time remaining on that action is: 42.9977478981
session time is:  318.996854067
programme time is:  1519.99416852
prog action duration is: 60.0
time remaining on that action is: 42.0004630089
Heart rate: 124
Heart rate: 125
session time is:  319.996826887
programme time is:  1520.99414134
prog action duration is: 60.0
time remaining on that action is: 41.000412941
Heart rate: 126
max reward is: 
0.976431597558
max reward is: 
0.976431597558
1561737365.88: got validated action STYLE_UPDATE (validation timestamp: 1561737344.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
Speed: 7.9mph
Speed: 6.0mph
session time is:  320.996886969
programme time is:  1521.99420142
prog action duration is: 60.0
time remaining on that action is: 39.9981770515
received validated action: STYLE_UPDATEPOSITIVE
Heart rate: 127
prog action duration is: 60.0
session time is:  321.997020006
programme time is:  1522.99433446
time remaining on that action is: 39.0003750324
Heart rate: 128
prog action duration is: 60.0
session time is:  322.996870041
programme time is:  1523.99418449
time remaining on that action is: 38.0004589558
received validated action: STYLE_UPDATENEUTRAL
Heart rate: 129
session time is:  323.997297049
programme time is:  1524.9946115
prog action duration is: 60.0
time remaining on that action is: 36.9978880882
Heart rate: 129
max reward is: 
0.979065621469
max reward is: 
0.979065621469
session time is:  324.996380091
programme time is:  1525.99369454
prog action duration is: 60.0
time remaining on that action is: 36.0008790493
Heart rate: 131
session time is:  325.996865988
programme time is:  1526.99418044
prog action duration is: 60.0
time remaining on that action is: 34.9988050461
Heart rate: 132
session time is:  326.996857882
programme time is:  1527.99417233
prog action duration is: 60.0
time remaining on that action is: 33.9981870651
Heart rate: 132
session time is:  327.996845007
programme time is:  1528.99415946
prog action duration is: 60.0
time remaining on that action is: 32.99883008
Heart rate: 133
max reward is: 
0.98828135398
max reward is: 
0.98828135398
[ERROR] [1561737373.880562]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

1561737373.88: got validated action STYLE_UPDATE (validation timestamp: 1561737344.0)
with style SYMPATHETIC
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATESYMPATHETIC0
received validated action: STYLE_UPDATESYMPATHETIC
prog action duration is: 60.0
time remaining on that action is: 31.9999790192
session time is:  328.997253895
programme time is:  1529.99456835
Heart rate: 133
prog action duration is: 60.0
time remaining on that action is: 31.0004739761
session time is:  329.996846914
programme time is:  1530.99416137
Heart rate: 133
session time is:  330.996838093
programme time is:  1531.99415255
prog action duration is: 60.0
time remaining on that action is: 30.0003969669
Heart rate: 134
prog action duration is: 60.0
session time is:  331.996879101
programme time is:  1532.99419355
time remaining on that action is: 29.000453949
Heart rate: 134
max reward is: 
0.978062090055
max reward is: 
0.978062090055
1561737377.88: got validated action STYLE_UPDATE (validation timestamp: 1561737344.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
received validated action: STYLE_UPDATENEUTRAL
prog action duration is: 60.0
session time is:  332.996505976
time remaining on that action is: 28.000854969
programme time is:  1533.99382043
Heart rate: 135
prog action duration is: 60.0
session time is:  333.996856928
programme time is:  1534.99417138
time remaining on that action is: 27.0005540848
Heart rate: 136
session time is:  334.997288942
programme time is:  1535.9946034
prog action duration is: 60.0
time remaining on that action is: 26.0000290871
Heart rate: 137
session time is:  335.996831894
programme time is:  1536.99414635
prog action duration is: 60.0
time remaining on that action is: 25.0003800392
Heart rate: 139
max reward is: 
0.982361268038
max reward is: 
0.982361268038
1561737381.88: got validated action STYLE_UPDATE (validation timestamp: 1561737344.0)
with style SYMPATHETIC
[ERROR] [1561737381.880661]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATESYMPATHETIC0
received validated action: STYLE_UPDATESYMPATHETIC
prog action duration is: 60.0
session time is:  336.996875048
programme time is:  1537.9941895
time remaining on that action is: 24.0004930496
Heart rate: 140
session time is:  337.9968431
programme time is:  1538.99415755
prog action duration is: 60.0
time remaining on that action is: 23.0004549026
Heart rate: 140
session time is:  338.997301102
programme time is:  1539.99461555
prog action duration is: 60.0
time remaining on that action is: 21.9981160164
Heart rate: 142
session time is:  339.997260094
prog action duration is: 60.0
time remaining on that action is: 20.9999439716
programme time is:  1540.99457455
Heart rate: 142
max reward is: 
0.979061193178
max reward is: 
0.979061193178
1561737385.88: got validated action STYLE_UPDATE (validation timestamp: 1561737344.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
received validated action: STYLE_UPDATENEUTRAL
session time is:  340.996661901
programme time is:  1541.99397635
prog action duration is: 60.0
time remaining on that action is: 20.0006670952
Heart rate: 143
prog action duration is: 60.0
time remaining on that action is: 19.0010108948
session time is:  341.996329069
programme time is:  1542.99364352
Heart rate: 144
session time is:  342.996850014
prog action duration is: 60.0
programme time is:  1543.99416447
time remaining on that action is: 18.0003640652
Heart rate: 144
1561737389.18: got validated action PRAISE (validation timestamp: 1561737344.0)
with style POSITIVE
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
adding a new instance to database
 adding a new instance to database
publishing this validated action to behaviour manager: PRAISEPOSITIVE0
received validated action: PRAISEPOSITIVE
session time is:  343.996392965
programme time is:  1544.99370742
prog action duration is: 60.0
time remaining on that action is: 17.0009350777
Heart rate: 145
max reward is: 
0.995729800638
max reward is: 
0.995729800638
got duplicate learner suggestion too quickly - won't suggest
1561737389.88: got validated action STYLE_UPDATE (validation timestamp: 1561737344.0)
with style POSITIVE
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATEPOSITIVE0
session time is:  344.997287989
programme time is:  1545.99460244
prog action duration is: 60.0
time remaining on that action is: 16.0000109673
Heart rate: 146
     user_id  session_number                              state_id  \
3381      MR               1  e17a8829-f934-47c7-9b25-585e88911e13   
3386      MR               1  1f88bd75-d367-4705-91f6-441a7b3678d3   
3388      MR               1  3fd44b6c-fb0e-42fc-9c6b-cd5cbe882772   
3393      MR               1  74ea600a-1b8a-4afd-a747-3fbb486212e7   
3395      MR               1  dfe7c137-873d-4f1e-8e14-5db833f77849   

         timestamp                             action_id  action     style  \
3381  1561478144.0  a31c3975-e08b-4780-acdc-3fd619113075  PRAISE  POSITIVE   
3386  1561478272.0  ba560e30-dda3-4bc8-8fc2-42be61f0aa8b  PRAISE  POSITIVE   
3388  1561478272.0  994a2b5a-a09b-4cb2-9aca-c2d6fefbecd7  PRAISE  POSITIVE   
3393  1561478400.0  81004164-2a9c-4fb0-8e07-f0b4897bdccc  PRAISE  POSITIVE   
3395  1561478528.0  31782d2b-bc50-477a-8121-bc3f0e65bfb9  PRAISE  POSITIVE   

     duration validation                                             speech  
3381        0    CONTROL                                   You've got this!  
3386        0    CONTROL             You're doing really well-keep this up.  
3388        0    CONTROL                                You're nailing this  
3393        0    CONTROL          You'll be destroying 5k runs in no time!!  
3395        0    CONTROL  Loving this effort! You are stronger than you ...  
I'm impressed, you're doing great!
session time is:  345.99686408
prog action duration is: 60.0
programme time is:  1546.99417853
time remaining on that action is: 15.0004200935
Heart rate: 148
session time is:  346.996880054
programme time is:  1547.99419451
prog action duration is: 60.0
time remaining on that action is: 14.0005209446
received validated action: STYLE_UPDATEPOSITIVE
Heart rate: 148
session time is:  347.996848106
prog action duration is: 60.0
programme time is:  1548.99416256
time remaining on that action is: 13.0003399849
Heart rate: 149
max reward is: 
0.979848337728
max reward is: 
0.979848337728
1561737393.88: got validated action STYLE_UPDATE (validation timestamp: 1561737344.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
received validated action: STYLE_UPDATENEUTRAL
session time is:  348.997287035
programme time is:  1549.99460149
publishing next action: WALKNEUTRAL90
prog action duration is: 60.0
time remaining on that action is: 11.9998860359
publishing this proposed action to tablet: WALKNEUTRAL
Heart rate: 150
session time is:  349.996857882
programme time is:  1550.99417233
prog action duration is: 60.0
time remaining on that action is: 11.000412941
Heart rate: 152
session time is:  350.997379065
programme time is:  1551.99469352
prog action duration is: 60.0
time remaining on that action is: 9.9998819828
1561737396.29: got validated action WALK (validation timestamp: 1561737344.0)
with style NEUTRAL
with validation state REFUSED
publishing a style learning action
adding a new instance to database
Heart rate: 152
session time is:  351.996879101
prog action duration is: 60.0
programme time is:  1552.99419355
time remaining on that action is: 9.00049901009
Heart rate: 152
max reward is: 
0.968797469027
max reward is: 
0.968797469027
no action suggestioned
session time is:  352.997283936
programme time is:  1553.99459839
prog action duration is: 60.0
time remaining on that action is: 8.00008487701
Heart rate: 152
session time is:  353.996390104
programme time is:  1554.99370456
prog action duration is: 60.0
time remaining on that action is: 7.00091409683
Heart rate: 152
session time is:  354.997278929
prog action duration is: 60.0
time remaining on that action is: 6.00007891655
programme time is:  1555.99459338
Heart rate: 153
session time is:  355.997262955
programme time is:  1556.99457741
prog action duration is: 60.0
time remaining on that action is: 4.99992108345
Heart rate: 154
max reward is: 
0.981806789808
max reward is: 
0.981806789808
session time is:  356.997119904
programme time is:  1557.99443436
prog action duration is: 60.0
time remaining on that action is: 3.99992704391
Heart rate: 153
prog action duration is: 60.0
session time is:  357.99634099
programme time is:  1558.99365544
time remaining on that action is: 3.0009598732
Heart rate: 154
session time is:  358.997312069
programme time is:  1559.99462652
prog action duration is: 60.0
time remaining on that action is: 1.9999730587
Heart rate: 154
session time is:  359.99684906
programme time is:  1560.99416351
prog action duration is: 60.0
time remaining on that action is: 1.00034999847
received response to styled programme suggestion
1561737405.26: got validated action WALK (validation timestamp: 1561737344.0)
with style POSITIVE
with validation state PASSIVE_ACCEPTED
publishing a style learning action
adding programme action to validated action queue
adding a new instance to database
publishing this validated action to behaviour manager: WALKPOSITIVE90
received validated action: WALKPOSITIVE
Heart rate: 155
max reward is: 
0.970979129685
max reward is: 
0.969681617253
no action suggestioned
session time is:  360.996853113
programme time is:  1561.99416757
participant should now be in WALK
prog action duration is: 90.0
time remaining on that action is: 89.9998099804
Heart rate: 156
session time is:  361.996381998
prog action duration is: 90.0
programme time is:  1562.99369645
time remaining on that action is: 89.0006299019
Heart rate: 156
session time is:  362.996829033
programme time is:  1563.99414349
prog action duration is: 90.0
time remaining on that action is: 87.9972429276
Heart rate: 156
session time is:  363.997267962
programme time is:  1564.99458241
prog action duration is: 90.0
time remaining on that action is: 86.9996080399
Heart rate: 157
max reward is: 
0.987527671988
max reward is: 
0.987527671988
1561737409.88: got validated action STYLE_UPDATE (validation timestamp: 1561737472.0)
with style POSITIVE
with validation state STYLE_UPDATE
publishing this proposed action to tablet: PRAISEPOSITIVE
publishing this validated action to behaviour manager: STYLE_UPDATEPOSITIVE0
session time is:  364.996859074
prog action duration is: 90.0
programme time is:  1565.99417353
time remaining on that action is: 86.0001199245
Speed: 5.9mph
Heart rate: 157
Speed: 5.8mph
Speed: 5.7mph
prog action duration is: 90.0
session time is:  365.997307062
programme time is:  1566.99462152
time remaining on that action is: 84.9996390343
Speed: 5.8mph
Heart rate: 157
Speed: 5.6mph
Speed: 5.5mph
prog action duration is: 90.0
time remaining on that action is: 83.9996378422
session time is:  366.997292995
programme time is:  1567.99460745
received validated action: STYLE_UPDATEPOSITIVE
Speed: 5.9mph
Speed: 5.4mph
Heart rate: 157
Speed: 5.9mph
Speed: 5.3mph
Speed: 5.2mph
prog action duration is: 90.0
session time is:  367.996952057
programme time is:  1568.99426651
time remaining on that action is: 83.0000040531
Speed: 5.7mph
Speed: 5.1mph
Heart rate: 158
Speed: 5.0mph
max reward is: 
0.987255575095
max reward is: 
0.987255575095
prog action duration is: 90.0
session time is:  368.996867895
programme time is:  1569.99418235
time remaining on that action is: 82.0000669956
Speed: 9.8mph
Speed: 4.9mph
Speed: 4.8mph
Heart rate: 159
Speed: 4.7mph
Speed: 4.6mph
session time is:  369.996838093
programme time is:  1570.99415255
prog action duration is: 90.0
time remaining on that action is: 81.0000808239
Speed: 4.5mph
Speed: 4.4mph
Heart rate: 159
Speed: 4.9mph
Speed: 4.3mph
Speed: 4.2mph
session time is:  370.996845007
programme time is:  1571.99415946
prog action duration is: 90.0
time remaining on that action is: 80.0001158714
Heart rate: 159
Speed: 4.1mph
Speed: 4.0mph
session time is:  371.997277975
programme time is:  1572.99459243
prog action duration is: 90.0
time remaining on that action is: 78.9996109009
Speed: 9.8mph
Speed: 3.9mph
Heart rate: 159
Speed: 3.8mph
max reward is: 
0.991683614959
max reward is: 
0.991683614959
session time is:  372.997282982
programme time is:  1573.99459743
prog action duration is: 90.0
time remaining on that action is: 77.9996418953
Heart rate: 159
Speed: 3.7mph
prog action duration is: 90.0
session time is:  373.996686935
programme time is:  1574.99400139
time remaining on that action is: 77.0002770424
received response to learner engagement action suggestion
1561737419.6: got validated action PRAISE (validation timestamp: 1561737472.0)
with style POSITIVE
with validation state VALIDATED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
adding a new instance to database
adding a new instance to database
publishing this validated action to behaviour manager: PRAISEPOSITIVE0
received validated action: PRAISEPOSITIVE
Heart rate: 159
session time is:  374.997287989
programme time is:  1575.99460244
prog action duration is: 90.0
time remaining on that action is: 75.998003006
Heart rate: 159
session time is:  375.997278929
prog action duration is: 90.0
programme time is:  1576.99459338
time remaining on that action is: 74.9997689724
     user_id  session_number                              state_id  \
3381      MR               1  e17a8829-f934-47c7-9b25-585e88911e13   
3386      MR               1  1f88bd75-d367-4705-91f6-441a7b3678d3   
3388      MR               1  3fd44b6c-fb0e-42fc-9c6b-cd5cbe882772   
3393      MR               1  74ea600a-1b8a-4afd-a747-3fbb486212e7   
3395      MR               1  dfe7c137-873d-4f1e-8e14-5db833f77849   

         timestamp                             action_id  action     style  \
3381  1561478144.0  a31c3975-e08b-4780-acdc-3fd619113075  PRAISE  POSITIVE   
3386  1561478272.0  ba560e30-dda3-4bc8-8fc2-42be61f0aa8b  PRAISE  POSITIVE   
3388  1561478272.0  994a2b5a-a09b-4cb2-9aca-c2d6fefbecd7  PRAISE  POSITIVE   
3393  1561478400.0  81004164-2a9c-4fb0-8e07-f0b4897bdccc  PRAISE  POSITIVE   
3395  1561478528.0  31782d2b-bc50-477a-8121-bc3f0e65bfb9  PRAISE  POSITIVE   

     duration validation                                             speech  
3381        0    CONTROL                                   You've got this!  
3386        0    CONTROL             You're doing really well-keep this up.  
3388        0    CONTROL                                You're nailing this  
3393        0    CONTROL          You'll be destroying 5k runs in no time!!  
3395        0    CONTROL  Loving this effort! You are stronger than you ...  
You've got this!
Heart rate: 159
max reward is: 
0.989241672141
max reward is: 
0.989241672141
publishing this proposed action to tablet: PRAISEPOSITIVE
prog action duration is: 90.0
session time is:  376.997282982
programme time is:  1577.99459743
time remaining on that action is: 73.9997308254
Heart rate: 159
Speed: 0.0mph
session time is:  377.997292042
programme time is:  1578.99460649
prog action duration is: 90.0
time remaining on that action is: 72.9983508587
Heart rate: 158
received response to learner engagement action suggestion
1561737423.78: got validated action PRAISE (validation timestamp: 1561737472.0)
with style POSITIVE
with validation state REFUSED
publishing a style learning action
publishing an action learning example
adding a new instance to database
 adding a new instance to database
session time is:  378.997292995
programme time is:  1579.99460745
prog action duration is: 90.0
time remaining on that action is: 71.9996249676
Heart rate: 159
session time is:  379.996426105
programme time is:  1580.99374056
prog action duration is: 90.0
time remaining on that action is: 71.0004780293
Heart rate: 159
max reward is: 
0.988984696788
max reward is: 
0.988984696788
session time is:  380.996872902
programme time is:  1581.99418736
prog action duration is: 90.0
time remaining on that action is: 69.999974966
Speed: 3.0mph
Speed: 3.7mph
Heart rate: 159
session time is:  381.997309923
programme time is:  1582.99462438
prog action duration is: 90.0
time remaining on that action is: 68.9995498657
Heart rate: 159
session time is:  382.996871948
programme time is:  1583.9941864
prog action duration is: 90.0
time remaining on that action is: 67.9999878407
Heart rate: 158
session time is:  383.996879101
prog action duration is: 90.0
programme time is:  1584.99419355
time remaining on that action is: 66.9999699593
Heart rate: 158
max reward is: 
0.987531929946
max reward is: 
0.987531929946
session time is:  384.996838093
prog action duration is: 90.0
programme time is:  1585.99415255
time remaining on that action is: 65.9997780323
Heart rate: 157
session time is:  385.9972651
prog action duration is: 90.0
programme time is:  1586.99457955
time remaining on that action is: 64.9996318817
Heart rate: 157
prog action duration is: 90.0
time remaining on that action is: 63.9999949932
session time is:  386.996876001
programme time is:  1587.99419045
Heart rate: 156
session time is:  387.997293949
programme time is:  1588.9946084
prog action duration is: 90.0
time remaining on that action is: 62.9996769428
Heart rate: 156
max reward is: 
0.990534314648
max reward is: 
0.990534314648
publishing this proposed action to tablet: PRAISEPOSITIVE
session time is:  388.99634409
prog action duration is: 90.0
programme time is:  1589.99365854
time remaining on that action is: 62.0006098747
Heart rate: 155
prog action duration is: 90.0
session time is:  389.996488094
programme time is:  1590.99380255
time remaining on that action is: 61.0004668236
Heart rate: 154
session time is:  390.996835947
prog action duration is: 90.0
programme time is:  1591.9941504
time remaining on that action is: 60.0001208782
received response to learner engagement action suggestion
1561737436.61: got validated action PRAISE (validation timestamp: 1561737472.0)
with style POSITIVE
with validation state REFUSED
publishing a style learning action
publishing an action learning example
adding a new instance to database
adding a new instance to database
Heart rate: 153
prog action duration is: 90.0
session time is:  391.997292995
programme time is:  1592.99460745
time remaining on that action is: 58.9996700287
Heart rate: 153
max reward is: 
0.985366916731
max reward is: 
0.985366916731
session time is:  392.997287989
programme time is:  1593.99460244
prog action duration is: 90.0
time remaining on that action is: 57.9996190071
Heart rate: 152
session time is:  393.997293949
programme time is:  1594.9946084
prog action duration is: 90.0
time remaining on that action is: 56.9996068478
Heart rate: 152
prog action duration is: 90.0
session time is:  394.996861935
programme time is:  1595.99417639
time remaining on that action is: 56.000068903
Heart rate: 151
session time is:  395.996866941
programme time is:  1596.99418139
prog action duration is: 90.0
time remaining on that action is: 55.0000379086
Heart rate: 150
max reward is: 
0.982658564584
max reward is: 
0.982658564584
1561737441.88: got validated action STYLE_UPDATE (validation timestamp: 1561737472.0)
with style SYMPATHETIC
with validation state STYLE_UPDATE
[ERROR] [1561737441.881070]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

publishing this validated action to behaviour manager: STYLE_UPDATESYMPATHETIC0
received validated action: STYLE_UPDATESYMPATHETIC
session time is:  396.996872902
prog action duration is: 90.0
programme time is:  1597.99418736
time remaining on that action is: 54.0000178814
Heart rate: 149
session time is:  397.997296095
programme time is:  1598.99461055
prog action duration is: 90.0
time remaining on that action is: 52.9996709824
Heart rate: 149
session time is:  398.996862888
prog action duration is: 90.0
programme time is:  1599.99417734
time remaining on that action is: 51.9998888969
Heart rate: 147
prog action duration is: 90.0
time remaining on that action is: 51.0000498295
session time is:  399.996869087
programme time is:  1600.99418354
Heart rate: 147
max reward is: 
0.986774249449
max reward is: 
0.986774249449
session time is:  400.996891022
prog action duration is: 90.0
time remaining on that action is: 50.0000760555
programme time is:  1601.99420547
Heart rate: 146
session time is:  401.996870041
prog action duration is: 90.0
time remaining on that action is: 48.9999599457
programme time is:  1602.99418449
Heart rate: 146
session time is:  402.996869087
prog action duration is: 90.0
programme time is:  1603.99418354
time remaining on that action is: 47.9999799728
Heart rate: 146
session time is:  403.996354103
programme time is:  1604.99366856
prog action duration is: 90.0
time remaining on that action is: 47.0005269051
Heart rate: 145
max reward is: 
0.98486807105
max reward is: 
0.98486807105
prog action duration is: 90.0
time remaining on that action is: 45.9999849796
session time is:  404.996856928
programme time is:  1605.99417138
Heart rate: 145
session time is:  405.996850014
programme time is:  1606.99416447
prog action duration is: 90.0
time remaining on that action is: 44.999920845
Heart rate: 144
prog action duration is: 90.0
session time is:  406.99684906
programme time is:  1607.99416351
time remaining on that action is: 44.0000529289
Heart rate: 144
session time is:  407.99684906
programme time is:  1608.99416351
prog action duration is: 90.0
time remaining on that action is: 43.0000059605
Heart rate: 144
max reward is: 
0.989694638952
max reward is: 
0.989694638952
[ERROR] [1561737453.881012]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

session time is:  408.997270107
programme time is:  1609.99458456
prog action duration is: 90.0
time remaining on that action is: 41.9996738434
Heart rate: 144
session time is:  409.996861935
programme time is:  1610.99417639
prog action duration is: 90.0
time remaining on that action is: 40.9999928474
Heart rate: 143
session time is:  410.996845007
prog action duration is: 90.0
time remaining on that action is: 39.9999408722
programme time is:  1611.99415946
Heart rate: 143
1561737456.94: got validated action CHECKPRE (validation timestamp: 1561737472.0)
with style SYMPATHETIC
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
adding a new instance to database
 adding a new instance to database
publishing this validated action to behaviour manager: CHECKPRESYMPATHETIC0
received validated action: CHECKPRESYMPATHETIC
session time is:  411.996844053
prog action duration is: 90.0
time remaining on that action is: 38.9999878407
programme time is:  1612.99415851
Heart rate: 142
max reward is: 
0.99798313718
max reward is: 
0.99798313718
session time is:  412.996850014
programme time is:  1613.99416447
prog action duration is: 90.0
time remaining on that action is: 38.000002861
Heart rate: 141
session time is:  413.996886015
prog action duration is: 90.0
time remaining on that action is: 36.9997298717
programme time is:  1614.99420047
Heart rate: 140
prog action duration is: 90.0
time remaining on that action is: 35.9996328354
session time is:  414.99729991
programme time is:  1615.99461436
Heart rate: 139
prog action duration is: 90.0
session time is:  415.996862888
programme time is:  1616.99417734
time remaining on that action is: 34.9999599457
Heart rate: 138
max reward is: 
0.978520171612
max reward is: 
0.980899008772
1561737461.88: got validated action STYLE_UPDATE (validation timestamp: 1561737472.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
received validated action: STYLE_UPDATENEUTRAL
session time is:  416.99729991
programme time is:  1617.99461436
prog action duration is: 90.0
time remaining on that action is: 33.9992089272
Heart rate: 137
session time is:  417.996680021
programme time is:  1618.99399447
prog action duration is: 90.0
time remaining on that action is: 33.0001740456
Heart rate: 137
session time is:  418.996345997
prog action duration is: 90.0
time remaining on that action is: 32.0004069805
programme time is:  1619.99366045
setting session mood to positive
Heart rate: 137
prog action duration is: 90.0
time remaining on that action is: 31.0000989437
session time is:  419.99683094
programme time is:  1620.99414539
Heart rate: 135
max reward is: 
0.97556236441
max reward is: 
0.97556236441
session time is:  420.996851921
programme time is:  1621.99416637
prog action duration is: 90.0
time remaining on that action is: 30.0000638962
Heart rate: 134
session time is:  421.996870995
programme time is:  1622.99418545
prog action duration is: 90.0
time remaining on that action is: 29.0000548363
Heart rate: 133
session time is:  422.996887922
programme time is:  1623.99420238
prog action duration is: 90.0
time remaining on that action is: 27.9969768524
Heart rate: 132
session time is:  423.996897936
programme time is:  1624.99421239
prog action duration is: 90.0
time remaining on that action is: 26.9998350143
Heart rate: 131
max reward is: 
0.974551742147
max reward is: 
0.976019425408
if len > 1 triggered
[ERROR] [1561737469.880699]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

session time is:  424.996874094
programme time is:  1625.99418855
prog action duration is: 90.0
time remaining on that action is: 26.0000138283
Heart rate: 130
session time is:  425.996885061
programme time is:  1626.99419951
prog action duration is: 90.0
time remaining on that action is: 24.9998738766
Heart rate: 130
session time is:  426.996870041
programme time is:  1627.99418449
prog action duration is: 90.0
time remaining on that action is: 23.9999370575
Heart rate: 130
session time is:  427.996850967
programme time is:  1628.99416542
prog action duration is: 90.0
time remaining on that action is: 22.9999580383
Heart rate: 129
max reward is: 
0.977854108187
max reward is: 
0.977854108187
if len > 1 triggered
session time is:  428.996846914
programme time is:  1629.99416137
prog action duration is: 90.0
time remaining on that action is: 21.9998679161
Heart rate: 129
session time is:  429.997258902
prog action duration is: 90.0
programme time is:  1630.99457335
time remaining on that action is: 20.9997179508
Heart rate: 128
prog action duration is: 90.0
session time is:  430.996834993
programme time is:  1631.99414945
time remaining on that action is: 20.0001168251
Heart rate: 129
prog action duration is: 90.0
time remaining on that action is: 18.9997320175
session time is:  431.997293949
programme time is:  1632.9946084
Heart rate: 129
max reward is: 
0.978894518846
max reward is: 
0.978894518846
if len > 1 triggered
prog action duration is: 90.0
session time is:  432.997325897
programme time is:  1633.99464035
time remaining on that action is: 17.9996700287
Heart rate: 129
session time is:  433.996869087
programme time is:  1634.99418354
prog action duration is: 90.0
time remaining on that action is: 17.0000548363
Heart rate: 128
session time is:  434.996869087
programme time is:  1635.99418354
prog action duration is: 90.0
time remaining on that action is: 16.000002861
Heart rate: 128
session time is:  435.996866941
programme time is:  1636.99418139
prog action duration is: 90.0
time remaining on that action is: 15.0000908375
Heart rate: 127
max reward is: 
0.978103179073
max reward is: 
0.977368983735
session time is:  436.996887922
programme time is:  1637.99420238
prog action duration is: 90.0
time remaining on that action is: 14.0000789165
Heart rate: 126
prog action duration is: 90.0
session time is:  437.996392965
programme time is:  1638.99370742
time remaining on that action is: 13.0005970001
Heart rate: 126
session time is:  438.996881962
programme time is:  1639.99419641
publishing next action: RUNNEUTRAL60
prog action duration is: 90.0
time remaining on that action is: 11.9999499321
publishing this proposed action to tablet: RUNNEUTRAL
Heart rate: 125
session time is:  439.996370077
programme time is:  1640.99368453
prog action duration is: 90.0
time remaining on that action is: 11.0005259514
Heart rate: 125
max reward is: 
0.979092048149
max reward is: 
0.979092048149
session time is:  440.996892929
programme time is:  1641.99420738
prog action duration is: 90.0
time remaining on that action is: 9.99992203712
Heart rate: 125
session time is:  441.99686408
programme time is:  1642.99417853
prog action duration is: 90.0
time remaining on that action is: 8.99998497963
Heart rate: 126
session time is:  442.996872902
prog action duration is: 90.0
time remaining on that action is: 8.00004887581
programme time is:  1643.99418736
Heart rate: 125
session time is:  443.997287989
programme time is:  1644.99460244
prog action duration is: 90.0
time remaining on that action is: 6.99760699272
Heart rate: 124
max reward is: 
0.978454281452
max reward is: 
0.978454281452
session time is:  444.99642992
programme time is:  1645.99374437
prog action duration is: 90.0
time remaining on that action is: 6.0003900528
Heart rate: 124
session time is:  445.996846914
prog action duration is: 90.0
programme time is:  1646.99416137
time remaining on that action is: 5.00002384186
Heart rate: 123
session time is:  446.996361017
programme time is:  1647.99367547
prog action duration is: 90.0
time remaining on that action is: 4.00057005882
Heart rate: 124
session time is:  447.996862888
prog action duration is: 90.0
programme time is:  1648.99417734
time remaining on that action is: 3.00006604195
Heart rate: 125
max reward is: 
0.976983703313
max reward is: 
0.976983703313
session time is:  448.996876001
programme time is:  1649.99419045
prog action duration is: 90.0
time remaining on that action is: 2.00003790855
Heart rate: 124
prog action duration is: 90.0
session time is:  449.996507883
programme time is:  1650.99382234
time remaining on that action is: 1.00049901009
received response to styled programme suggestion
1561737495.25: got validated action RUN (validation timestamp: 1561737472.0)
with style NEUTRAL
with validation state VALIDATED
publishing a style learning action
adding programme action to validated action queue
adding a new instance to database
publishing this validated action to behaviour manager: RUNNEUTRAL60
received validated action: RUNNEUTRAL
Heart rate: 124
session time is:  450.996431112
participant should now be in RUN
programme time is:  1651.99374557
prog action duration is: 60.0
time remaining on that action is: 59.9999189377
Heart rate: 123
prog action duration is: 60.0
session time is:  451.996865988
programme time is:  1652.99418044
time remaining on that action is: 58.9997000694
Heart rate: 121
max reward is: 
0.969441460624
max reward is: 
0.969441460624
no action suggestioned
session time is:  452.996881962
programme time is:  1653.99419641
prog action duration is: 60.0
time remaining on that action is: 57.9995110035
Heart rate: 121
session time is:  453.997308969
prog action duration is: 60.0
programme time is:  1654.99462342
time remaining on that action is: 56.9992649555
Heart rate: 121
session time is:  454.996885061
prog action duration is: 60.0
programme time is:  1655.99419951
time remaining on that action is: 55.9996449947
Heart rate: 121
Speed: 3.8mph
Speed: 3.9mph
session time is:  455.99654603
programme time is:  1656.99386048
prog action duration is: 60.0
time remaining on that action is: 54.9998841286
Speed: 4.0mph
Speed: 4.7mph
Speed: 4.2mph
Speed: 4.9mph
Heart rate: 121
Speed: 4.4mph
Speed: 4.9mph
max reward is: 
0.968671963625
max reward is: 
0.968671963625
no action suggestioned
Speed: 4.6mph
Speed: 4.8mph
session time is:  456.996861935
prog action duration is: 60.0
programme time is:  1657.99417639
time remaining on that action is: 53.9994471073
Speed: 9.8mph
Speed: 5.0mph
Heart rate: 121
Speed: 5.2mph
Speed: 5.3mph
prog action duration is: 60.0
session time is:  457.996836901
programme time is:  1658.99415135
time remaining on that action is: 52.999653101
Speed: 5.9mph
Speed: 5.5mph
Speed: 5.6mph
Heart rate: 121
Speed: 5.7mph
session time is:  458.996887922
programme time is:  1659.99420238
prog action duration is: 60.0
time remaining on that action is: 51.9995989799
Speed: 5.8mph
Speed: 5.9mph
Heart rate: 121
Speed: 6.8mph
Speed: 6.0mph
1561737505.05: got validated action TIME (validation timestamp: 1561737472.0)
with style CHALLENGING
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
calling update threshold
new threshold is: 
0.981528497708
adding a new instance to database
adding a new instance to database
publishing this validated action to behaviour manager: TIMECHALLENGING0
received validated action: TIMECHALLENGING
session time is:  459.997279882
prog action duration is: 60.0
programme time is:  1660.99459434
time remaining on that action is: 50.9992210865
Speed: 6.1mph
Speed: 6.2mph
Heart rate: 123
max reward is: 
0.993686989647
max reward is: 
0.993686989647
got duplicate learner suggestion too quickly - won't suggest
1561737505.88: got validated action STYLE_UPDATE (validation timestamp: 1561737472.0)
with style CHALLENGING
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATECHALLENGING0
session time is:  460.997323036
programme time is:  1661.99463749
prog action duration is: 60.0
time remaining on that action is: 49.9990329742
Heart rate: 124
session time is:  461.99729991
programme time is:  1662.99461436
prog action duration is: 60.0
time remaining on that action is: 48.9992351532
Heart rate: 125
session time is:  462.996848106
prog action duration is: 60.0
time remaining on that action is: 47.9996449947
programme time is:  1663.99416256
Heart rate: 126
session time is:  463.996865034
prog action duration is: 60.0
programme time is:  1664.99417949
time remaining on that action is: 46.9995961189
Speed: 8.2mph
Speed: 0.0mph
Heart rate: 127
max reward is: 
0.989119699603
max reward is: 
0.989119699603
session time is:  464.997292042
programme time is:  1665.99460649
prog action duration is: 60.0
time remaining on that action is: 45.9990980625
Heart rate: 129
session time is:  465.996845961
programme time is:  1666.99416041
prog action duration is: 60.0
time remaining on that action is: 44.9995980263
received validated action: STYLE_UPDATECHALLENGING
Heart rate: 130
session time is:  466.997246027
programme time is:  1667.99456048
prog action duration is: 60.0
time remaining on that action is: 43.9992690086
Heart rate: 131
Speed: 8.2mph
Speed: 6.2mph
session time is:  467.997287035
programme time is:  1668.99460149
prog action duration is: 60.0
time remaining on that action is: 42.9991309643
Heart rate: 132
max reward is: 
0.988286043655
max reward is: 
0.988286043655
session time is:  468.997277975
programme time is:  1669.99459243
prog action duration is: 60.0
time remaining on that action is: 41.9992129803
Heart rate: 132
session time is:  469.997282028
programme time is:  1670.99459648
prog action duration is: 60.0
time remaining on that action is: 40.9992520809
Heart rate: 133
session time is:  470.997282982
programme time is:  1671.99459743
prog action duration is: 60.0
time remaining on that action is: 39.9973859787
Heart rate: 134
session time is:  471.997296095
programme time is:  1672.99461055
prog action duration is: 60.0
time remaining on that action is: 38.9992549419
Heart rate: 135
max reward is: 
0.986304076188
max reward is: 
0.986304076188
publishing this proposed action to tablet: TIMECHALLENGING
session time is:  472.996859074
prog action duration is: 60.0
programme time is:  1673.99417353
time remaining on that action is: 37.9995729923
Heart rate: 136
session time is:  473.997289896
programme time is:  1674.99460435
prog action duration is: 60.0
time remaining on that action is: 36.9991929531
Heart rate: 137
prog action duration is: 60.0
session time is:  474.997085094
programme time is:  1675.99439955
time remaining on that action is: 35.9995391369
Heart rate: 138
received response to learner engagement action suggestion
1561737521.08: got validated action TIME (validation timestamp: 1561737472.0)
with style CHALLENGING
with validation state REFUSED
publishing a style learning action
publishing an action learning example
calling update threshold
new threshold is: 
0.981665166192
 adding a new instance to database
adding a new instance to database
session time is:  475.997283936
programme time is:  1676.99459839
prog action duration is: 60.0
time remaining on that action is: 34.9992060661
Heart rate: 139
max reward is: 
0.974011923939
max reward is: 
0.974931857285
1561737521.88: got validated action STYLE_UPDATE (validation timestamp: 1561737472.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
received validated action: STYLE_UPDATENEUTRAL
session time is:  476.996848106
prog action duration is: 60.0
time remaining on that action is: 33.9995880127
programme time is:  1677.99416256
Heart rate: 140
session time is:  477.997287989
programme time is:  1678.99460244
prog action duration is: 60.0
time remaining on that action is: 32.999202013
Heart rate: 142
session time is:  478.996836901
prog action duration is: 60.0
programme time is:  1679.99415135
time remaining on that action is: 31.999710083
Heart rate: 142
session time is:  479.996851921
programme time is:  1680.99416637
prog action duration is: 60.0
time remaining on that action is: 30.9971580505
Heart rate: 144
max reward is: 
0.97541560429
max reward is: 
0.977430474227
prog action duration is: 60.0
time remaining on that action is: 29.9993171692
session time is:  480.997282982
programme time is:  1681.99459743
Heart rate: 145
session time is:  481.997277021
programme time is:  1682.99459147
prog action duration is: 60.0
time remaining on that action is: 28.999161005
1561737527.55: got validated action CHALLENGE (validation timestamp: 1561737472.0)
with style SYMPATHETIC
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
calling update threshold
adding a new instance to database
adding a new instance to database
publishing this validated action to behaviour manager: CHALLENGESYMPATHETIC0
received validated action: CHALLENGESYMPATHETIC
Heart rate: 145
session time is:  482.997298002
prog action duration is: 60.0
programme time is:  1683.99461246
time remaining on that action is: 27.9991559982
Heart rate: 146
session time is:  483.996802092
prog action duration is: 60.0
programme time is:  1684.99411654
time remaining on that action is: 26.9997551441
     user_id  session_number                              state_id  \
4274      MR               2  ff458379-502f-4c81-8a32-815070248238   

         timestamp                             action_id     action  \
4274  1561737216.0  206a522c-6a6d-4bf9-8f8e-e1f487573a2b  CHALLENGE   

            style duration  validation  \
4274  SYMPATHETIC        0  UNPROMPTED   

                                                 speech  
4274  Zone out-listen to your body and find that rhy...  
Zone out, listen to your body and find that rhythm.
Heart rate: 147
max reward is: 
0.977765890865
max reward is: 
0.978231330024
[ERROR] [1561737529.880746]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

session time is:  484.997090101
programme time is:  1685.99440455
prog action duration is: 60.0
time remaining on that action is: 25.9994180202
Heart rate: 147
prog action duration is: 60.0
time remaining on that action is: 24.9992990494
session time is:  485.997288942
programme time is:  1686.9946034
Heart rate: 148
prog action duration is: 60.0
session time is:  486.996860027
programme time is:  1687.99417448
time remaining on that action is: 23.9996430874
Heart rate: 148
session time is:  487.996886015
prog action duration is: 60.0
time remaining on that action is: 22.9995069504
programme time is:  1688.99420047
Heart rate: 149
max reward is: 
0.985176214156
max reward is: 
0.985176214156
1561737533.88: got validated action STYLE_UPDATE (validation timestamp: 1561737472.0)
with style SYMPATHETIC
with validation state STYLE_UPDATE
publishing this proposed action to tablet: CHALLENGESYMPATHETIC
publishing this validated action to behaviour manager: STYLE_UPDATESYMPATHETIC0
received validated action: STYLE_UPDATESYMPATHETIC
session time is:  488.996884108
prog action duration is: 60.0
programme time is:  1689.99419856
time remaining on that action is: 21.9995701313
Heart rate: 149
session time is:  489.997268915
prog action duration is: 60.0
time remaining on that action is: 20.9991810322
programme time is:  1690.99458337
Heart rate: 150
received response to learner engagement action suggestion
1561737535.85: got validated action CHALLENGE (validation timestamp: 1561737472.0)
with style SYMPATHETIC
with validation state REFUSED
publishing a style learning action
publishing an action learning example
calling update threshold
adding a new instance to database
new threshold is: 
0.975997896208
adding a new instance to database
prog action duration is: 60.0
session time is:  490.997287989
time remaining on that action is: 19.9993469715
programme time is:  1691.99460244
Heart rate: 151
prog action duration is: 60.0
session time is:  491.996865988
programme time is:  1692.99418044
time remaining on that action is: 18.9996869564
Heart rate: 152
max reward is: 
0.974572854077
max reward is: 
0.969188542355
no action suggestioned
1561737537.88: got validated action STYLE_UPDATE (validation timestamp: 1561737600.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
received validated action: STYLE_UPDATENEUTRAL
session time is:  492.996824026
programme time is:  1693.99413848
prog action duration is: 60.0
time remaining on that action is: 17.9996731281
Heart rate: 152
session time is:  493.996834993
programme time is:  1694.99414945
prog action duration is: 60.0
time remaining on that action is: 16.9994111061
Heart rate: 153
session time is:  494.997189999
prog action duration is: 60.0
programme time is:  1695.99450445
time remaining on that action is: 15.9993300438
Heart rate: 153
session time is:  495.997251987
prog action duration is: 60.0
programme time is:  1696.99456644
time remaining on that action is: 14.9992451668
Heart rate: 154
max reward is: 
0.977539784308
max reward is: 
0.977539784308
if len > 1 triggered
[ERROR] [1561737541.880319]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

session time is:  496.996865034
programme time is:  1697.99417949
prog action duration is: 60.0
time remaining on that action is: 13.9997031689
Heart rate: 155
prog action duration is: 60.0
time remaining on that action is: 12.999420166
session time is:  497.996881962
programme time is:  1698.99419641
Heart rate: 154
session time is:  498.996838093
publishing next action: WALKNEUTRAL90
prog action duration is: 60.0
time remaining on that action is: 11.9992909431
programme time is:  1699.99415255
publishing this proposed action to tablet: WALKNEUTRAL
Heart rate: 154
session time is:  499.996886969
programme time is:  1700.99420142
prog action duration is: 60.0
time remaining on that action is: 10.9996261597
Heart rate: 155
max reward is: 
0.979845248349
max reward is: 
0.979845248349
prog action duration is: 60.0
session time is:  500.996582985
programme time is:  1701.99389744
time remaining on that action is: 10.0000629425
Heart rate: 155
session time is:  501.997292042
programme time is:  1702.99460649
prog action duration is: 60.0
time remaining on that action is: 8.9991850853
Heart rate: 156
session time is:  502.996833086
prog action duration is: 60.0
programme time is:  1703.99414754
time remaining on that action is: 7.99972200394
Heart rate: 156
session time is:  503.996853113
prog action duration is: 60.0
programme time is:  1704.99416757
time remaining on that action is: 6.99961614609
Heart rate: 156
max reward is: 
0.978504834853
max reward is: 
0.976768725306
session time is:  504.996859074
prog action duration is: 60.0
programme time is:  1705.99417353
time remaining on that action is: 5.99969696999
Heart rate: 156
prog action duration is: 60.0
time remaining on that action is: 4.99978303909
session time is:  505.996855974
programme time is:  1706.99417043
Heart rate: 157
session time is:  506.996866941
programme time is:  1707.99418139
prog action duration is: 60.0
time remaining on that action is: 3.99956607819
Heart rate: 158
session time is:  507.996848106
prog action duration is: 60.0
time remaining on that action is: 2.99972915649
programme time is:  1708.99416256
Heart rate: 158
max reward is: 
0.979663577322
max reward is: 
0.975793002687
no action suggestioned
session time is:  508.99686408
programme time is:  1709.99417853
prog action duration is: 60.0
time remaining on that action is: 1.99959516525
Heart rate: 159
session time is:  509.996854067
prog action duration is: 60.0
programme time is:  1710.99416852
time remaining on that action is: 0.999604940414
received response to styled programme suggestion
1561737555.26: got validated action WALK (validation timestamp: 1561737600.0)
with style NEUTRAL
with validation state VALIDATED
publishing a style learning action
adding programme action to validated action queue
adding a new instance to database
publishing this validated action to behaviour manager: WALKNEUTRAL90
received validated action: WALKNEUTRAL
Heart rate: 160
session time is:  510.996838093
participant should now be in WALK
programme time is:  1711.99415255
prog action duration is: 90.0
time remaining on that action is: 89.9997777939
Heart rate: 160
session time is:  511.996680975
programme time is:  1712.99399543
prog action duration is: 90.0
time remaining on that action is: 89.000123024
Heart rate: 160
max reward is: 
0.976149040817
max reward is: 
0.976149040817
if len > 1 triggered
session time is:  512.997282028
programme time is:  1713.99459648
prog action duration is: 90.0
time remaining on that action is: 87.9994628429
Heart rate: 160
session time is:  513.996896982
programme time is:  1714.99421144
prog action duration is: 90.0
time remaining on that action is: 86.9999527931
Heart rate: 160
session time is:  514.997270107
programme time is:  1715.99458456
prog action duration is: 90.0
time remaining on that action is: 85.9996268749
Speed: 6.1mph
Heart rate: 160
Speed: 6.0mph
prog action duration is: 90.0
time remaining on that action is: 84.999614954
session time is:  515.997077942
programme time is:  1716.9943924
Speed: 6.8mph
Speed: 5.9mph
Speed: 5.8mph
Heart rate: 161
max reward is: 
0.97532949413
max reward is: 
0.97532949413
no action suggestioned
Speed: 5.7mph
prog action duration is: 90.0
session time is:  516.996846914
programme time is:  1717.99416137
time remaining on that action is: 83.999974966
Speed: 5.6mph
Speed: 5.5mph
Heart rate: 161
Speed: 5.9mph
Speed: 5.4mph
Speed: 5.9mph
Speed: 5.2mph
session time is:  517.996824026
programme time is:  1718.99413848
prog action duration is: 90.0
time remaining on that action is: 83.0000498295
Heart rate: 162
Speed: 5.1mph
Speed: 5.0mph
Speed: 9.8mph
prog action duration is: 90.0
session time is:  518.996936083
time remaining on that action is: 81.9997768402
programme time is:  1719.99425054
Speed: 4.9mph
Speed: 4.8mph
Heart rate: 162
Speed: 4.7mph
Speed: 4.8mph
Speed: 4.6mph
session time is:  519.997229099
programme time is:  1720.99454355
prog action duration is: 90.0
time remaining on that action is: 80.999478817
Speed: 4.5mph
Heart rate: 162
Speed: 4.9mph
max reward is: 
0.974891462681
max reward is: 
0.974891462681
no action suggestioned
Speed: 4.4mph
Speed: 4.9mph
session time is:  520.99684906
programme time is:  1721.99416351
prog action duration is: 90.0
time remaining on that action is: 80.0
Speed: 4.3mph
Speed: 4.2mph
Heart rate: 162
Speed: 4.7mph
Speed: 4.1mph
Speed: 4.0mph
session time is:  521.996867895
programme time is:  1722.99418235
prog action duration is: 90.0
time remaining on that action is: 78.9997680187
Speed: 3.9mph
Speed: 3.8mph
Heart rate: 162
session time is:  522.997294903
programme time is:  1723.99460936
prog action duration is: 90.0
time remaining on that action is: 77.99949193
Speed: 3.7mph
Heart rate: 163
prog action duration is: 90.0
session time is:  523.996845007
programme time is:  1724.99415946
time remaining on that action is: 77.0000607967
Heart rate: 163
max reward is: 
0.978367319656
max reward is: 
0.978367319656
if len > 1 triggered
[ERROR] [1561737569.879910]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

session time is:  524.996645927
prog action duration is: 90.0
programme time is:  1725.99396038
time remaining on that action is: 76.0000469685
Heart rate: 163
prog action duration is: 90.0
session time is:  525.996875048
programme time is:  1726.9941895
time remaining on that action is: 75.0000188351
Heart rate: 163
session time is:  526.996839046
programme time is:  1727.9941535
prog action duration is: 90.0
time remaining on that action is: 73.999945879
Speed: 0.0mph
Heart rate: 162
prog action duration is: 90.0
time remaining on that action is: 72.999904871
session time is:  527.996856928
programme time is:  1728.99417138
Heart rate: 162
max reward is: 
0.978322549891
max reward is: 
0.978322549891
session time is:  528.996845961
programme time is:  1729.99416041
prog action duration is: 90.0
time remaining on that action is: 71.9998998642
Heart rate: 161
session time is:  529.996985912
programme time is:  1730.99430037
prog action duration is: 90.0
time remaining on that action is: 70.999822855
Heart rate: 161
Speed: 3.0mph
Speed: 3.7mph
prog action duration is: 90.0
time remaining on that action is: 69.9999668598
session time is:  530.996860027
programme time is:  1731.99417448
Heart rate: 161
session time is:  531.997050047
programme time is:  1732.9943645
prog action duration is: 90.0
time remaining on that action is: 68.9997148514
1561737577.48: got validated action TIME (validation timestamp: 1561737600.0)
with style POSITIVE
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
adding a new instance to database
adding a new instance to database
publishing this validated action to behaviour manager: TIMEPOSITIVE0
received validated action: TIMEPOSITIVE
Heart rate: 161
max reward is: 
1.0
max reward is: 
1.0
got duplicate learner suggestion too quickly - won't suggest
 1561737577.88: got validated action STYLE_UPDATE (validation timestamp: 1561737600.0)
with style POSITIVE
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATEPOSITIVE0
session time is:  532.996833086
programme time is:  1733.99414754
prog action duration is: 90.0
time remaining on that action is: 67.9999358654
Heart rate: 161
session time is:  533.996859074
prog action duration is: 90.0
programme time is:  1734.99417353
time remaining on that action is: 66.9997749329
Heart rate: 160
session time is:  534.996901989
programme time is:  1735.99421644
prog action duration is: 90.0
time remaining on that action is: 65.9998948574
Heart rate: 159
prog action duration is: 90.0
session time is:  535.9968431
programme time is:  1736.99415755
time remaining on that action is: 64.9999849796
received validated action: STYLE_UPDATEPOSITIVE
Heart rate: 158
max reward is: 
0.978339122124
max reward is: 
0.978339122124
if len > 1 triggered
1561737581.88: got validated action STYLE_UPDATE (validation timestamp: 1561737600.0)
with style NEUTRAL
with validation state STYLE_UPDATE
[ERROR] [1561737581.880740]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
session time is:  536.997283936
programme time is:  1737.99459839
prog action duration is: 90.0
time remaining on that action is: 63.9994499683
Heart rate: 156
session time is:  537.996839046
prog action duration is: 90.0
programme time is:  1738.9941535
time remaining on that action is: 63.0000009537
received validated action: STYLE_UPDATENEUTRAL
Heart rate: 155
prog action duration is: 90.0
session time is:  538.996869087
programme time is:  1739.99418354
time remaining on that action is: 62.0000019073
Heart rate: 154
session time is:  539.996897936
programme time is:  1740.99421239
prog action duration is: 90.0
time remaining on that action is: 60.999740839
Heart rate: 153
max reward is: 
0.990808811313
max reward is: 
0.990808811313
1561737585.88: got validated action STYLE_UPDATE (validation timestamp: 1561737600.0)
with style POSITIVE
with validation state STYLE_UPDATE
publishing this proposed action to tablet: TIMEPOSITIVE
publishing this validated action to behaviour manager: STYLE_UPDATEPOSITIVE0
received validated action: STYLE_UPDATEPOSITIVE
session time is:  540.997298956
programme time is:  1741.99461341
prog action duration is: 90.0
time remaining on that action is: 59.9994440079
Heart rate: 153
session time is:  541.996865034
prog action duration is: 90.0
time remaining on that action is: 58.9999959469
programme time is:  1742.99417949
Heart rate: 153
received response to learner engagement action suggestion
1561737587.95: got validated action TIME (validation timestamp: 1561737600.0)
with style POSITIVE
with validation state REFUSED
publishing a style learning action
publishing an action learning example
adding a new instance to database
 adding a new instance to database
prog action duration is: 90.0
session time is:  542.996423006
time remaining on that action is: 58.00045681
programme time is:  1743.99373746
Heart rate: 152
session time is:  543.997294903
programme time is:  1744.99460936
prog action duration is: 90.0
time remaining on that action is: 56.9994637966
Heart rate: 152
max reward is: 
0.990699671932
max reward is: 
0.990699671932
session time is:  544.996859074
programme time is:  1745.99417353
prog action duration is: 90.0
time remaining on that action is: 56.0000488758
Heart rate: 152
session time is:  545.996880054
programme time is:  1746.99419451
prog action duration is: 90.0
time remaining on that action is: 54.9975609779
Heart rate: 152
session time is:  546.996872902
programme time is:  1747.99418736
prog action duration is: 90.0
time remaining on that action is: 54.0000150204
Heart rate: 152
session time is:  547.996870995
programme time is:  1748.99418545
prog action duration is: 90.0
time remaining on that action is: 52.9998748302
Heart rate: 151
max reward is: 
0.987382335416
max reward is: 
0.987382335416
session time is:  548.996870995
programme time is:  1749.99418545
prog action duration is: 90.0
time remaining on that action is: 51.9999728203
Heart rate: 150
session time is:  549.996848106
prog action duration is: 90.0
time remaining on that action is: 50.9998857975
programme time is:  1750.99416256
Heart rate: 149
prog action duration is: 90.0
session time is:  550.996845961
programme time is:  1751.99416041
time remaining on that action is: 50.0000259876
Heart rate: 149
session time is:  551.996860981
prog action duration is: 90.0
time remaining on that action is: 48.9999279976
programme time is:  1752.99417543
Heart rate: 148
max reward is: 
0.978120081817
max reward is: 
0.978120081817
if len > 1 triggered
[ERROR] [1561737597.880292]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

1561737597.88: got validated action STYLE_UPDATE (validation timestamp: 1561737600.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
received validated action: STYLE_UPDATENEUTRAL
session time is:  552.998739004
programme time is:  1753.99605346
prog action duration is: 90.0
time remaining on that action is: 47.9980568886
Heart rate: 147
prog action duration is: 90.0
session time is:  553.996845961
programme time is:  1754.99416041
time remaining on that action is: 47.0000219345
Heart rate: 147
prog action duration is: 90.0
session time is:  554.996879101
programme time is:  1755.99419355
time remaining on that action is: 45.9999549389
Heart rate: 147
session time is:  555.996881962
programme time is:  1756.99419641
prog action duration is: 90.0
time remaining on that action is: 44.9997668266
Heart rate: 147
max reward is: 
0.976598121441
max reward is: 
0.977635510098
if len > 1 triggered
session time is:  556.996860027
prog action duration is: 90.0
time remaining on that action is: 43.9997029305
programme time is:  1757.99417448
Heart rate: 148
session time is:  557.996859074
programme time is:  1758.99417353
prog action duration is: 90.0
time remaining on that action is: 42.9997348785
Heart rate: 148
session time is:  558.996846914
programme time is:  1759.99416137
prog action duration is: 90.0
time remaining on that action is: 41.9998979568
Heart rate: 147
session time is:  559.996846914
programme time is:  1760.99416137
prog action duration is: 90.0
time remaining on that action is: 40.9995930195
Heart rate: 146
max reward is: 
0.97502888341
max reward is: 
0.977144322704
session time is:  560.996855021
programme time is:  1761.99416947
prog action duration is: 90.0
time remaining on that action is: 39.9997198582
Heart rate: 145
session time is:  561.996871948
programme time is:  1762.9941864
prog action duration is: 90.0
time remaining on that action is: 38.9999639988
Heart rate: 143
session time is:  562.99632597
programme time is:  1763.99364042
prog action duration is: 90.0
time remaining on that action is: 38.0002160072
Heart rate: 141
session time is:  563.996885061
programme time is:  1764.99419951
prog action duration is: 90.0
time remaining on that action is: 36.999863863
Heart rate: 140
max reward is: 
0.975844658537
max reward is: 
0.975529730292
no action suggestioned
prog action duration is: 90.0
session time is:  564.996968985
programme time is:  1765.99428344
time remaining on that action is: 35.9996747971
Heart rate: 139
session time is:  565.996850014
prog action duration is: 90.0
programme time is:  1766.99416447
time remaining on that action is: 34.9999959469
session time is:  566.997484922
prog action duration is: 90.0
time remaining on that action is: 33.9988968372
programme time is:  1767.99479938
Heart rate: 138
Heart rate: 138
session time is:  567.996884108
programme time is:  1768.99419856
prog action duration is: 90.0
time remaining on that action is: 32.9997580051
max reward is: 
0.979035063201
max reward is: 
0.978945566284
session time is:  568.996870995
programme time is:  1769.99418545
prog action duration is: 90.0
time remaining on that action is: 31.9997668266
Heart rate: 137
Heart rate: 137
session time is:  569.996876001
prog action duration is: 90.0
time remaining on that action is: 30.9997358322
programme time is:  1770.99419045
Heart rate: 137
session time is:  570.996867895
programme time is:  1771.99418235
prog action duration is: 90.0
time remaining on that action is: 29.9998040199
Heart rate: 136
session time is:  571.996833086
programme time is:  1772.99414754
prog action duration is: 90.0
time remaining on that action is: 28.9998939037
Heart rate: 136
max reward is: 
0.979301053179
max reward is: 
0.977141228842
session time is:  572.99686408
programme time is:  1773.99417853
prog action duration is: 90.0
time remaining on that action is: 27.9998970032
Heart rate: 135
session time is:  573.997315884
programme time is:  1774.99463034
prog action duration is: 90.0
time remaining on that action is: 26.9994769096
Heart rate: 135
session time is:  574.997328043
programme time is:  1775.9946425
prog action duration is: 90.0
time remaining on that action is: 25.9995598793
Heart rate: 135
session time is:  575.996860981
programme time is:  1776.99417543
prog action duration is: 90.0
time remaining on that action is: 24.9999449253
Heart rate: 135
max reward is: 
0.977129056317
max reward is: 
0.977129056317
session time is:  576.996885061
prog action duration is: 90.0
programme time is:  1777.99419951
time remaining on that action is: 24.0000128746
Heart rate: 134
session time is:  577.996872902
prog action duration is: 90.0
programme time is:  1778.99418736
time remaining on that action is: 23.0000269413
Heart rate: 133
session time is:  578.996836901
programme time is:  1779.99415135
prog action duration is: 90.0
time remaining on that action is: 21.999943018
Heart rate: 133
session time is:  579.996896029
programme time is:  1780.99421048
prog action duration is: 90.0
time remaining on that action is: 20.9999728203
Heart rate: 132
max reward is: 
0.982350612704
max reward is: 
0.977676404762
prog action duration is: 90.0
session time is:  580.997294903
programme time is:  1781.99460936
time remaining on that action is: 19.9995458126
Heart rate: 131
session time is:  581.996885061
programme time is:  1782.99419951
prog action duration is: 90.0
time remaining on that action is: 18.9997639656
Heart rate: 130
session time is:  582.996870995
programme time is:  1783.99418545
prog action duration is: 90.0
time remaining on that action is: 17.9999568462
Heart rate: 130
session time is:  583.996848106
programme time is:  1784.99416256
prog action duration is: 90.0
time remaining on that action is: 16.9999439716
Heart rate: 130
max reward is: 
0.972326262825
max reward is: 
0.972326262825
no action suggestioned
prog action duration is: 90.0
session time is:  584.996885061
programme time is:  1785.99419951
time remaining on that action is: 15.9997489452
Heart rate: 130
session time is:  585.996874094
programme time is:  1786.99418855
prog action duration is: 90.0
time remaining on that action is: 14.9997339249
Heart rate: 130
1561737632.15: got validated action CHALLENGE (validation timestamp: 1561737600.0)
with style CHALLENGING
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
calling update threshold
calling update threshold
new threshold is: 
0.975849194093
adding a new instance to database
new threshold is: 
0.981406381905
adding a new instance to database
publishing this validated action to behaviour manager: CHALLENGECHALLENGING0
received validated action: CHALLENGECHALLENGING
session time is:  586.996867895
programme time is:  1787.99418235
prog action duration is: 90.0
time remaining on that action is: 13.9999418259
Heart rate: 130
session time is:  587.997291088
programme time is:  1788.99460554
prog action duration is: 90.0
time remaining on that action is: 12.9994778633
Heart rate: 130
max reward is: 
0.996839910871
max reward is: 
0.996839910871
1561737633.88: got validated action STYLE_UPDATE (validation timestamp: 1561737600.0)
with style CHALLENGINGgot duplicate learner suggestion too quickly - won't suggest

with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATECHALLENGING0
     user_id  session_number                              state_id  \
3379      MR               1  40105a69-c16d-4a55-988d-bc4705dfe4a9   
4267      MR               2  9f5ad841-1e2a-4b69-9f06-29e16ba970eb   
4285      MR               2  68bc40b0-2e3d-47bb-acf6-02cc39307a38   

         timestamp                             action_id     action  \
3379  1561478144.0  a9106bfd-36a0-4e0a-893f-d11b3ace6790  CHALLENGE   
4267  1561737216.0  9cb04d98-e274-4732-ab87-f272cad2ee13  CHALLENGE   
4285  1561737344.0  7e190706-5638-47f3-82f7-3cb8ae588e39  CHALLENGE   

            style duration  validation  \
3379  CHALLENGING        0     CONTROL   
4267  CHALLENGING        0  UNPROMPTED   
4285  CHALLENGING        0  UNPROMPTED   

                                                 speech  
3379      Come on Mirjana show me what you're made of!!  
4267  Keep up the intensity. We die today to be stro...  
4285         Suffering builds character. You are tough!  
Suffering builds character. You are tough!
session time is:  588.996876955
programme time is:  1789.99419141
publishing next action: RUNNEUTRAL60
prog action duration is: 90.0
time remaining on that action is: 11.9995079041
publishing this proposed action to tablet: RUNCHALLENGING
Heart rate: 130
prog action duration is: 90.0
session time is:  589.997306108
programme time is:  1790.99462056
time remaining on that action is: 10.9996058941
Heart rate: 129
received validated action: STYLE_UPDATECHALLENGING
session time is:  590.996825933
prog action duration is: 90.0
programme time is:  1791.99414039
time remaining on that action is: 10.0000429153
Heart rate: 129
session time is:  591.99684
prog action duration is: 90.0
programme time is:  1792.99415445
time remaining on that action is: 8.99993300438
Heart rate: 128
max reward is: 
0.970941384032
max reward is: 
0.970941384032
no action suggestioned
1561737637.88: got validated action STYLE_UPDATE (validation timestamp: 1561737600.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
received validated action: STYLE_UPDATENEUTRAL
session time is:  592.99686408
programme time is:  1793.99417853
prog action duration is: 90.0
time remaining on that action is: 7.99994802475
Heart rate: 128
session time is:  593.996881008
programme time is:  1794.99419546
prog action duration is: 90.0
time remaining on that action is: 6.99991798401
Heart rate: 127
session time is:  594.996876955
programme time is:  1795.99419141
prog action duration is: 90.0
time remaining on that action is: 5.99989795685
Heart rate: 127
session time is:  595.997289896
programme time is:  1796.99460435
prog action duration is: 90.0
time remaining on that action is: 4.99954795837
Heart rate: 125
max reward is: 
0.974921294436
max reward is: 
0.974674243096
no action suggestioned
session time is:  596.996865034
programme time is:  1797.99417949
prog action duration is: 90.0
time remaining on that action is: 3.99967479706
Heart rate: 125
session time is:  597.997296095
programme time is:  1798.99461055
prog action duration is: 90.0
time remaining on that action is: 2.99951696396
Heart rate: 124
session time is:  598.996870041
programme time is:  1799.99418449
prog action duration is: 90.0
time remaining on that action is: 1.99996089935
Heart rate: 123
prog action duration is: 90.0
time remaining on that action is: 1.00000286102
session time is:  599.996860981
programme time is:  1800.99417543
received response to styled programme suggestion
1561737645.26: got validated action RUN (validation timestamp: 1561737600.0)
with style CHALLENGING
with validation state VALIDATED
publishing a style learning action
calling update threshold
new threshold is: 
adding programme action to validated action queue
0.981088363748
adding a new instance to database
publishing this validated action to behaviour manager: RUNCHALLENGING60
received validated action: RUNCHALLENGING
Heart rate: 123
max reward is: 
0.995989806769
max reward is: 
0.973348988185
no action suggestioned
1561737645.88: got validated action STYLE_UPDATE (validation timestamp: 1561737600.0)
with style CHALLENGING
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATECHALLENGING0
session time is:  600.996872902
programme time is:  1801.99418736
participant should now be in RUN
prog action duration is: 60.0
time remaining on that action is: 59.9997360706
Heart rate: 124
prog action duration is: 60.0
session time is:  601.996867895
programme time is:  1802.99418235
time remaining on that action is: 59.0001580715
Heart rate: 124
session time is:  602.996845007
programme time is:  1803.99415946
prog action duration is: 60.0
time remaining on that action is: 58.000054121
Heart rate: 123
session time is:  603.996854067
prog action duration is: 60.0
programme time is:  1804.99416852
time remaining on that action is: 56.9999661446
Heart rate: 123
max reward is: 
0.970795519529
max reward is: 
0.970795519529
no action suggestioned
1561737649.88: got validated action STYLE_UPDATE (validation timestamp: 1561737600.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
session time is:  604.996865988
programme time is:  1805.99418044
prog action duration is: 60.0
time remaining on that action is: 56.0000321865
Heart rate: 122
session time is:  605.997286081
programme time is:  1806.99460053
prog action duration is: 60.0
time remaining on that action is: 54.9996490479
Heart rate: 122
session time is:  606.996859074
programme time is:  1807.99417353
prog action duration is: 60.0
time remaining on that action is: 53.9998521805
Heart rate: 121
prog action duration is: 60.0
session time is:  607.996876955
programme time is:  1808.99419141
time remaining on that action is: 53.0001239777
Heart rate: 120
max reward is: 
0.974222576051
max reward is: 
0.974222576051
no action suggestioned
Speed: 3.8mph
session time is:  608.996857882
programme time is:  1809.99417233
prog action duration is: 60.0
time remaining on that action is: 52.000218153
Speed: 3.9mph
Speed: 4.0mph
Speed: 4.7mph
Heart rate: 119
Speed: 4.2mph
Speed: 4.9mph
Speed: 4.5mph
Speed: 4.6mph
session time is:  609.996850967
prog action duration is: 60.0
time remaining on that action is: 50.999972105
programme time is:  1810.99416542
Speed: 4.0mph
Speed: 4.8mph
Speed: 4.9mph
Heart rate: 119
Speed: 9.0mph
Speed: 5.0mph
Speed: 5.2mph
Speed: 5.3mph
received validated action: STYLE_UPDATECHALLENGING
Speed: 5.9mph
prog action duration is: 60.0
session time is:  610.997306108
time remaining on that action is: 49.999767065
programme time is:  1811.99462056
Speed: 5.6mph
Speed: 5.8mph
Heart rate: 119
Speed: 5.0mph
Speed: 5.8mph
Speed: 6.9mph
Speed: 6.0mph
prog action duration is: 60.0
session time is:  611.996862888
programme time is:  1812.99417734
time remaining on that action is: 49.000136137
Speed: 6.7mph
Speed: 6.2mph
Speed: 6.3mph
Heart rate: 120
max reward is: 
0.990275592058
max reward is: 
0.990275592058
[ERROR] [1561737657.879876]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

1561737657.88: got validated action STYLE_UPDATE (validation timestamp: 1561737600.0)
with style CHALLENGING
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATECHALLENGING0
received validated action: STYLE_UPDATENEUTRAL
prog action duration is: 60.0
session time is:  612.996860981
programme time is:  1813.99417543
time remaining on that action is: 48.0001351833
Speed: 6.9mph
1561737658.53: got validated action HUMOUR (validation timestamp: 1561737600.0)
with style POSITIVE
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
adding a new instance to database
publishing an action learning example
calling update threshold
adding a new instance to database
publishing this validated action to behaviour manager: HUMOURPOSITIVE0
Speed: 6.4mph
Heart rate: 123
received validated action: STYLE_UPDATECHALLENGING
session time is:  613.997277021
programme time is:  1814.99459147
prog action duration is: 60.0
time remaining on that action is: 46.9996681213
Heart rate: 125
Speed: 6.9mph
Speed: 6.5mph
session time is:  614.996854067
programme time is:  1815.99416852
prog action duration is: 60.0
time remaining on that action is: 46.0000941753
Heart rate: 127
received validated action: HUMOURPOSITIVE
prog action duration is: 60.0
session time is:  615.99686408
programme time is:  1816.99417853
time remaining on that action is: 45.0001151562
Heart rate: 128
max reward is: 
0.982744758961
max reward is: 
0.982744758961
1561737661.88: got validated action STYLE_UPDATE (validation timestamp: 1561737600.0)
with style POSITIVE
with validation state STYLE_UPDATE
publishing this proposed action to tablet: HUMOURPOSITIVE
publishing this validated action to behaviour manager: STYLE_UPDATEPOSITIVE0
session time is:  616.997310877
programme time is:  1817.99462533
prog action duration is: 60.0
time remaining on that action is: 43.9996471405
     user_id  session_number                              state_id  \
4256      MR               2  9da6c847-c5c7-44d0-bc1f-5dcf1e931cf1   
4288      MR               2  071ef7f1-b96b-47fc-96ec-c9d2cf906088   

         timestamp                             action_id  action     style  \
4256  1561737088.0  4d7a779b-7d15-41f7-8a40-a8e935ab2171  HUMOUR  POSITIVE   
4288  1561737344.0  c478b13d-3add-4faa-92c4-02e0fb6d4118  HUMOUR  POSITIVE   

     duration  validation                                             speech  
4256        0  UNPROMPTED  I heard your ancestors ate 5K runs for breakfast!  
4288        0  UNPROMPTED  You can call me Terminator because I'm going t...  
You can call me Terminator because I'm going to make you run for your life!
Heart rate: 129
session time is:  617.99684
prog action duration is: 60.0
programme time is:  1818.99415445
time remaining on that action is: 42.999931097
Heart rate: 129
Speed: 8.5mph
Speed: 0.0mph
received response to learner engagement action suggestion
1561737664.07: got validated action HUMOUR (validation timestamp: 1561737600.0)
with style POSITIVE
with validation state REFUSED
publishing a style learning action
publishing an action learning example
adding a new instance to database
calling update threshold
new threshold is: 
0.97640483525
adding a new instance to database
session time is:  618.996848106
programme time is:  1819.99416256
prog action duration is: 60.0
time remaining on that action is: 42.0000259876
Heart rate: 130
session time is:  619.996867895
programme time is:  1820.99418235
prog action duration is: 60.0
time remaining on that action is: 41.0001809597
Heart rate: 131
max reward is: 
0.955472277184
max reward is: 
0.955472277184
no action suggestioned
1561737665.88: got validated action STYLE_UPDATE (validation timestamp: 1561737728.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
session time is:  620.997271061
programme time is:  1821.99458551
prog action duration is: 60.0
time remaining on that action is: 39.9997200966
Heart rate: 131
received validated action: STYLE_UPDATEPOSITIVE
Speed: 6.5mph
session time is:  621.996969938
programme time is:  1822.99428439
prog action duration is: 60.0
time remaining on that action is: 38.9997801781
Heart rate: 132
session time is:  622.996872902
programme time is:  1823.99418736
prog action duration is: 60.0
time remaining on that action is: 38.0000059605
Heart rate: 133
received validated action: STYLE_UPDATENEUTRAL
prog action duration is: 60.0
session time is:  623.996829987
programme time is:  1824.99414444
time remaining on that action is: 37.0002009869
Heart rate: 133
max reward is: 
0.979799687848
max reward is: 
0.979799687848
session time is:  624.99692297
programme time is:  1825.99423742
prog action duration is: 60.0
time remaining on that action is: 35.999984026
Heart rate: 134
session time is:  625.997272015
programme time is:  1826.99458647
prog action duration is: 60.0
time remaining on that action is: 34.9996640682
Heart rate: 134
session time is:  626.997282028
programme time is:  1827.99459648
prog action duration is: 60.0
time remaining on that action is: 33.9995791912
Heart rate: 135
prog action duration is: 60.0
session time is:  627.996392965
programme time is:  1828.99370742
time remaining on that action is: 33.0006091595
Heart rate: 136
max reward is: 
0.986898264378
max reward is: 
0.986898264378
1561737673.88: got validated action STYLE_UPDATE (validation timestamp: 1561737728.0)
with style SYMPATHETIC
with validation state STYLE_UPDATE
[ERROR] [1561737673.880962]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

publishing this validated action to behaviour manager: STYLE_UPDATESYMPATHETIC0
received validated action: STYLE_UPDATESYMPATHETIC
session time is:  628.996857882
programme time is:  1829.99417233
prog action duration is: 60.0
time remaining on that action is: 32.0000500679
Heart rate: 137
prog action duration is: 60.0
session time is:  629.99686408
programme time is:  1830.99417853
time remaining on that action is: 31.000120163
Heart rate: 138
session time is:  630.997283936
programme time is:  1831.99459839
prog action duration is: 60.0
time remaining on that action is: 29.9996709824
Heart rate: 139
session time is:  631.997261047
programme time is:  1832.9945755
prog action duration is: 60.0
time remaining on that action is: 28.9994380474
Heart rate: 140
max reward is: 
0.981933534811
max reward is: 
0.981933534811
session time is:  632.997405052
programme time is:  1833.99471951
prog action duration is: 60.0
time remaining on that action is: 27.9993491173
Heart rate: 141
prog action duration is: 60.0
session time is:  633.997319937
programme time is:  1834.99463439
time remaining on that action is: 26.9996440411
Heart rate: 142
session time is:  634.997282028
programme time is:  1835.99459648
prog action duration is: 60.0
time remaining on that action is: 25.9995839596
Heart rate: 144
prog action duration is: 60.0
time remaining on that action is: 25.0005021095
session time is:  635.996522903
programme time is:  1836.99383736
Heart rate: 145
max reward is: 
0.989336254299
max reward is: 
0.989336254299
[ERROR] [1561737681.880479]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

session time is:  636.996861935
programme time is:  1837.99417639
prog action duration is: 60.0
time remaining on that action is: 24.0000371933
Heart rate: 147
session time is:  637.996658087
programme time is:  1838.99397254
prog action duration is: 60.0
time remaining on that action is: 23.0002071857
Heart rate: 148
prog action duration is: 60.0
session time is:  638.996865034
programme time is:  1839.99417949
time remaining on that action is: 22.0001151562
Heart rate: 149
prog action duration is: 60.0
session time is:  639.99684906
programme time is:  1840.99416351
time remaining on that action is: 21.0001151562
Heart rate: 150
max reward is: 
0.98775874512
max reward is: 
0.98775874512
prog action duration is: 60.0
session time is:  640.996877909
programme time is:  1841.99419236
time remaining on that action is: 20.0001041889
Heart rate: 152
session time is:  641.997318983
programme time is:  1842.99463344
prog action duration is: 60.0
time remaining on that action is: 18.9995851517
Heart rate: 152
session time is:  642.996881962
programme time is:  1843.99419641
prog action duration is: 60.0
time remaining on that action is: 18.0001060963
1561737688.49: got validated action TIME (validation timestamp: 1561737728.0)
with style SYMPATHETIC
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
adding a new instance to database
adding a new instance to database
publishing this validated action to behaviour manager: TIMESYMPATHETIC0
received validated action: TIMESYMPATHETIC
Heart rate: 153
session time is:  643.996853113
programme time is:  1844.99416757
prog action duration is: 60.0
time remaining on that action is: 17.0000340939
Heart rate: 154
max reward is: 
0.991355983603
max reward is: 
0.991355983603
got duplicate learner suggestion too quickly - won't suggest
prog action duration is: 60.0
time remaining on that action is: 16.0000770092
session time is:  644.996891022
programme time is:  1845.99420547
Heart rate: 155
session time is:  645.997284889
programme time is:  1846.99459934
prog action duration is: 60.0
time remaining on that action is: 14.9997091293
Heart rate: 156
session time is:  646.997287035
programme time is:  1847.99460149
prog action duration is: 60.0
time remaining on that action is: 13.9996721745
Heart rate: 156
prog action duration is: 60.0
session time is:  647.996865988
programme time is:  1848.99418044
time remaining on that action is: 13.0001549721
Heart rate: 157
max reward is: 
0.972844682
max reward is: 
0.961129150743
no action suggestioned
1561737693.88: got validated action STYLE_UPDATE (validation timestamp: 1561737728.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
received validated action: STYLE_UPDATENEUTRAL
session time is:  648.996855021
programme time is:  1849.99416947
publishing next action: WALKNEUTRAL90
prog action duration is: 60.0
time remaining on that action is: 12.0000300407
publishing this proposed action to tablet: WALKNEUTRAL
Heart rate: 158
prog action duration is: 60.0
session time is:  649.997060061
programme time is:  1850.99437451
time remaining on that action is: 10.9998521805
Heart rate: 159
session time is:  650.997061968
prog action duration is: 60.0
programme time is:  1851.99437642
time remaining on that action is: 9.99989199638
Heart rate: 160
1561737696.71: got validated action WALK (validation timestamp: 1561737728.0)
with style NEUTRAL
with validation state REFUSED
publishing a style learning action
adding a new instance to database
session time is:  651.997281075
programme time is:  1852.99459553
prog action duration is: 60.0
time remaining on that action is: 8.99967217445
Heart rate: 160
max reward is: 
0.979735516155
max reward is: 
0.977847843176
if len > 1 triggered
session time is:  652.996376038
programme time is:  1853.99369049
prog action duration is: 60.0
time remaining on that action is: 8.00053095818
Heart rate: 160
session time is:  653.996872902
programme time is:  1854.99418736
prog action duration is: 60.0
time remaining on that action is: 6.99994397163
Heart rate: 160
prog action duration is: 60.0
session time is:  654.996850967
programme time is:  1855.99416542
time remaining on that action is: 6.00016903877
Heart rate: 160
session time is:  655.996853113
prog action duration is: 60.0
time remaining on that action is: 5.00007414818
programme time is:  1856.99416757
Heart rate: 161
max reward is: 
0.980236271328
max reward is: 
0.97738899055
if len > 1 triggered
prog action duration is: 60.0
session time is:  656.996361971
time remaining on that action is: 4.00059103966
programme time is:  1857.99367642
Heart rate: 161
session time is:  657.997303009
programme time is:  1858.99461746
prog action duration is: 60.0
time remaining on that action is: 2.99966311455
Heart rate: 162
session time is:  658.99684906
programme time is:  1859.99416351
prog action duration is: 60.0
time remaining on that action is: 2.00011301041
Heart rate: 163
prog action duration is: 60.0
time remaining on that action is: 1.00013399124
session time is:  659.996860981
programme time is:  1860.99417543
received response to styled programme suggestion
1561737705.26: got validated action WALK (validation timestamp: 1561737728.0)
with style POSITIVE
with validation state PASSIVE_ACCEPTED
publishing a style learning action
adding programme action to validated action queue
adding a new instance to database
publishing this validated action to behaviour manager: WALKPOSITIVE90
received validated action: WALKPOSITIVE
Heart rate: 163
max reward is: 
0.981418523043
max reward is: 
0.973588761496
no action suggestioned
session time is:  660.997278929
programme time is:  1861.99459338
participant should now be in WALK
prog action duration is: 90.0
time remaining on that action is: 89.9997360706
Heart rate: 163
session time is:  661.996872902
programme time is:  1862.99418736
prog action duration is: 90.0
time remaining on that action is: 89.0005640984
Heart rate: 163
session time is:  662.997277021
programme time is:  1863.99459147
prog action duration is: 90.0
time remaining on that action is: 88.0001161098
Heart rate: 163
session time is:  663.996372938
prog action duration is: 90.0
programme time is:  1864.99368739
time remaining on that action is: 87.0008170605
Heart rate: 163
max reward is: 
0.982790126938
max reward is: 
0.982790126938
1561737709.88: got validated action STYLE_UPDATE (validation timestamp: 1561737728.0)
with style POSITIVE
[ERROR] [1561737709.880898]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATEPOSITIVE0
prog action duration is: 90.0
session time is:  664.99652791
programme time is:  1865.99384236
time remaining on that action is: 86.0009169579
Heart rate: 164
Speed: 6.4mph
Speed: 6.3mph
session time is:  665.996911049
programme time is:  1866.9942255
prog action duration is: 90.0
time remaining on that action is: 85.0004141331
Speed: 6.2mph
Heart rate: 164
Speed: 6.7mph
Speed: 6.1mph
Speed: 6.7mph
Speed: 6.0mph
session time is:  666.997345924
programme time is:  1867.99466038
prog action duration is: 90.0
time remaining on that action is: 84.0000090599
Speed: 6.8mph
Heart rate: 164
Speed: 5.9mph
Speed: 5.8mph
received validated action: STYLE_UPDATEPOSITIVE
session time is:  667.996834993
prog action duration is: 90.0
programme time is:  1868.99414945
time remaining on that action is: 83.000590086
Speed: 5.7mph
Speed: 5.8mph
Heart rate: 165
Speed: 5.6mph
max reward is: 
0.976326629229
max reward is: 
0.973718165145
no action suggestioned
1561737713.88: got validated action STYLE_UPDATE (validation timestamp: 1561737728.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
Speed: 5.5mph
Speed: 5.9mph
session time is:  668.996857882
programme time is:  1869.99417233
prog action duration is: 90.0
time remaining on that action is: 82.0005259514
Speed: 5.4mph
Speed: 5.9mph
Speed: 5.3mph
Heart rate: 165
received validated action: STYLE_UPDATENEUTRAL
Speed: 5.2mph
Speed: 5.7mph
session time is:  669.996460915
programme time is:  1870.99377537
prog action duration is: 90.0
time remaining on that action is: 81.0010399818
Speed: 5.1mph
Speed: 5.7mph
Speed: 5.0mph
Heart rate: 165
Speed: 9.8mph
Speed: 4.8mph
session time is:  670.997292995
programme time is:  1871.99460745
prog action duration is: 90.0
time remaining on that action is: 80.0002140999
Heart rate: 165
Speed: 4.7mph
Speed: 4.8mph
Speed: 4.6mph
session time is:  671.996846914
prog action duration is: 90.0
programme time is:  1872.99416137
time remaining on that action is: 79.0005321503
Speed: 4.5mph
Speed: 4.9mph
Heart rate: 165
Speed: 4.4mph
max reward is: 
0.986170221755
max reward is: 
0.986170221755
1561737717.88: got validated action STYLE_UPDATE (validation timestamp: 1561737728.0)
with style POSITIVE
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATEPOSITIVE0
received validated action: STYLE_UPDATEPOSITIVE
Speed: 4.9mph
Speed: 4.3mph
prog action duration is: 90.0
session time is:  672.996841908
programme time is:  1873.99415636
time remaining on that action is: 78.0006430149
Speed: 4.2mph
Heart rate: 166
Speed: 4.1mph
prog action duration is: 90.0
session time is:  673.996845961
programme time is:  1874.99416041
time remaining on that action is: 77.0005810261
Speed: 4.0mph
Heart rate: 166
Speed: 9.0mph
Speed: 3.9mph
session time is:  674.996886969
programme time is:  1875.99420142
prog action duration is: 90.0
time remaining on that action is: 76.0006151199
Speed: 3.8mph
Heart rate: 166
Speed: 3.0mph
Speed: 3.7mph
prog action duration is: 90.0
session time is:  675.997289896
programme time is:  1876.99460435
time remaining on that action is: 75.0002441406
Heart rate: 166
max reward is: 
0.98516807235
max reward is: 
0.98516807235
[ERROR] [1561737721.880854]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

prog action duration is: 90.0
session time is:  676.9968431
programme time is:  1877.99415755
time remaining on that action is: 74.0006101131
Heart rate: 166
1561737723.15: got validated action PRAISE (validation timestamp: 1561737728.0)
with style POSITIVE
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
adding a new instance to database
adding a new instance to database
publishing this validated action to behaviour manager: PRAISEPOSITIVE0
received validated action: PRAISEPOSITIVE
session time is:  677.996875048
programme time is:  1878.9941895
prog action duration is: 90.0
time remaining on that action is: 73.0006380081
Heart rate: 165
session time is:  678.997301102
programme time is:  1879.99461555
prog action duration is: 90.0
time remaining on that action is: 72.0000929832
Heart rate: 165
Speed: 0.0mph
     user_id  session_number                              state_id  \
3381      MR               1  e17a8829-f934-47c7-9b25-585e88911e13   
3386      MR               1  1f88bd75-d367-4705-91f6-441a7b3678d3   
3388      MR               1  3fd44b6c-fb0e-42fc-9c6b-cd5cbe882772   
3393      MR               1  74ea600a-1b8a-4afd-a747-3fbb486212e7   
3395      MR               1  dfe7c137-873d-4f1e-8e14-5db833f77849   

         timestamp                             action_id  action     style  \
3381  1561478144.0  a31c3975-e08b-4780-acdc-3fd619113075  PRAISE  POSITIVE   
3386  1561478272.0  ba560e30-dda3-4bc8-8fc2-42be61f0aa8b  PRAISE  POSITIVE   
3388  1561478272.0  994a2b5a-a09b-4cb2-9aca-c2d6fefbecd7  PRAISE  POSITIVE   
3393  1561478400.0  81004164-2a9c-4fb0-8e07-f0b4897bdccc  PRAISE  POSITIVE   
3395  1561478528.0  31782d2b-bc50-477a-8121-bc3f0e65bfb9  PRAISE  POSITIVE   

     duration validation                                             speech  
3381        0    CONTROL                                   You've got this!  
3386        0    CONTROL             You're doing really well-keep this up.  
3388        0    CONTROL                                You're nailing this  
3393        0    CONTROL          You'll be destroying 5k runs in no time!!  
3395        0    CONTROL  Loving this effort! You are stronger than you ...  
You're doing really well, keep this up.
prog action duration is: 90.0
session time is:  679.996895075
time remaining on that action is: 71.0005371571
programme time is:  1880.99420953
Speed: 3.8mph
Heart rate: 164
max reward is: 
0.977474000233
max reward is: 
0.977472697443
1561737725.88: got validated action STYLE_UPDATE (validation timestamp: 1561737728.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
session time is:  680.996862888
programme time is:  1881.99417734
prog action duration is: 90.0
time remaining on that action is: 70.0005500317
received validated action: STYLE_UPDATENEUTRAL
Heart rate: 164
prog action duration is: 90.0
time remaining on that action is: 69.0006680489
session time is:  681.996856928
programme time is:  1882.99417138
Heart rate: 163
session time is:  682.996851921
programme time is:  1883.99416637
prog action duration is: 90.0
time remaining on that action is: 68.0004820824
Heart rate: 162
session time is:  683.996867895
prog action duration is: 90.0
programme time is:  1884.99418235
time remaining on that action is: 67.0005540848
Speed: 3.0mph
Speed: 0.0mph
Heart rate: 162
max reward is: 
0.974106994402
max reward is: 
0.974106994402
no action suggestioned
session time is:  684.996867895
prog action duration is: 90.0
programme time is:  1885.99418235
time remaining on that action is: 66.0005540848
Heart rate: 161
prog action duration is: 90.0
session time is:  685.996876955
programme time is:  1886.99419141
time remaining on that action is: 65.0007009506
Heart rate: 161
session time is:  686.996872902
programme time is:  1887.99418736
prog action duration is: 90.0
time remaining on that action is: 64.0005421638
Speed: 3.8mph
Heart rate: 161
session time is:  687.996865988
programme time is:  1888.99418044
prog action duration is: 90.0
time remaining on that action is: 63.0005331039
Heart rate: 160
max reward is: 
0.988312579215
max reward is: 
0.988312579215
1561737733.88: got validated action STYLE_UPDATE (validation timestamp: 1561737728.0)
with style POSITIVE
with validation state STYLE_UPDATE
publishing this proposed action to tablet: PRAISEPOSITIVE
publishing this validated action to behaviour manager: STYLE_UPDATEPOSITIVE0
received validated action: STYLE_UPDATEPOSITIVE
session time is:  688.996856928
programme time is:  1889.99417138
prog action duration is: 90.0
time remaining on that action is: 62.0004601479
Heart rate: 160
session time is:  689.996835947
prog action duration is: 90.0
programme time is:  1890.9941504
time remaining on that action is: 61.0005719662
Heart rate: 160
prog action duration is: 90.0
session time is:  690.996855021
programme time is:  1891.99416947
time remaining on that action is: 60.0006380081
Heart rate: 159
prog action duration is: 90.0
session time is:  691.996845961
programme time is:  1892.99416041
time remaining on that action is: 59.0005881786
Heart rate: 158
received response to learner engagement action suggestion
1561737737.78: got validated action PRAISE (validation timestamp: 1561737728.0)
with style POSITIVE
with validation state REFUSED
publishing a style learning action
publishing an action learning example
adding a new instance to database
 adding a new instance to database
max reward is: 
0.987882466797
max reward is: 
0.987882466797
session time is:  692.996850014
programme time is:  1893.99416447
prog action duration is: 90.0
time remaining on that action is: 58.0005300045
Heart rate: 157
session time is:  693.996854067
programme time is:  1894.99416852
prog action duration is: 90.0
time remaining on that action is: 57.0005371571
Heart rate: 156
session time is:  694.996860981
programme time is:  1895.99417543
prog action duration is: 90.0
time remaining on that action is: 56.0005991459
Heart rate: 155
session time is:  695.996840954
prog action duration is: 90.0
programme time is:  1896.99415541
time remaining on that action is: 55.0006110668
Heart rate: 153
max reward is: 
0.978917698725
max reward is: 
0.978917698725
if len > 1 triggered
1561737741.88: got validated action STYLE_UPDATE (validation timestamp: 1561737728.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
received validated action: STYLE_UPDATENEUTRAL
session time is:  696.996398926
prog action duration is: 90.0
programme time is:  1897.99371338
time remaining on that action is: 54.001101017
Heart rate: 153
prog action duration is: 90.0
session time is:  697.996870041
programme time is:  1898.99418449
time remaining on that action is: 53.0006580353
Heart rate: 153
session time is:  698.997286081
programme time is:  1899.99460053
prog action duration is: 90.0
time remaining on that action is: 52.0001029968
Heart rate: 153
session time is:  699.996854067
programme time is:  1900.99416852
prog action duration is: 90.0
time remaining on that action is: 51.0005400181
Heart rate: 153
max reward is: 
0.97592897523
max reward is: 
0.97592897523
no action suggestioned
session time is:  700.996861935
programme time is:  1901.99417639
prog action duration is: 90.0
time remaining on that action is: 50.0005600452
Heart rate: 152
session time is:  701.996867895
programme time is:  1902.99418235
prog action duration is: 90.0
time remaining on that action is: 49.0005111694
Heart rate: 152
session time is:  702.997268915
prog action duration is: 90.0
time remaining on that action is: 48.0000691414
programme time is:  1903.99458337
Heart rate: 152
session time is:  703.996857882
programme time is:  1904.99417233
prog action duration is: 90.0
time remaining on that action is: 47.0005321503
Heart rate: 152
max reward is: 
0.977530109068
max reward is: 
0.974975625817
no action suggestioned
session time is:  704.997278929
prog action duration is: 90.0
time remaining on that action is: 46.0001549721
programme time is:  1905.99459338
Heart rate: 152
session time is:  705.996846914
prog action duration is: 90.0
time remaining on that action is: 45.0005500317
programme time is:  1906.99416137
Heart rate: 151
session time is:  706.996845961
prog action duration is: 90.0
programme time is:  1907.99416041
time remaining on that action is: 44.0005481243
Heart rate: 151
session time is:  707.996854067
programme time is:  1908.99416852
prog action duration is: 90.0
time remaining on that action is: 43.0005700588
Heart rate: 149
max reward is: 
0.979182478066
max reward is: 
0.974064215085
no action suggestioned
session time is:  708.996870041
prog action duration is: 90.0
programme time is:  1909.99418449
time remaining on that action is: 42.0003809929
Heart rate: 148
session time is:  709.996850967
prog action duration is: 90.0
time remaining on that action is: 41.0005259514
programme time is:  1910.99416542
Heart rate: 147
session time is:  710.996866941
prog action duration is: 90.0
time remaining on that action is: 40.000369072
programme time is:  1911.99418139
Heart rate: 146
session time is:  711.996848106
prog action duration is: 90.0
programme time is:  1912.99416256
time remaining on that action is: 39.0003480911
Heart rate: 145
max reward is: 
0.980051109517
max reward is: 
0.97527085132
no action suggestioned
session time is:  712.996854067
programme time is:  1913.99416852
prog action duration is: 90.0
time remaining on that action is: 38.0005440712
Heart rate: 145
session time is:  713.996840954
programme time is:  1914.99415541
prog action duration is: 90.0
time remaining on that action is: 37.0006101131
Heart rate: 144
prog action duration is: 90.0
time remaining on that action is: 36.0002000332
session time is:  714.99729991
programme time is:  1915.99461436
Heart rate: 144
session time is:  715.99632597
prog action duration is: 90.0
programme time is:  1916.99364042
time remaining on that action is: 35.0011501312
Heart rate: 143
max reward is: 
0.979701709254
max reward is: 
0.979701709254
1561737762.05: got validated action MAINTAIN (validation timestamp: 1561737728.0)
with style POSITIVE
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
adding a new instance to database
adding a new instance to database
publishing this validated action to behaviour manager: MAINTAINPOSITIVE0
received validated action: MAINTAINPOSITIVE
prog action duration is: 90.0
time remaining on that action is: 34.0006871223
session time is:  716.996862888
programme time is:  1917.99417734
Heart rate: 142
session time is:  717.996880054
prog action duration is: 90.0
programme time is:  1918.99419451
time remaining on that action is: 33.0004329681
     user_id  session_number                              state_id  \
3376      MR               1  ed72fc0e-9e7c-4f88-87c7-36da9e36e93b   
3383      MR               1  a1adfa30-0d84-4a5d-ab9f-cf5e5173b9a7   
3390      MR               1  3ac6dcca-505c-4d37-8cbc-218faedc75a6   
3397      MR               1  d4f1df09-d070-4d6e-bc00-6703721b4c13   
3404      MR               1  45e64c02-460c-42ae-9e88-51a726be936e   

         timestamp                             action_id    action     style  \
3376  1561478144.0  dab1f734-5834-4552-82a4-3499fe84fedf  MAINTAIN  POSITIVE   
3383  1561478272.0  856bfbe5-0c84-41a6-9202-98219006af26  MAINTAIN  POSITIVE   
3390  1561478400.0  bd8dbe10-51b4-4548-ba99-637757cbe1c0  MAINTAIN  POSITIVE   
3397  1561478528.0  3d3bea57-464f-42ac-87e6-3ee51f92a78d  MAINTAIN  POSITIVE   
3404  1561478656.0  04212d36-7ae4-4219-adff-3c4284b3b429  MAINTAIN  POSITIVE   

     duration validation                                             speech  
3376        0    CONTROL                            Focus on your breathing  
3383        0    CONTROL  Relax your shoulders-allow your arms to swing ...  
3390        0    CONTROL                     Great work-now keep that pace!  
3397        0    CONTROL  Don't forget to listen to what your body's say...  
3404        0    CONTROL  Mirjana-take your mind where it needs to go an...  
Great work, now keep that pace!
session time is:  718.997294903
programme time is:  1919.99460936
prog action duration is: 90.0
time remaining on that action is: 32.0001449585
Heart rate: 141
Heart rate: 140
session time is:  719.996865988
programme time is:  1920.99418044
prog action duration is: 90.0
time remaining on that action is: 31.0006530285
Heart rate: 140
max reward is: 
0.990234840619
max reward is: 
0.990234840619
1561737765.88: got validated action STYLE_UPDATE (validation timestamp: 1561737728.0)
with style POSITIVE
with validation state STYLE_UPDATE
publishing this proposed action to tablet: MAINTAINPOSITIVE
publishing this validated action to behaviour manager: STYLE_UPDATEPOSITIVE0
session time is:  720.997293949
programme time is:  1921.9946084
prog action duration is: 90.0
time remaining on that action is: 30.0001890659
Heart rate: 140
session time is:  721.997304916
programme time is:  1922.99461937
prog action duration is: 90.0
time remaining on that action is: 29.0001490116
received validated action: STYLE_UPDATEPOSITIVE
Heart rate: 140
received response to learner engagement action suggestion
1561737768.0: got validated action MAINTAIN (validation timestamp: 1561737728.0)
with style POSITIVE
with validation state REFUSED
publishing a style learning action
publishing an action learning example
adding a new instance to database
adding a new instance to database
session time is:  722.996886015
programme time is:  1923.99420047
prog action duration is: 90.0
time remaining on that action is: 28.0005280972
Heart rate: 139
session time is:  723.996886969
prog action duration is: 90.0
programme time is:  1924.99420142
time remaining on that action is: 27.00060606
Heart rate: 139
max reward is: 
0.977222135053
max reward is: 
0.978033721266
if len > 1 triggered
1561737769.88: got validated action STYLE_UPDATE (validation timestamp: 1561737728.0)
with style NEUTRAL
with validation state STYLE_UPDATE
[ERROR] [1561737769.880371]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
received validated action: STYLE_UPDATENEUTRAL
prog action duration is: 90.0
session time is:  724.996838093
programme time is:  1925.99415255
time remaining on that action is: 26.0007059574
Heart rate: 138
session time is:  725.996857882
programme time is:  1926.99417233
prog action duration is: 90.0
time remaining on that action is: 25.0005619526
Heart rate: 137
session time is:  726.996958017
programme time is:  1927.99427247
prog action duration is: 90.0
time remaining on that action is: 24.0005290508
Heart rate: 136
session time is:  727.997297049
programme time is:  1928.9946115
prog action duration is: 90.0
time remaining on that action is: 23.0001051426
Heart rate: 136
max reward is: 
0.976842439347
max reward is: 
0.978993349579
if len > 1 triggered
prog action duration is: 90.0
session time is:  728.996402025
programme time is:  1929.99371648
time remaining on that action is: 22.0011019707
Heart rate: 136
prog action duration is: 90.0
time remaining on that action is: 21.0006380081
session time is:  729.996875048
programme time is:  1930.9941895
Heart rate: 134
session time is:  730.997293949
programme time is:  1931.9946084
prog action duration is: 90.0
time remaining on that action is: 20.0001449585
Heart rate: 134
session time is:  731.996871948
programme time is:  1932.9941864
prog action duration is: 90.0
time remaining on that action is: 19.0001780987
Heart rate: 134
max reward is: 
0.980396191499
max reward is: 
0.977100707734
if len > 1 triggered
session time is:  732.99635911
programme time is:  1933.99367356
prog action duration is: 90.0
time remaining on that action is: 18.0011510849
Heart rate: 135
session time is:  733.996880054
programme time is:  1934.99419451
prog action duration is: 90.0
time remaining on that action is: 17.0005669594
Heart rate: 138
session time is:  734.996869087
prog action duration is: 90.0
programme time is:  1935.99418354
time remaining on that action is: 16.0006101131
Heart rate: 138
session time is:  735.996413946
programme time is:  1936.9937284
prog action duration is: 90.0
time remaining on that action is: 15.0010969639
Heart rate: 138
max reward is: 
0.985972889654
max reward is: 
0.976957240683
1561737781.88: got validated action STYLE_UPDATE (validation timestamp: 1561737728.0)
with style CHALLENGING
[ERROR] [1561737781.880514]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATECHALLENGING0
received validated action: STYLE_UPDATECHALLENGING
session time is:  736.99729991
programme time is:  1937.99461436
prog action duration is: 90.0
time remaining on that action is: 14.0000610352
Heart rate: 137
session time is:  737.996387005
programme time is:  1938.99370146
prog action duration is: 90.0
time remaining on that action is: 13.0009679794
Heart rate: 136
session time is:  738.99686408
programme time is:  1939.99417853
publishing next action: RUNNEUTRAL60
prog action duration is: 90.0
time remaining on that action is: 12.0002450943
publishing this proposed action to tablet: RUNCHALLENGING
Heart rate: 135
session time is:  739.996870995
prog action duration is: 90.0
time remaining on that action is: 11.0006160736
programme time is:  1940.99418545
Heart rate: 134
max reward is: 
0.984397828087
max reward is: 
0.978334410332
got a learner suggestion but the tablet is busy so won't queue
session time is:  740.996888876
programme time is:  1941.99420333
prog action duration is: 90.0
time remaining on that action is: 10.0000360012
Heart rate: 133
session time is:  741.997293949
programme time is:  1942.9946084
prog action duration is: 90.0
time remaining on that action is: 9.00018310547
Heart rate: 132
session time is:  742.996877909
programme time is:  1943.99419236
prog action duration is: 90.0
time remaining on that action is: 8.00062012672
Heart rate: 132
prog action duration is: 90.0
time remaining on that action is: 7.00110006332
session time is:  743.996427059
programme time is:  1944.99374151
Heart rate: 131
max reward is: 
0.977503108657
max reward is: 
0.977503108657
1561737789.88: got validated action STYLE_UPDATE (validation timestamp: 1561737728.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
received validated action: STYLE_UPDATENEUTRAL
session time is:  744.996874094
programme time is:  1945.99418855
prog action duration is: 90.0
time remaining on that action is: 6.00045204163
Heart rate: 131
prog action duration is: 90.0
time remaining on that action is: 5.0006711483
session time is:  745.996881962
programme time is:  1946.99419641
Heart rate: 130
prog action duration is: 90.0
session time is:  746.996879101
programme time is:  1947.99419355
time remaining on that action is: 4.0006210804
Heart rate: 130
session time is:  747.997288942
programme time is:  1948.9946034
prog action duration is: 90.0
time remaining on that action is: 3.00019216537
Heart rate: 130
max reward is: 
0.985238595215
max reward is: 
0.979114341778
session time is:  748.997292042
programme time is:  1949.99460649
prog action duration is: 90.0
time remaining on that action is: 2.00021696091
Heart rate: 130
prog action duration is: 90.0
session time is:  749.996861935
programme time is:  1950.99417639
time remaining on that action is: 1.00055909157
received response to styled programme suggestion
1561737795.26: got validated action RUN (validation timestamp: 1561737856.0)
with style CHALLENGING
with validation state VALIDATED
publishing a style learning action
adding programme action to validated action queue
calling update threshold
new threshold is: 
0.98088745984
adding a new instance to database
publishing this validated action to behaviour manager: RUNCHALLENGING60
received validated action: RUNCHALLENGING
Heart rate: 131
participant should now be in RUN
session time is:  750.996862888
programme time is:  1951.99417734
prog action duration is: 60.0
time remaining on that action is: 59.9998888969
Heart rate: 130
session time is:  751.996851921
programme time is:  1952.99416637
prog action duration is: 60.0
time remaining on that action is: 58.9999248981
Heart rate: 131
max reward is: 
0.969938472545
max reward is: 
0.969938472545
no action suggestioned
session time is:  752.996841908
programme time is:  1953.99415636
prog action duration is: 60.0
time remaining on that action is: 57.9999659061
Heart rate: 131
prog action duration is: 60.0
session time is:  753.996839046
programme time is:  1954.9941535
time remaining on that action is: 56.9999558926
Heart rate: 131
session time is:  754.996857882
programme time is:  1955.99417233
prog action duration is: 60.0
time remaining on that action is: 55.9999659061
Heart rate: 131
prog action duration is: 60.0
time remaining on that action is: 55.0002288818
session time is:  755.996716022
programme time is:  1956.99403048
Heart rate: 130
max reward is: 
0.97122221791
max reward is: 
0.97122221791
no action suggestioned
prog action duration is: 60.0
time remaining on that action is: 54.000002861
session time is:  756.996891022
programme time is:  1957.99420547
Heart rate: 129
prog action duration is: 60.0
session time is:  757.996416092
time remaining on that action is: 53.000497818
programme time is:  1958.99373055
Speed: 3.9mph
Heart rate: 128
Speed: 9.8mph
Speed: 4.0mph
Speed: 4.1mph
prog action duration is: 60.0
session time is:  758.996877909
programme time is:  1959.99419236
time remaining on that action is: 52.000041008
Speed: 4.2mph
Speed: 4.3mph
Heart rate: 128
Speed: 4.9mph
Speed: 4.4mph
session time is:  759.99686408
programme time is:  1960.99417853
prog action duration is: 60.0
time remaining on that action is: 51.0000789165
Speed: 4.5mph
Speed: 4.6mph
Heart rate: 127
max reward is: 
0.968524281875
max reward is: 
0.968524281875
no action suggestioned
Speed: 4.7mph
Speed: 4.8mph
prog action duration is: 60.0
session time is:  760.997294903
programme time is:  1961.99460936
time remaining on that action is: 49.9996328354
Speed: 4.9mph
Heart rate: 127
Speed: 9.0mph
Speed: 5.1mph
Speed: 5.2mph
session time is:  761.997284889
programme time is:  1962.99459934
prog action duration is: 60.0
time remaining on that action is: 48.9996068478
Speed: 5.9mph
Speed: 5.5mph
Heart rate: 128
Speed: 5.8mph
Speed: 5.7mph
Speed: 5.8mph
session time is:  762.997248888
programme time is:  1963.99456334
prog action duration is: 60.0
time remaining on that action is: 47.9995839596
Speed: 5.9mph
Speed: 6.0mph
Speed: 6.1mph
Heart rate: 128
Speed: 6.2mph
Speed: 6.9mph
Speed: 6.4mph
Speed: 6.9mph
prog action duration is: 60.0
session time is:  763.997281075
programme time is:  1964.99459553
time remaining on that action is: 46.9996209145
Speed: 6.5mph
Speed: 6.6mph
Heart rate: 129
max reward is: 
0.989166331062
max reward is: 
0.989166331062
1561737809.88: got validated action STYLE_UPDATE (validation timestamp: 1561737856.0)
[ERROR] [1561737809.880915]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

with style POSITIVE
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATEPOSITIVE0
received validated action: STYLE_UPDATEPOSITIVE
Speed: 6.7mph
session time is:  764.996860981
programme time is:  1965.99417543
prog action duration is: 60.0
time remaining on that action is: 45.9999139309
Heart rate: 130
prog action duration is: 60.0
session time is:  765.996829987
programme time is:  1966.99414444
time remaining on that action is: 45.0000770092
1561737811.36: got validated action CHALLENGE (validation timestamp: 1561737856.0)
with style SYMPATHETIC
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
adding a new instance to database
calling update threshold
adding a new instance to database
publishing this validated action to behaviour manager: CHALLENGESYMPATHETIC0
Heart rate: 131
received validated action: CHALLENGESYMPATHETIC
prog action duration is: 60.0
session time is:  766.996861935
programme time is:  1967.99417639
time remaining on that action is: 43.9998250008
Heart rate: 132
session time is:  767.996879101
programme time is:  1968.99419355
prog action duration is: 60.0
time remaining on that action is: 42.9996879101
     user_id  session_number                              state_id  \
4274      MR               2  ff458379-502f-4c81-8a32-815070248238   
4307      MR               2  d7992fff-475b-4636-b215-0f8579c41e35   

         timestamp                             action_id     action  \
4274  1561737216.0  206a522c-6a6d-4bf9-8f8e-e1f487573a2b  CHALLENGE   
4307  1561737472.0  21a10252-708d-4990-98fc-9d2a618027c6  CHALLENGE   

            style duration  validation  \
4274  SYMPATHETIC        0  UNPROMPTED   
4307  SYMPATHETIC        0  UNPROMPTED   

                                                 speech  
4274  Zone out-listen to your body and find that rhy...  
4307           No stress. Clear your mind and just run.  
No stress. Clear your mind and just run.
Heart rate: 133
Speed: 8.8mph
max reward is: 
0.982514209871
max reward is: 
0.982514209871
1561737813.88: got validated action STYLE_UPDATE (validation timestamp: 1561737856.0)
with style SYMPATHETIC
with validation state STYLE_UPDATE
publishing this proposed action to tablet: CHALLENGESYMPATHETIC
publishing this validated action to behaviour manager: STYLE_UPDATESYMPATHETIC0
Speed: 0.0mph
session time is:  768.997227907
prog action duration is: 60.0
time remaining on that action is: 41.9995379448
programme time is:  1969.99454236
Heart rate: 134
prog action duration is: 60.0
session time is:  769.996881962
programme time is:  1970.99419641
time remaining on that action is: 40.9999299049
Heart rate: 135
session time is:  770.997291088
programme time is:  1971.99460554
prog action duration is: 60.0
time remaining on that action is: 39.9994578362
Heart rate: 136
Speed: 6.7mph
session time is:  771.996855974
programme time is:  1972.99417043
prog action duration is: 60.0
time remaining on that action is: 39.0000259876
Heart rate: 136
received validated action: STYLE_UPDATESYMPATHETIC
max reward is: 
0.981895237873
max reward is: 
0.981895237873
got a learner suggestion but the tablet is busy so won't queue
session time is:  772.99729991
programme time is:  1973.99461436
prog action duration is: 60.0
time remaining on that action is: 37.999601841
Heart rate: 138
session time is:  773.997298002
programme time is:  1974.99461246
prog action duration is: 60.0
time remaining on that action is: 36.999437809
received response to learner engagement action suggestion
1561737819.6: got validated action CHALLENGE (validation timestamp: 1561737856.0)
with style SYMPATHETIC
with validation state REFUSED
publishing a style learning action
publishing an action learning example
calling update threshold
adding a new instance to database
new threshold is: 
0.977001132627
adding a new instance to database
Heart rate: 138
prog action duration is: 60.0
session time is:  774.996853113
programme time is:  1975.99416757
time remaining on that action is: 36.00009799
Heart rate: 139
prog action duration is: 60.0
session time is:  775.997292042
programme time is:  1976.99460649
time remaining on that action is: 34.9996888638
Heart rate: 140
max reward is: 
0.97914361998
max reward is: 
0.97914361998
1561737821.88: got validated action STYLE_UPDATE (validation timestamp: 1561737856.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
received validated action: STYLE_UPDATENEUTRAL
1561737822.12: got validated action PRAISE (validation timestamp: 1561737856.0)
with style POSITIVE
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
adding a new instance to database
adding a new instance to database
publishing this validated action to behaviour manager: PRAISEPOSITIVE0
session time is:  776.996391058
programme time is:  1977.99370551
prog action duration is: 60.0
time remaining on that action is: 34.0003898144
Heart rate: 141
received validated action: PRAISEPOSITIVE
session time is:  777.996855021
programme time is:  1978.99416947
prog action duration is: 60.0
time remaining on that action is: 32.9997768402
Heart rate: 142
session time is:  778.996870995
programme time is:  1979.99418545
prog action duration is: 60.0
time remaining on that action is: 31.9998309612
Heart rate: 143
     user_id  session_number                              state_id  \
3381      MR               1  e17a8829-f934-47c7-9b25-585e88911e13   
3386      MR               1  1f88bd75-d367-4705-91f6-441a7b3678d3   
3388      MR               1  3fd44b6c-fb0e-42fc-9c6b-cd5cbe882772   
3393      MR               1  74ea600a-1b8a-4afd-a747-3fbb486212e7   
3395      MR               1  dfe7c137-873d-4f1e-8e14-5db833f77849   

         timestamp                             action_id  action     style  \
3381  1561478144.0  a31c3975-e08b-4780-acdc-3fd619113075  PRAISE  POSITIVE   
3386  1561478272.0  ba560e30-dda3-4bc8-8fc2-42be61f0aa8b  PRAISE  POSITIVE   
3388  1561478272.0  994a2b5a-a09b-4cb2-9aca-c2d6fefbecd7  PRAISE  POSITIVE   
3393  1561478400.0  81004164-2a9c-4fb0-8e07-f0b4897bdccc  PRAISE  POSITIVE   
3395  1561478528.0  31782d2b-bc50-477a-8121-bc3f0e65bfb9  PRAISE  POSITIVE   

     duration validation                                             speech  
3381        0    CONTROL                                   You've got this!  
3386        0    CONTROL             You're doing really well-keep this up.  
3388        0    CONTROL                                You're nailing this  
3393        0    CONTROL          You'll be destroying 5k runs in no time!!  
3395        0    CONTROL  Loving this effort! You are stronger than you ...  
You're nailing this
session time is:  779.996861935
programme time is:  1980.99417639
prog action duration is: 60.0
time remaining on that action is: 30.9999358654
Heart rate: 144
max reward is: 
0.989852634899
max reward is: 
0.989852634899
1561737825.88: got validated action STYLE_UPDATE (validation timestamp: 1561737856.0)
with style POSITIVE
with validation state STYLE_UPDATE
publishing this proposed action to tablet: PRAISEPOSITIVE
publishing this validated action to behaviour manager: STYLE_UPDATEPOSITIVE0
session time is:  780.996846914
programme time is:  1981.99416137
prog action duration is: 60.0
time remaining on that action is: 30.0000388622
Heart rate: 146
session time is:  781.997248888
programme time is:  1982.99456334
prog action duration is: 60.0
time remaining on that action is: 28.999601841
Heart rate: 146
prog action duration is: 60.0
time remaining on that action is: 28.0004189014
session time is:  782.996443033
programme time is:  1983.99375749
Heart rate: 148
received validated action: STYLE_UPDATEPOSITIVE
session time is:  783.997283936
programme time is:  1984.99459839
prog action duration is: 60.0
time remaining on that action is: 26.9995718002
Heart rate: 149
max reward is: 
0.981854457421
max reward is: 
0.981854457421
got a learner suggestion but the tablet is busy so won't queue
 1561737829.88: got validated action STYLE_UPDATE (validation timestamp: 1561737856.0)
with style SYMPATHETIC
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATESYMPATHETIC0
received response to learner engagement action suggestion
1561737830.07: got validated action PRAISE (validation timestamp: 1561737856.0)
with style POSITIVE
with validation state REFUSED
publishing a style learning action
publishing an action learning example
adding a new instance to database
adding a new instance to database
session time is:  784.996865988
prog action duration is: 60.0
programme time is:  1985.99418044
time remaining on that action is: 26.0000019073
received validated action: STYLE_UPDATESYMPATHETIC
Heart rate: 150
session time is:  785.997387886
programme time is:  1986.99470234
prog action duration is: 60.0
time remaining on that action is: 24.9995429516
Heart rate: 150
session time is:  786.996366978
prog action duration is: 60.0
programme time is:  1987.99368143
time remaining on that action is: 24.0005888939
Heart rate: 152
prog action duration is: 60.0
session time is:  787.997283936
programme time is:  1988.99459839
time remaining on that action is: 22.9995999336
Heart rate: 152
max reward is: 
0.983549354136
max reward is: 
0.983549354136
[ERROR] [1561737833.880991]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

session time is:  788.997283936
programme time is:  1989.99459839
prog action duration is: 60.0
time remaining on that action is: 21.9995989799
Heart rate: 153
session time is:  789.996340036
programme time is:  1990.99365449
prog action duration is: 60.0
time remaining on that action is: 21.0005679131
Heart rate: 155
session time is:  790.99684
prog action duration is: 60.0
time remaining on that action is: 20.0000329018
programme time is:  1991.99415445
Heart rate: 155
1561737837.12: got validated action TIME (validation timestamp: 1561737856.0)
with style SYMPATHETIC
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
adding a new instance to database
adding a new instance to database
publishing this validated action to behaviour manager: TIMESYMPATHETIC0
received validated action: TIMESYMPATHETIC
prog action duration is: 60.0
time remaining on that action is: 19.000513792
session time is:  791.996397972
programme time is:  1992.99371243
Heart rate: 156
max reward is: 
0.987413374201
max reward is: 
0.987413374201
session time is:  792.996856928
programme time is:  1993.99417138
prog action duration is: 60.0
time remaining on that action is: 18.0000388622
Heart rate: 156
session time is:  793.996412992
programme time is:  1994.99372745
prog action duration is: 60.0
time remaining on that action is: 17.0004708767
Heart rate: 157
session time is:  794.996860981
prog action duration is: 60.0
time remaining on that action is: 15.999958992
programme time is:  1995.99417543
Heart rate: 158
session time is:  795.996850967
prog action duration is: 60.0
programme time is:  1996.99416542
time remaining on that action is: 14.9997370243
Heart rate: 159
max reward is: 
0.98970020536
max reward is: 
0.98970020536
prog action duration is: 60.0
session time is:  796.996874094
programme time is:  1997.99418855
time remaining on that action is: 14.0000598431
Heart rate: 159
session time is:  797.997073889
programme time is:  1998.99438834
prog action duration is: 60.0
time remaining on that action is: 12.999655962
Heart rate: 159
session time is:  798.99684906
programme time is:  1999.99416351
publishing next action: WALKNEUTRAL90
prog action duration is: 60.0
time remaining on that action is: 11.9999577999
publishing this proposed action to tablet: WALKSYMPATHETIC
Heart rate: 159
session time is:  799.996881962
programme time is:  2000.99419641
prog action duration is: 60.0
time remaining on that action is: 11.0000169277
Heart rate: 160
max reward is: 
0.990817295584
max reward is: 
0.990817295584
got a learner suggestion but the tablet is busy so won't queue
session time is:  800.996857882
programme time is:  2001.99417233
prog action duration is: 60.0
time remaining on that action is: 10.0000720024
Heart rate: 161
session time is:  801.99674201
prog action duration is: 60.0
programme time is:  2002.99405646
time remaining on that action is: 9.00020885468
Heart rate: 162
prog action duration is: 60.0
session time is:  802.99713707
programme time is:  2003.99445152
time remaining on that action is: 7.99979281425
Heart rate: 162
prog action duration is: 60.0
session time is:  803.996865034
programme time is:  2004.99417949
time remaining on that action is: 7.00009179115
Heart rate: 162
max reward is: 
0.983055100603
max reward is: 
0.983055100603
session time is:  804.996875048
programme time is:  2005.9941895
prog action duration is: 60.0
time remaining on that action is: 5.99993300438
Heart rate: 162
session time is:  805.996862888
programme time is:  2006.99417734
prog action duration is: 60.0
time remaining on that action is: 4.99970293045
Heart rate: 163
prog action duration is: 60.0
session time is:  806.996368885
programme time is:  2007.99368334
time remaining on that action is: 4.00047683716
Heart rate: 163
session time is:  807.996351957
programme time is:  2008.99366641
prog action duration is: 60.0
time remaining on that action is: 3.00038385391
Heart rate: 163
max reward is: 
0.984514704473
max reward is: 
0.984514704473
session time is:  808.99684906
prog action duration is: 60.0
programme time is:  2009.99416351
time remaining on that action is: 1.99999880791
Heart rate: 164
session time is:  809.996846914
prog action duration is: 60.0
programme time is:  2010.99416137
time remaining on that action is: 0.999982833862
received response to styled programme suggestion
1561737855.25: got validated action WALK (validation timestamp: 1561737856.0)
with style SYMPATHETIC
with validation state VALIDATED
publishing a style learning action
adding programme action to validated action queue
adding a new instance to database
publishing this validated action to behaviour manager: WALKSYMPATHETIC90
received validated action: WALKSYMPATHETIC
Heart rate: 165
session time is:  810.996458054
programme time is:  2011.99377251
participant should now be in WALK
prog action duration is: 90.0
time remaining on that action is: 89.9998350143
Heart rate: 166
session time is:  811.996870995
prog action duration is: 90.0
programme time is:  2012.99418545
time remaining on that action is: 88.999617815
Heart rate: 166
max reward is: 
0.973935157329
max reward is: 
0.973935157329
no action suggestioned
1561737857.88: got validated action STYLE_UPDATE (validation timestamp: 1561737856.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
session time is:  812.996968031
prog action duration is: 90.0
time remaining on that action is: 87.9993059635
programme time is:  2013.99428248
Heart rate: 167
session time is:  813.997313976
programme time is:  2014.99462843
prog action duration is: 90.0
time remaining on that action is: 86.9992280006
Heart rate: 167
Speed: 6.8mph
Speed: 6.6mph
prog action duration is: 90.0
session time is:  814.99686408
programme time is:  2015.99417853
time remaining on that action is: 85.9996378422
Speed: 6.5mph
Heart rate: 166
Speed: 6.9mph
Speed: 6.4mph
session time is:  815.997318029
prog action duration is: 90.0
time remaining on that action is: 84.9991810322
programme time is:  2016.99463248
Speed: 6.9mph
Speed: 6.3mph
Heart rate: 167
Speed: 6.2mph
max reward is: 
0.987251433089
max reward is: 
0.987251433089
1561737861.88: got validated action STYLE_UPDATE (validation timestamp: 1561737856.0)
with style POSITIVE
with validation state STYLE_UPDATE
[ERROR] [1561737861.881009]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

publishing this validated action to behaviour manager: STYLE_UPDATEPOSITIVE0
Speed: 6.1mph
session time is:  816.997291088
programme time is:  2017.99460554
prog action duration is: 90.0
time remaining on that action is: 83.9990780354
Speed: 6.0mph
Heart rate: 167
received validated action: STYLE_UPDATENEUTRAL
Speed: 5.8mph
Speed: 5.7mph
session time is:  817.996936083
prog action duration is: 90.0
time remaining on that action is: 82.999311924
programme time is:  2018.99425054
Speed: 5.8mph
Speed: 5.6mph
Speed: 5.9mph
Heart rate: 167
Speed: 5.3mph
Speed: 5.2mph
received validated action: STYLE_UPDATEPOSITIVE
session time is:  818.996846914
prog action duration is: 90.0
programme time is:  2019.99416137
time remaining on that action is: 81.999737978
Speed: 5.1mph
Speed: 5.0mph
Heart rate: 167
Speed: 4.9mph
session time is:  819.996869087
programme time is:  2020.99418354
prog action duration is: 90.0
time remaining on that action is: 80.9995038509
Speed: 4.8mph
Heart rate: 167
Speed: 4.0mph
Speed: 4.7mph
max reward is: 
0.985461948636
max reward is: 
0.985461948636
Speed: 4.6mph
prog action duration is: 90.0
session time is:  820.996877909
programme time is:  2021.99419236
time remaining on that action is: 79.999601841
Speed: 4.5mph
Speed: 4.4mph
Heart rate: 168
Speed: 4.9mph
Speed: 4.3mph
Speed: 4.2mph
session time is:  821.996834993
programme time is:  2022.99414945
prog action duration is: 90.0
time remaining on that action is: 78.9996600151
Speed: 4.1mph
Heart rate: 168
Speed: 4.0mph
Speed: 9.0mph
Speed: 3.9mph
session time is:  822.996866941
programme time is:  2023.99418139
prog action duration is: 90.0
time remaining on that action is: 77.9996700287
1561737868.54: got validated action PRAISE (validation timestamp: 1561737856.0)
with style POSITIVE
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
adding a new instance to database
 adding a new instance to database
publishing this validated action to behaviour manager: PRAISEPOSITIVE0
received validated action: PRAISEPOSITIVE
Speed: 3.8mph
Heart rate: 167
session time is:  823.996867895
programme time is:  2024.99418235
prog action duration is: 90.0
time remaining on that action is: 76.9995939732
Heart rate: 167
max reward is: 
0.993288011055
max reward is: 
0.993288011055
prog action duration is: 90.0
time remaining on that action is: 75.9997649193
session time is:  824.996838093
programme time is:  2025.99415255
     user_id  session_number                              state_id  \
3381      MR               1  e17a8829-f934-47c7-9b25-585e88911e13   
3386      MR               1  1f88bd75-d367-4705-91f6-441a7b3678d3   
3388      MR               1  3fd44b6c-fb0e-42fc-9c6b-cd5cbe882772   
3393      MR               1  74ea600a-1b8a-4afd-a747-3fbb486212e7   
3395      MR               1  dfe7c137-873d-4f1e-8e14-5db833f77849   

         timestamp                             action_id  action     style  \
3381  1561478144.0  a31c3975-e08b-4780-acdc-3fd619113075  PRAISE  POSITIVE   
3386  1561478272.0  ba560e30-dda3-4bc8-8fc2-42be61f0aa8b  PRAISE  POSITIVE   
3388  1561478272.0  994a2b5a-a09b-4cb2-9aca-c2d6fefbecd7  PRAISE  POSITIVE   
3393  1561478400.0  81004164-2a9c-4fb0-8e07-f0b4897bdccc  PRAISE  POSITIVE   
3395  1561478528.0  31782d2b-bc50-477a-8121-bc3f0e65bfb9  PRAISE  POSITIVE   

     duration validation                                             speech  
3381        0    CONTROL                                   You've got this!  
3386        0    CONTROL             You're doing really well-keep this up.  
3388        0    CONTROL                                You're nailing this  
3393        0    CONTROL          You'll be destroying 5k runs in no time!!  
3395        0    CONTROL  Loving this effort! You are stronger than you ...  
You'll be destroying 5k runs in no time!!
Heart rate: 167
prog action duration is: 90.0
time remaining on that action is: 74.9997329712
session time is:  825.996850014
programme time is:  2026.99416447
Heart rate: 167
session time is:  826.996386051
programme time is:  2027.9937005
prog action duration is: 90.0
time remaining on that action is: 74.0001299381
Speed: 0.0mph
Heart rate: 167
prog action duration is: 90.0
time remaining on that action is: 72.9996519089
session time is:  827.996831894
programme time is:  2028.99414635
Heart rate: 167
max reward is: 
0.978374290717
max reward is: 
0.978374290717
1561737873.88: got validated action STYLE_UPDATE (validation timestamp: 1561737856.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
session time is:  828.996871948
programme time is:  2029.9941864
prog action duration is: 90.0
time remaining on that action is: 71.9995889664
received validated action: STYLE_UPDATENEUTRAL
Heart rate: 166
session time is:  829.996875048
programme time is:  2030.9941895
prog action duration is: 90.0
time remaining on that action is: 70.9996349812
Heart rate: 166
Speed: 3.8mph
session time is:  830.996845007
programme time is:  2031.99415946
prog action duration is: 90.0
time remaining on that action is: 69.9996130466
session time is:  831.996844053
programme time is:  2032.99415851
prog action duration is: 90.0
time remaining on that action is: 68.9996829033
Heart rate: 165
Heart rate: 165
max reward is: 
0.990288999089
max reward is: 
0.990288999089
1561737877.88: got validated action STYLE_UPDATE (validation timestamp: 1561737856.0)
with style POSITIVE
with validation state STYLE_UPDATE
publishing this proposed action to tablet: PRAISEPOSITIVE
publishing this validated action to behaviour manager: STYLE_UPDATEPOSITIVE0
received validated action: STYLE_UPDATEPOSITIVE
session time is:  832.996844053
programme time is:  2033.99415851
prog action duration is: 90.0
time remaining on that action is: 67.9997148514
Heart rate: 164
session time is:  833.996844053
programme time is:  2034.99415851
prog action duration is: 90.0
time remaining on that action is: 66.9996359348
Heart rate: 163
received response to learner engagement action suggestion
1561737879.68: got validated action PRAISE (validation timestamp: 1561737856.0)
with style POSITIVE
with validation state REFUSED
publishing a style learning action
publishing an action learning example
adding a new instance to database
adding a new instance to database
session time is:  834.996851921
programme time is:  2035.99416637
prog action duration is: 90.0
time remaining on that action is: 65.9996688366
Heart rate: 163
prog action duration is: 90.0
session time is:  835.996844053
programme time is:  2036.99415851
time remaining on that action is: 64.999781847
Heart rate: 163
max reward is: 
0.985656234941
max reward is: 
0.985656234941
session time is:  836.996371031
programme time is:  2037.99368548
prog action duration is: 90.0
time remaining on that action is: 64.0001180172
Heart rate: 163
session time is:  837.996853113
prog action duration is: 90.0
time remaining on that action is: 62.9995539188
programme time is:  2038.99416757
Heart rate: 162
session time is:  838.99686408
prog action duration is: 90.0
time remaining on that action is: 61.9995279312
programme time is:  2039.99417853
Heart rate: 162
session time is:  839.997292995
programme time is:  2040.99460745
prog action duration is: 90.0
time remaining on that action is: 60.9992799759
Heart rate: 161
max reward is: 
0.988457779876
max reward is: 
0.988457779876
session time is:  840.996838093
prog action duration is: 90.0
programme time is:  2041.99415255
time remaining on that action is: 59.9994199276
Heart rate: 160
session time is:  841.99686408
programme time is:  2042.99417853
prog action duration is: 90.0
time remaining on that action is: 58.9994139671
Heart rate: 159
session time is:  842.996838093
programme time is:  2043.99415255
prog action duration is: 90.0
time remaining on that action is: 57.9996819496
Heart rate: 158
session time is:  843.996880054
programme time is:  2044.99419451
prog action duration is: 90.0
time remaining on that action is: 56.9996290207
Heart rate: 158
max reward is: 
0.987013367608
max reward is: 
0.987013367608
publishing this proposed action to tablet: PRAISEPOSITIVE
session time is:  844.996850967
programme time is:  2045.99416542
prog action duration is: 90.0
time remaining on that action is: 55.9996228218
Heart rate: 158
prog action duration is: 90.0
time remaining on that action is: 54.9993028641
session time is:  845.997294903
programme time is:  2046.99460936
received response to learner engagement action suggestion
1561737891.58: got validated action PRAISE (validation timestamp: 1561737856.0)
with style POSITIVE
with validation state REFUSED
publishing a style learning action
publishing an action learning example
adding a new instance to database
adding a new instance to database
Heart rate: 157
session time is:  846.996844053
prog action duration is: 90.0
time remaining on that action is: 53.9996259212
programme time is:  2047.99415851
Heart rate: 157
session time is:  847.996850967
prog action duration is: 90.0
time remaining on that action is: 52.9995858669
programme time is:  2048.99416542
Heart rate: 156
max reward is: 
0.981747108594
max reward is: 
0.981747108594
session time is:  848.996860027
prog action duration is: 90.0
programme time is:  2049.99417448
time remaining on that action is: 51.9995069504
Heart rate: 156
session time is:  849.996850014
programme time is:  2050.99416447
prog action duration is: 90.0
time remaining on that action is: 50.9996118546
Heart rate: 155
session time is:  850.996850967
prog action duration is: 90.0
programme time is:  2051.99416542
time remaining on that action is: 49.9994459152
Heart rate: 155
session time is:  851.9968431
programme time is:  2052.99415755
prog action duration is: 90.0
time remaining on that action is: 48.9995939732
Heart rate: 155
max reward is: 
0.981681443234
max reward is: 
0.981681443234
[ERROR] [1561737897.880586]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

session time is:  852.996855974
programme time is:  2053.99417043
prog action duration is: 90.0
time remaining on that action is: 47.9995889664
Heart rate: 154
session time is:  853.996846914
programme time is:  2054.99416137
prog action duration is: 90.0
time remaining on that action is: 46.9996829033
Heart rate: 153
session time is:  854.996841908
prog action duration is: 90.0
programme time is:  2055.99415636
time remaining on that action is: 45.9996528625
Heart rate: 152
session time is:  855.99636507
programme time is:  2056.99367952
prog action duration is: 90.0
time remaining on that action is: 45.0002470016
Heart rate: 151
max reward is: 
0.987430364405
max reward is: 
0.987430364405
session time is:  856.996846914
programme time is:  2057.99416137
prog action duration is: 90.0
time remaining on that action is: 43.9997138977
Heart rate: 150
session time is:  857.996844053
programme time is:  2058.99415851
prog action duration is: 90.0
time remaining on that action is: 42.9997110367
Heart rate: 150
prog action duration is: 90.0
session time is:  858.997262001
programme time is:  2059.99457645
time remaining on that action is: 41.999327898
Heart rate: 150
prog action duration is: 90.0
session time is:  859.996865988
programme time is:  2060.99418044
time remaining on that action is: 40.9996898174
Heart rate: 150
max reward is: 
0.983982942953
max reward is: 
0.983982942953
session time is:  860.997279882
programme time is:  2061.99459434
prog action duration is: 90.0
time remaining on that action is: 39.9992809296
Heart rate: 149
session time is:  861.997282982
programme time is:  2062.99459743
prog action duration is: 90.0
time remaining on that action is: 38.9992749691
Heart rate: 148
prog action duration is: 90.0
session time is:  862.996880054
programme time is:  2063.99419451
time remaining on that action is: 37.999617815
Heart rate: 147
session time is:  863.996876001
programme time is:  2064.99419045
prog action duration is: 90.0
time remaining on that action is: 36.9996209145
Heart rate: 146
max reward is: 
0.984655103945
max reward is: 
0.984655103945
[ERROR] [1561737909.880689]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

prog action duration is: 90.0
time remaining on that action is: 35.9993638992
session time is:  864.997284889
programme time is:  2065.99459934
Heart rate: 145
prog action duration is: 90.0
session time is:  865.996872902
programme time is:  2066.99418736
time remaining on that action is: 34.999630928
Heart rate: 144
session time is:  866.996483088
prog action duration is: 90.0
programme time is:  2067.99379754
time remaining on that action is: 34.0000219345
Heart rate: 143
prog action duration is: 90.0
session time is:  867.997288942
time remaining on that action is: 32.9993200302
programme time is:  2068.9946034
Heart rate: 142
max reward is: 
0.988934611422
max reward is: 
0.988934611422
session time is:  868.997296095
programme time is:  2069.99461055
prog action duration is: 90.0
time remaining on that action is: 31.9990868568
Heart rate: 141
session time is:  869.997319937
programme time is:  2070.99463439
prog action duration is: 90.0
time remaining on that action is: 30.9991889
Heart rate: 141
session time is:  870.996866941
programme time is:  2071.99418139
prog action duration is: 90.0
time remaining on that action is: 29.9996099472
Heart rate: 141
session time is:  871.996614933
programme time is:  2072.99392939
prog action duration is: 90.0
time remaining on that action is: 28.9998939037
Heart rate: 141
max reward is: 
0.985798634942
max reward is: 
0.985798634942
session time is:  872.996893883
programme time is:  2073.99420834
prog action duration is: 90.0
time remaining on that action is: 27.9995238781
Heart rate: 141
session time is:  873.997289896
programme time is:  2074.99460435
prog action duration is: 90.0
time remaining on that action is: 26.9992449284
Heart rate: 141
session time is:  874.996856928
programme time is:  2075.99417138
prog action duration is: 90.0
time remaining on that action is: 25.9997398853
Heart rate: 141
session time is:  875.997287035
programme time is:  2076.99460149
prog action duration is: 90.0
time remaining on that action is: 24.9991958141
Heart rate: 141
max reward is: 
0.981933093906
max reward is: 
0.981933093906
[ERROR] [1561737921.880395]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

session time is:  876.996869087
prog action duration is: 90.0
programme time is:  2077.99418354
time remaining on that action is: 23.9996469021
Heart rate: 140
prog action duration is: 90.0
session time is:  877.996886969
programme time is:  2078.99420142
time remaining on that action is: 22.9995028973
Heart rate: 139
prog action duration is: 90.0
time remaining on that action is: 22.00020504
session time is:  878.996397018
programme time is:  2079.99371147
Heart rate: 138
session time is:  879.996910095
programme time is:  2080.99422455
prog action duration is: 90.0
time remaining on that action is: 20.9996008873
Heart rate: 137
max reward is: 
0.979040145337
max reward is: 
0.979040145337
1561737925.88: got validated action STYLE_UPDATE (validation timestamp: 1561737984.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
received validated action: STYLE_UPDATENEUTRAL
session time is:  880.996871948
programme time is:  2081.9941864
prog action duration is: 90.0
time remaining on that action is: 19.9996600151
Heart rate: 137
session time is:  881.996866941
programme time is:  2082.99418139
prog action duration is: 90.0
time remaining on that action is: 18.99969697
Heart rate: 136
session time is:  882.996857882
programme time is:  2083.99417233
prog action duration is: 90.0
time remaining on that action is: 17.9995188713
Heart rate: 136
session time is:  883.996596098
programme time is:  2084.99391055
prog action duration is: 90.0
time remaining on that action is: 16.999737978
Heart rate: 135
max reward is: 
0.976247090893
max reward is: 
0.976569567494
no action suggestioned
prog action duration is: 90.0
time remaining on that action is: 15.9997270107
session time is:  884.996870041
programme time is:  2085.99418449
Heart rate: 135
session time is:  885.997287035
programme time is:  2086.99460149
prog action duration is: 90.0
time remaining on that action is: 14.9992468357
Heart rate: 134
1561737932.1: got validated action CHALLENGE (validation timestamp: 1561737984.0)
with style CHALLENGING
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
calling update threshold
 calling update threshold
adding a new instance to database
 new threshold is: 
0.980786439935
adding a new instance to database
publishing this validated action to behaviour manager: CHALLENGECHALLENGING0
received validated action: CHALLENGECHALLENGING
session time is:  886.997287989
programme time is:  2087.99460244
prog action duration is: 90.0
time remaining on that action is: 13.9993009567
Heart rate: 134
session time is:  887.997287035
prog action duration is: 90.0
programme time is:  2088.99460149
time remaining on that action is: 12.999325037
Heart rate: 133
max reward is: 
0.983840827822
max reward is: 
0.983840827822
1561737933.88: got validated action STYLE_UPDATE (validation timestamp: 1561737984.0)
with style CHALLENGING
with validation state STYLE_UPDATE
got duplicate learner suggestion too quickly - won't suggest
publishing this validated action to behaviour manager: STYLE_UPDATECHALLENGING0
     user_id  session_number                              state_id  \
3379      MR               1  40105a69-c16d-4a55-988d-bc4705dfe4a9   
4267      MR               2  9f5ad841-1e2a-4b69-9f06-29e16ba970eb   
4285      MR               2  68bc40b0-2e3d-47bb-acf6-02cc39307a38   
4315      MR               2  56e0e345-9593-456b-8fad-c98f6b93c84e   

         timestamp                             action_id     action  \
3379  1561478144.0  a9106bfd-36a0-4e0a-893f-d11b3ace6790  CHALLENGE   
4267  1561737216.0  9cb04d98-e274-4732-ab87-f272cad2ee13  CHALLENGE   
4285  1561737344.0  7e190706-5638-47f3-82f7-3cb8ae588e39  CHALLENGE   
4315  1561737600.0  3983b5b8-2624-43c9-89ae-9c724181c5cb  CHALLENGE   

            style duration  validation  \
3379  CHALLENGING        0     CONTROL   
4267  CHALLENGING        0  UNPROMPTED   
4285  CHALLENGING        0  UNPROMPTED   
4315  CHALLENGING        0  UNPROMPTED   

                                                 speech  
3379      Come on Mirjana show me what you're made of!!  
4267  Keep up the intensity. We die today to be stro...  
4285         Suffering builds character. You are tough!  
4315                              GIVE ME YOUR ENERGY!!  
GIVE ME YOUR ENERGY!!
session time is:  888.996856928
programme time is:  2089.99417138
publishing next action: RUNNEUTRAL60
prog action duration is: 90.0
time remaining on that action is: 11.9996089935
publishing this proposed action to tablet: RUNCHALLENGING
Heart rate: 133
prog action duration is: 90.0
session time is:  889.996870995
programme time is:  2090.99418545
time remaining on that action is: 10.9996340275
Heart rate: 134
1561737935.8: got validated action RUN (validation timestamp: 1561737984.0)
with style CHALLENGING
with validation state REFUSED
publishing a style learning action
calling update threshold
new threshold is: 
0.983118963453
adding a new instance to database
session time is:  890.996846914
programme time is:  2091.99416137
prog action duration is: 90.0
time remaining on that action is: 9.99970293045
Heart rate: 133
received validated action: STYLE_UPDATECHALLENGING
session time is:  891.997247934
programme time is:  2092.99456239
prog action duration is: 90.0
time remaining on that action is: 8.99929881096
Heart rate: 133
max reward is: 
0.979453120817
max reward is: 
0.972533995981
no action suggestioned
1561737937.88: got validated action STYLE_UPDATE (validation timestamp: 1561737984.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
session time is:  892.996865988
programme time is:  2093.99418044
prog action duration is: 90.0
time remaining on that action is: 7.99964404106
Heart rate: 133
received validated action: STYLE_UPDATENEUTRAL
session time is:  893.996833086
prog action duration is: 90.0
time remaining on that action is: 6.99935603142
programme time is:  2094.99414754
Heart rate: 133
session time is:  894.996848106
programme time is:  2095.99416256
prog action duration is: 90.0
time remaining on that action is: 5.99967098236
Heart rate: 132
session time is:  895.996903896
programme time is:  2096.99421835
prog action duration is: 90.0
time remaining on that action is: 4.99941802025
Heart rate: 132
max reward is: 
0.984872288425
max reward is: 
0.972158920328
no action suggestioned
1561737941.88: got validated action STYLE_UPDATE (validation timestamp: 1561737984.0)
with style CHALLENGING
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATECHALLENGING0
received validated action: STYLE_UPDATECHALLENGING
session time is:  896.996860981
programme time is:  2097.99417543
prog action duration is: 90.0
time remaining on that action is: 3.99967098236
Heart rate: 131
session time is:  897.997148991
prog action duration is: 90.0
programme time is:  2098.99446344
time remaining on that action is: 2.99936199188
Heart rate: 130
session time is:  898.996862888
programme time is:  2099.99417734
prog action duration is: 90.0
time remaining on that action is: 1.99967598915
Heart rate: 130
session time is:  899.996880054
programme time is:  2100.99419451
prog action duration is: 90.0
time remaining on that action is: 0.999614953995
received response to styled programme suggestion
1561737945.25: got validated action RUN (validation timestamp: 1561737984.0)
with style NEUTRAL
with validation state PASSIVE_ACCEPTED
publishing a style learning action
adding programme action to validated action queue
adding a new instance to database
publishing this validated action to behaviour manager: RUNNEUTRAL60
received validated action: RUNNEUTRAL
Heart rate: 130
max reward is: 
0.979713919985
max reward is: 
0.975715218228
no action suggestioned
1561737945.88: got validated action STYLE_UPDATE (validation timestamp: 1561737984.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
participant should now be in RUN
session time is:  900.996870041
programme time is:  2101.99418449
prog action duration is: 60.0
time remaining on that action is: 59.9997401237
Heart rate: 130
session time is:  901.997174978
programme time is:  2102.99448943
prog action duration is: 60.0
time remaining on that action is: 58.9996080399
Heart rate: 129
session time is:  902.996857882
programme time is:  2103.99417233
prog action duration is: 60.0
time remaining on that action is: 58.0000071526
Heart rate: 129
session time is:  903.99684906
programme time is:  2104.99416351
prog action duration is: 60.0
time remaining on that action is: 56.9999871254
Speed: 3.9mph
Heart rate: 130
Speed: 4.0mph
max reward is: 
0.978249557787
max reward is: 
0.978249557787
Speed: 4.2mph
prog action duration is: 60.0
session time is:  904.996848106
programme time is:  2105.99416256
time remaining on that action is: 55.9998681545
Speed: 4.9mph
Speed: 4.4mph
Heart rate: 130
Speed: 4.9mph
Speed: 4.5mph
Speed: 4.6mph
session time is:  905.996869087
programme time is:  2106.99418354
prog action duration is: 60.0
time remaining on that action is: 54.9998641014
Speed: 4.8mph
Speed: 4.7mph
Speed: 4.8mph
Heart rate: 130
Speed: 9.8mph
Speed: 5.0mph
Speed: 5.2mph
session time is:  906.99732089
programme time is:  2107.99463534
prog action duration is: 60.0
time remaining on that action is: 53.9994580746
Speed: 5.3mph
Heart rate: 130
Speed: 5.9mph
Speed: 5.5mph
session time is:  907.996826887
prog action duration is: 60.0
programme time is:  2108.99414134
time remaining on that action is: 53.0000090599
Speed: 5.6mph
Speed: 5.7mph
Speed: 5.8mph
Heart rate: 130
received validated action: STYLE_UPDATENEUTRAL
Speed: 6.8mph
max reward is: 
0.985319416567
max reward is: 
0.985319416567
1561737953.88: got validated action STYLE_UPDATE (validation timestamp: 1561737984.0)
with style SYMPATHETIC
with validation state STYLE_UPDATE
[ERROR] [1561737953.879039]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

publishing this validated action to behaviour manager: STYLE_UPDATESYMPATHETIC0
Speed: 6.0mph
Speed: 6.7mph
session time is:  908.996872902
prog action duration is: 60.0
programme time is:  2109.99418736
time remaining on that action is: 51.9999220371
Speed: 6.2mph
Speed: 6.3mph
Heart rate: 130
Speed: 6.4mph
Speed: 6.9mph
received validated action: STYLE_UPDATESYMPATHETIC
Speed: 6.5mph
Speed: 6.6mph
session time is:  909.997298956
programme time is:  2110.99461341
prog action duration is: 60.0
time remaining on that action is: 50.9994950294
Speed: 6.8mph
Heart rate: 131
Speed: 6.7mph
1561737956.09: got validated action TIME (validation timestamp: 1561737984.0)
with style CHALLENGING
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
adding a new instance to database
calling update threshold
adding a new instance to database
publishing this validated action to behaviour manager: TIMECHALLENGING0
Speed: 6.8mph
session time is:  910.996924877
prog action duration is: 60.0
programme time is:  2111.99423933
time remaining on that action is: 49.9997620583
Heart rate: 133
received validated action: TIMECHALLENGING
Speed: 6.9mph
session time is:  911.997255087
programme time is:  2112.99456954
prog action duration is: 60.0
time remaining on that action is: 48.9995419979
Speed: 7.0mph
Heart rate: 134
max reward is: 
0.992272852328
max reward is: 
0.992272852328
got duplicate learner suggestion too quickly - won't suggest
 1561737957.88: got validated action STYLE_UPDATE (validation timestamp: 1561737984.0)
with style CHALLENGING
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATECHALLENGING0
session time is:  912.99684
prog action duration is: 60.0
programme time is:  2113.99415445
time remaining on that action is: 47.999974966
Heart rate: 136
prog action duration is: 60.0
session time is:  913.996330023
programme time is:  2114.99364448
time remaining on that action is: 47.0003790855
Heart rate: 137
received validated action: STYLE_UPDATECHALLENGING
session time is:  914.996845961
prog action duration is: 60.0
time remaining on that action is: 45.9999639988
programme time is:  2115.99416041
Heart rate: 138
session time is:  915.996848106
prog action duration is: 60.0
programme time is:  2116.99416256
time remaining on that action is: 44.9997370243
Speed: 0.0mph
Heart rate: 139
max reward is: 
0.967780915265
max reward is: 
0.967780915265
no action suggestioned
1561737961.88: got validated action STYLE_UPDATE (validation timestamp: 1561737984.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
received validated action: STYLE_UPDATENEUTRAL
session time is:  916.997317076
programme time is:  2117.99463153
prog action duration is: 60.0
time remaining on that action is: 43.9994711876
Heart rate: 140
prog action duration is: 60.0
session time is:  917.996293068
programme time is:  2118.99360752
time remaining on that action is: 43.0006370544
Heart rate: 141
session time is:  918.997297049
programme time is:  2119.9946115
prog action duration is: 60.0
time remaining on that action is: 41.9995989799
Speed: 7.0mph
Heart rate: 142
session time is:  919.996376038
programme time is:  2120.99369049
prog action duration is: 60.0
time remaining on that action is: 41.0004470348
Heart rate: 143
max reward is: 
0.989934735941
max reward is: 
0.989934735941
1561737965.88: got validated action STYLE_UPDATE (validation timestamp: 1561737984.0)
with style POSITIVE
with validation state STYLE_UPDATE
[ERROR] [1561737965.880813]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

publishing this validated action to behaviour manager: STYLE_UPDATEPOSITIVE0
received validated action: STYLE_UPDATEPOSITIVE
session time is:  920.996860027
programme time is:  2121.99417448
prog action duration is: 60.0
time remaining on that action is: 39.9999501705
Heart rate: 143
prog action duration is: 60.0
session time is:  921.997313976
programme time is:  2122.99462843
time remaining on that action is: 38.999628067
Heart rate: 144
session time is:  922.996881962
programme time is:  2123.99419641
prog action duration is: 60.0
time remaining on that action is: 37.9999279976
Heart rate: 145
prog action duration is: 60.0
session time is:  923.996850014
programme time is:  2124.99416447
time remaining on that action is: 36.9999279976
Heart rate: 145
max reward is: 
0.991772160268
max reward is: 
0.991772160268
prog action duration is: 60.0
session time is:  924.997004986
programme time is:  2125.99431944
time remaining on that action is: 35.9996771812
Heart rate: 146
prog action duration is: 60.0
session time is:  925.997323036
programme time is:  2126.99463749
time remaining on that action is: 34.9995391369
Heart rate: 147
session time is:  926.99686408
programme time is:  2127.99417853
prog action duration is: 60.0
time remaining on that action is: 33.9998819828
Heart rate: 148
session time is:  927.996356964
programme time is:  2128.99367142
prog action duration is: 60.0
time remaining on that action is: 33.0005090237
Heart rate: 148
max reward is: 
0.978523384404
max reward is: 
0.978523384404
1561737973.88: got validated action STYLE_UPDATE (validation timestamp: 1561737984.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
received validated action: STYLE_UPDATENEUTRAL
prog action duration is: 60.0
session time is:  928.997035027
programme time is:  2129.99434948
time remaining on that action is: 31.9998240471
Heart rate: 150
session time is:  929.996901035
prog action duration is: 60.0
programme time is:  2130.99421549
time remaining on that action is: 30.9998171329
Heart rate: 150
prog action duration is: 60.0
session time is:  930.997291088
programme time is:  2131.99460554
time remaining on that action is: 29.9995801449
Heart rate: 151
session time is:  931.997287989
programme time is:  2132.99460244
prog action duration is: 60.0
time remaining on that action is: 28.999557972
1561737977.45: got validated action PRAISE (validation timestamp: 1561737984.0)
with style POSITIVE
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
adding a new instance to database
 adding a new instance to database
publishing this validated action to behaviour manager: PRAISEPOSITIVE0
received validated action: PRAISEPOSITIVE
Heart rate: 152
max reward is: 
1.0
max reward is: 
1.0
1561737977.88: got validated action STYLE_UPDATE (validation timestamp: 1561737984.0)
with style POSITIVE
with validation state STYLE_UPDATE
got duplicate learner suggestion too quickly - won't suggest
publishing this validated action to behaviour manager: STYLE_UPDATEPOSITIVE0
session time is:  932.997286081
programme time is:  2133.99460053
prog action duration is: 60.0
time remaining on that action is: 27.9994499683
Heart rate: 153
     user_id  session_number                              state_id  \
3381      MR               1  e17a8829-f934-47c7-9b25-585e88911e13   
3386      MR               1  1f88bd75-d367-4705-91f6-441a7b3678d3   
3388      MR               1  3fd44b6c-fb0e-42fc-9c6b-cd5cbe882772   
3393      MR               1  74ea600a-1b8a-4afd-a747-3fbb486212e7   
3395      MR               1  dfe7c137-873d-4f1e-8e14-5db833f77849   

         timestamp                             action_id  action     style  \
3381  1561478144.0  a31c3975-e08b-4780-acdc-3fd619113075  PRAISE  POSITIVE   
3386  1561478272.0  ba560e30-dda3-4bc8-8fc2-42be61f0aa8b  PRAISE  POSITIVE   
3388  1561478272.0  994a2b5a-a09b-4cb2-9aca-c2d6fefbecd7  PRAISE  POSITIVE   
3393  1561478400.0  81004164-2a9c-4fb0-8e07-f0b4897bdccc  PRAISE  POSITIVE   
3395  1561478528.0  31782d2b-bc50-477a-8121-bc3f0e65bfb9  PRAISE  POSITIVE   

     duration validation                                             speech  
3381        0    CONTROL                                   You've got this!  
3386        0    CONTROL             You're doing really well-keep this up.  
3388        0    CONTROL                                You're nailing this  
3393        0    CONTROL          You'll be destroying 5k runs in no time!!  
3395        0    CONTROL  Loving this effort! You are stronger than you ...  
Loving this effort! You are stronger than you realise
session time is:  933.996857882
prog action duration is: 60.0
programme time is:  2134.99417233
time remaining on that action is: 26.9999639988
Heart rate: 154
session time is:  934.996872902
prog action duration is: 60.0
time remaining on that action is: 25.99979496
programme time is:  2135.99418736
Heart rate: 155
prog action duration is: 60.0
time remaining on that action is: 25.0000011921
session time is:  935.996857882
programme time is:  2136.99417233
Heart rate: 156
max reward is: 
0.984848970672
max reward is: 
0.984848970672
1561737981.88: got validated action STYLE_UPDATE (validation timestamp: 1561737984.0)
with style SYMPATHETIC
[ERROR] [1561737981.883976]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATESYMPATHETIC0
received validated action: STYLE_UPDATEPOSITIVE
session time is:  936.99686408
programme time is:  2137.99417853
prog action duration is: 60.0
time remaining on that action is: 23.9999871254
Heart rate: 156
session time is:  937.996855021
prog action duration is: 60.0
programme time is:  2138.99416947
time remaining on that action is: 22.9999320507
Heart rate: 157
received validated action: STYLE_UPDATESYMPATHETIC
session time is:  938.996401072
prog action duration is: 60.0
time remaining on that action is: 22.0001220703
programme time is:  2139.99371552
Heart rate: 157
session time is:  939.996834993
programme time is:  2140.99414945
prog action duration is: 60.0
time remaining on that action is: 20.9999480247
Heart rate: 158
max reward is: 
0.991774644706
max reward is: 
0.991774644706
session time is:  940.996872902
programme time is:  2141.99418736
prog action duration is: 60.0
time remaining on that action is: 19.999972105
Heart rate: 159
session time is:  941.997286081
programme time is:  2142.99460053
prog action duration is: 60.0
time remaining on that action is: 18.9995670319
Heart rate: 160
session time is:  942.997272015
programme time is:  2143.99458647
prog action duration is: 60.0
time remaining on that action is: 17.9994761944
1561737988.37: got validated action TIME (validation timestamp: 1561737984.0)
with style SYMPATHETIC
with validation state UNPROMPTED
publishing a style learning action
adding a new instance to database
adding engagement action to validated action queue
publishing an action learning example
adding a new instance to database
publishing this validated action to behaviour manager: TIMESYMPATHETIC0
received validated action: TIMESYMPATHETIC
Heart rate: 160
session time is:  943.996301889
programme time is:  2144.99361634
prog action duration is: 60.0
time remaining on that action is: 17.0005431175
Heart rate: 161
max reward is: 
0.992926621354
max reward is: 
0.992926621354
session time is:  944.996855021
programme time is:  2145.99416947
prog action duration is: 60.0
time remaining on that action is: 15.9998471737
Heart rate: 162
session time is:  945.997066975
prog action duration is: 60.0
programme time is:  2146.99438143
time remaining on that action is: 14.9997050762
Heart rate: 163
session time is:  946.997282982
programme time is:  2147.99459743
prog action duration is: 60.0
time remaining on that action is: 13.999546051
Heart rate: 163
session time is:  947.996855974
programme time is:  2148.99417043
prog action duration is: 60.0
time remaining on that action is: 12.9997730255
Heart rate: 164
max reward is: 
0.987701495653
max reward is: 
0.987701495653
publishing this proposed action to tablet: TIMESYMPATHETIC
publishing next action: WALKNEUTRAL90
prog action duration is: 60.0
session time is:  948.996850014
programme time is:  2149.99416447
time remaining on that action is: 11.9996430874
Heart rate: 164
session time is:  949.996479988
programme time is:  2150.99379444
prog action duration is: 60.0
time remaining on that action is: 11.0002481937
Heart rate: 165
session time is:  950.996850014
programme time is:  2151.99416447
prog action duration is: 60.0
time remaining on that action is: 9.99995398521
received response to learner engagement action suggestion
1561737996.38: got validated action TIME (validation timestamp: 1561737984.0)
with style SYMPATHETIC
with validation state REFUSED
publishing a style learning action
publishing an action learning example
adding a new instance to database
adding a new instance to database
publishing this proposed action to tablet: WALKSYMPATHETIC
Heart rate: 166
session time is:  951.996903896
programme time is:  2152.99421835
prog action duration is: 60.0
time remaining on that action is: 8.99966001511
Heart rate: 167
max reward is: 
0.985637559655
max reward is: 
0.985637559655
prog action duration is: 60.0
session time is:  952.996845007
programme time is:  2153.99415946
time remaining on that action is: 8.00002098083
Heart rate: 168
1561737998.94: got validated action WALK (validation timestamp: 1561737984.0)
with style SYMPATHETIC
with validation state REFUSED
publishing a style learning action
adding a new instance to database
session time is:  953.996855021
programme time is:  2154.99416947
prog action duration is: 60.0
time remaining on that action is: 6.99980902672
Heart rate: 168
session time is:  954.996853113
prog action duration is: 60.0
time remaining on that action is: 5.9998421669
programme time is:  2155.99416757
Heart rate: 168
session time is:  955.996875048
programme time is:  2156.9941895
prog action duration is: 60.0
time remaining on that action is: 4.99995398521
Heart rate: 169
max reward is: 
0.983576926223
max reward is: 
0.981572748427
session time is:  956.996865988
programme time is:  2157.99418044
prog action duration is: 60.0
time remaining on that action is: 3.99990510941
Heart rate: 169
session time is:  957.997288942
programme time is:  2158.9946034
prog action duration is: 60.0
time remaining on that action is: 2.99953913689
Heart rate: 169
session time is:  958.996892929
prog action duration is: 60.0
programme time is:  2159.99420738
time remaining on that action is: 1.99989104271
Heart rate: 170
session time is:  959.997284889
prog action duration is: 60.0
programme time is:  2160.99459934
time remaining on that action is: 0.999580144882
Heart rate: 170
max reward is: 
0.987205541749
max reward is: 
0.980214836303
got a learner suggestion but the tablet is busy so won't queue
participant should now be in WALK
session time is:  960.996454954
programme time is:  2161.99376941
prog action duration is: 90.0
time remaining on that action is: 89.9999320507
Heart rate: 170
session time is:  961.996870995
programme time is:  2162.99418545
prog action duration is: 90.0
time remaining on that action is: 88.9996008873
received response to styled programme suggestion
1561738007.41: got validated action WALK (validation timestamp: 1561737984.0)
with style POSITIVE
with validation state PASSIVE_ACCEPTED
publishing a style learning action
adding programme action to validated action queue
adding a new instance to database
publishing this validated action to behaviour manager: WALKPOSITIVE90
received validated action: WALKPOSITIVE
Heart rate: 170
session time is:  962.996376991
prog action duration is: 90.0
programme time is:  2163.99369144
time remaining on that action is: 87.9999809265
Heart rate: 171
prog action duration is: 90.0
session time is:  963.997298002
time remaining on that action is: 86.9992058277
programme time is:  2164.99461246
Heart rate: 171
max reward is: 
0.982824322746
max reward is: 
0.982824322746
1561738009.88: got validated action STYLE_UPDATE (validation timestamp: 1561737984.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
session time is:  964.997364044
programme time is:  2165.9946785
prog action duration is: 90.0
time remaining on that action is: 85.999022007
Heart rate: 171
prog action duration is: 90.0
time remaining on that action is: 85.0001859665
session time is:  965.996337891
programme time is:  2166.99365234
Heart rate: 172
Speed: 6.9mph
session time is:  966.997157097
prog action duration is: 90.0
programme time is:  2167.99447155
time remaining on that action is: 83.9991240501
Speed: 6.8mph
Heart rate: 172
Speed: 6.6mph
Speed: 6.5mph
session time is:  967.997294903
programme time is:  2168.99460936
prog action duration is: 90.0
time remaining on that action is: 82.9991438389
Speed: 6.9mph
Speed: 6.2mph
Heart rate: 172
Speed: 6.1mph
max reward is: 
0.983122547742
max reward is: 
0.983122547742
1561738013.88: got validated action STYLE_UPDATE (validation timestamp: 1561737984.0)
with style POSITIVE
with validation state STYLE_UPDATE
[ERROR] [1561738013.880865]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

publishing this validated action to behaviour manager: STYLE_UPDATEPOSITIVE0
Speed: 6.7mph
Speed: 6.0mph
received validated action: STYLE_UPDATENEUTRAL
session time is:  968.99684
prog action duration is: 90.0
programme time is:  2169.99415445
time remaining on that action is: 81.9995570183
Speed: 5.9mph
Speed: 5.8mph
Heart rate: 172
Speed: 5.7mph
Speed: 5.8mph
Speed: 5.6mph
session time is:  969.996845007
programme time is:  2170.99415946
prog action duration is: 90.0
time remaining on that action is: 80.9995160103
Speed: 5.5mph
received validated action: STYLE_UPDATEPOSITIVE
Speed: 5.9mph
Heart rate: 172
Speed: 5.4mph
Speed: 5.9mph
Speed: 5.3mph
prog action duration is: 90.0
session time is:  970.997284889
programme time is:  2171.99459934
time remaining on that action is: 79.9991240501
Speed: 5.2mph
Heart rate: 173
Speed: 5.1mph
Speed: 5.0mph
Speed: 9.8mph
Speed: 4.9mph
session time is:  971.996840954
prog action duration is: 90.0
programme time is:  2172.99415541
time remaining on that action is: 78.9995279312
Speed: 4.8mph
Speed: 4.7mph
Heart rate: 173
Speed: 4.6mph
max reward is: 
0.984807915937
max reward is: 
0.984807915937
Speed: 4.5mph
session time is:  972.996839046
programme time is:  2173.9941535
prog action duration is: 90.0
time remaining on that action is: 77.9995648861
Speed: 4.9mph
Heart rate: 173
Speed: 4.2mph
session time is:  973.996854067
programme time is:  2174.99416852
prog action duration is: 90.0
time remaining on that action is: 76.9995219707
Speed: 4.1mph
Speed: 4.0mph
Speed: 9.0mph
Heart rate: 173
Speed: 3.9mph
Speed: 3.8mph
session time is:  974.996875048
prog action duration is: 90.0
time remaining on that action is: 75.9994678497
programme time is:  2175.9941895
Heart rate: 173
session time is:  975.996844053
prog action duration is: 90.0
time remaining on that action is: 74.999475956
programme time is:  2176.99415851
Heart rate: 173
max reward is: 
0.990742966342
max reward is: 
0.990742966342
session time is:  976.996853113
prog action duration is: 90.0
time remaining on that action is: 73.999560833
programme time is:  2177.99416757
Heart rate: 172
prog action duration is: 90.0
session time is:  977.996877909
programme time is:  2178.99419236
time remaining on that action is: 72.9994928837
Heart rate: 172
1561738023.86: got validated action TIME (validation timestamp: 1561737984.0)
with style SYMPATHETIC
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
adding a new instance to database
 adding a new instance to database
publishing this validated action to behaviour manager: TIMESYMPATHETIC0
received validated action: TIMESYMPATHETIC
Speed: 0.0mph
prog action duration is: 90.0
session time is:  978.996834993
programme time is:  2179.99414945
time remaining on that action is: 71.9996490479
Heart rate: 172
session time is:  979.996910095
programme time is:  2180.99422455
prog action duration is: 90.0
time remaining on that action is: 70.9994339943
Heart rate: 172
max reward is: 
0.975456757906
max reward is: 
0.975456757906
no action suggestioned
1561738025.88: got validated action STYLE_UPDATE (validation timestamp: 1561737984.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
session time is:  980.996869087
programme time is:  2181.99418354
prog action duration is: 90.0
time remaining on that action is: 69.9995279312
Heart rate: 171
Speed: 3.8mph
prog action duration is: 90.0
session time is:  981.996859074
programme time is:  2182.99417353
time remaining on that action is: 68.9995219707
Heart rate: 171
prog action duration is: 90.0
session time is:  982.996850014
programme time is:  2183.99416447
time remaining on that action is: 67.9996180534
received validated action: STYLE_UPDATENEUTRAL
Heart rate: 170
prog action duration is: 90.0
time remaining on that action is: 66.9996609688
session time is:  983.996836901
programme time is:  2184.99415135
Heart rate: 170
max reward is: 
0.983888052062
max reward is: 
0.983888052062
1561738029.88: got validated action STYLE_UPDATE (validation timestamp: 1561737984.0)
with style POSITIVE
with validation state STYLE_UPDATE
[ERROR] [1561738029.880952]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

publishing this validated action to behaviour manager: STYLE_UPDATEPOSITIVE0
received validated action: STYLE_UPDATEPOSITIVE
session time is:  984.996865988
prog action duration is: 90.0
time remaining on that action is: 65.9995009899
programme time is:  2185.99418044
session time is:  985.996860027
programme time is:  2186.99417448
prog action duration is: 90.0
time remaining on that action is: 64.9995288849
Heart rate: 170
Heart rate: 169
session time is:  986.996870041
programme time is:  2187.99418449
prog action duration is: 90.0
time remaining on that action is: 63.9994978905
Heart rate: 169
session time is:  987.996848106
programme time is:  2188.99416256
prog action duration is: 90.0
time remaining on that action is: 62.9996140003
Heart rate: 168
max reward is: 
0.984861046889
max reward is: 
0.984861046889
prog action duration is: 90.0
session time is:  988.996865988
programme time is:  2189.99418044
time remaining on that action is: 61.9996259212
Heart rate: 167
session time is:  989.996850967
programme time is:  2190.99416542
prog action duration is: 90.0
time remaining on that action is: 60.999505043
Heart rate: 166
1561738036.17: got validated action CHECKPRE (validation timestamp: 1561737984.0)
with style SYMPATHETIC
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
adding a new instance to database
adding a new instance to database
publishing this validated action to behaviour manager: CHECKPRESYMPATHETIC0
received validated action: CHECKPRESYMPATHETIC
session time is:  990.996857882
programme time is:  2191.99417233
prog action duration is: 90.0
time remaining on that action is: 59.9995670319
Heart rate: 165
session time is:  991.996862888
prog action duration is: 90.0
programme time is:  2192.99417734
time remaining on that action is: 58.9993360043
Heart rate: 165
max reward is: 
0.989076429071
max reward is: 
0.989076429071
[ERROR] [1561738037.880750]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

1561738037.88: got validated action STYLE_UPDATE (validation timestamp: 1561737984.0)
with style SYMPATHETIC
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATESYMPATHETIC0
     user_id  session_number                              state_id  \
4302      MR               2  9c6eb5ea-a948-4ad1-8a12-3b50fac94a45   

         timestamp                             action_id    action  \
4302  1561737472.0  dd0f4daa-d2f5-4d73-84b4-97baa953d576  CHECKPRE   

            style duration  validation                       speech  
4302  SYMPATHETIC        0  UNPROMPTED  What are those legs saying?  
What are those legs saying?
session time is:  992.996841908
prog action duration is: 90.0
time remaining on that action is: 57.9995079041
programme time is:  2193.99415636
Heart rate: 164
session time is:  993.9968431
programme time is:  2194.99415755
prog action duration is: 90.0
time remaining on that action is: 56.9995150566
Heart rate: 164
session time is:  994.996854067
prog action duration is: 90.0
programme time is:  2195.99416852
time remaining on that action is: 55.9993460178
received validated action: STYLE_UPDATESYMPATHETIC
Heart rate: 163
session time is:  995.997006893
prog action duration is: 90.0
time remaining on that action is: 54.9992289543
programme time is:  2196.99432135
Heart rate: 163
max reward is: 
0.977041405842
max reward is: 
0.977041405842
1561738041.88: got validated action STYLE_UPDATE (validation timestamp: 1561737984.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
setting session mood to positive
session time is:  996.996920109
prog action duration is: 90.0
programme time is:  2197.99423456
time remaining on that action is: 53.9992368221
received validated action: STYLE_UPDATENEUTRAL
Heart rate: 162
session time is:  997.997224092
programme time is:  2198.99453855
prog action duration is: 90.0
time remaining on that action is: 52.9992759228
Heart rate: 161
session time is:  998.996857882
prog action duration is: 90.0
time remaining on that action is: 51.9995708466
programme time is:  2199.99417233
Heart rate: 161
prog action duration is: 90.0
session time is:  999.996382952
programme time is:  2200.9936974
time remaining on that action is: 51.0001499653
Heart rate: 159
max reward is: 
0.979792949475
max reward is: 
0.979792949475
session time is:  1000.99728394
programme time is:  2201.99459839
prog action duration is: 90.0
time remaining on that action is: 49.9991328716
Heart rate: 158
session time is:  1001.9968791
programme time is:  2202.99419355
prog action duration is: 90.0
time remaining on that action is: 48.9994158745
Heart rate: 158
prog action duration is: 90.0
session time is:  1002.99687505
programme time is:  2203.9941895
time remaining on that action is: 47.9996578693
Heart rate: 157
session time is:  1003.99725795
programme time is:  2204.9945724
prog action duration is: 90.0
time remaining on that action is: 46.9991919994
Heart rate: 156
max reward is: 
0.979697472086
max reward is: 
0.979697472086
[ERROR] [1561738049.880408]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

session time is:  1004.99636889
programme time is:  2205.99368334
prog action duration is: 90.0
time remaining on that action is: 45.999961853
Heart rate: 156
session time is:  1005.99684501
programme time is:  2206.99415946
prog action duration is: 90.0
time remaining on that action is: 44.9995100498
Heart rate: 155
session time is:  1006.99684596
programme time is:  2207.99416041
prog action duration is: 90.0
time remaining on that action is: 43.9995110035
Heart rate: 155
prog action duration is: 90.0
session time is:  1007.99686408
programme time is:  2208.99417853
time remaining on that action is: 42.9996080399
Heart rate: 155
max reward is: 
0.986853400635
max reward is: 
0.986853400635
1561738053.88: got validated action STYLE_UPDATE (validation timestamp: 1561738112.0)
with style SYMPATHETIC
with validation state STYLE_UPDATE
publishing this proposed action to tablet: CHECKPRESYMPATHETIC
publishing this validated action to behaviour manager: STYLE_UPDATESYMPATHETIC0
received validated action: STYLE_UPDATESYMPATHETIC
prog action duration is: 90.0
time remaining on that action is: 42.0000720024
session time is:  1008.99643588
programme time is:  2209.99375033
Heart rate: 155
session time is:  1009.99729705
programme time is:  2210.9946115
prog action duration is: 90.0
time remaining on that action is: 40.9991338253
Heart rate: 155
received response to learner engagement action suggestion
1561738055.95: got validated action CHECKPRE (validation timestamp: 1561738112.0)
with style SYMPATHETIC
with validation state REFUSED
publishing a style learning action
publishing an action learning example
adding a new instance to database
adding a new instance to database
prog action duration is: 90.0
time remaining on that action is: 39.9996519089
session time is:  1010.99672008
programme time is:  2211.99403453
Heart rate: 154
prog action duration is: 90.0
session time is:  1011.9973259
programme time is:  2212.99464035
time remaining on that action is: 38.9991698265
Heart rate: 154
max reward is: 
0.983023002301
max reward is: 
0.983023002301
1561738057.88: got validated action STYLE_UPDATE (validation timestamp: 1561738112.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
received validated action: STYLE_UPDATENEUTRAL
session time is:  1012.99730802
programme time is:  2213.99462247
prog action duration is: 90.0
time remaining on that action is: 37.9990689754
Heart rate: 153
session time is:  1013.9968679
programme time is:  2214.99418235
prog action duration is: 90.0
time remaining on that action is: 36.9995310307
Heart rate: 152
session time is:  1014.99637604
programme time is:  2215.99369049
prog action duration is: 90.0
time remaining on that action is: 36.0000259876
Heart rate: 151
session time is:  1015.996876
programme time is:  2216.99419045
prog action duration is: 90.0
time remaining on that action is: 34.9996168613
Heart rate: 150
max reward is: 
0.974342336551
max reward is: 
0.974342336551
no action suggestioned
prog action duration is: 90.0
session time is:  1016.99685907
programme time is:  2217.99417353
time remaining on that action is: 33.9996109009
Heart rate: 149
session time is:  1017.99730301
programme time is:  2218.99461746
prog action duration is: 90.0
time remaining on that action is: 32.9990420341
Heart rate: 148
prog action duration is: 90.0
session time is:  1018.9964819
programme time is:  2219.99379635
time remaining on that action is: 31.9998528957
Heart rate: 147
session time is:  1019.99686408
programme time is:  2220.99417853
prog action duration is: 90.0
time remaining on that action is: 30.9993879795
Heart rate: 146
max reward is: 
0.97721701045
max reward is: 
0.97721701045
session time is:  1020.99679995
programme time is:  2221.9941144
prog action duration is: 90.0
time remaining on that action is: 29.9995539188
Heart rate: 145
1561738067.11: got validated action SYMPATHISE (validation timestamp: 1561738112.0)
with style SYMPATHETIC
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
adding a new instance to database
 calling update threshold
new threshold is: 
0.976599265193
adding a new instance to database
publishing this validated action to behaviour manager: SYMPATHISESYMPATHETIC0
received validated action: SYMPATHISESYMPATHETIC
session time is:  1021.99731302
programme time is:  2222.99462748
prog action duration is: 90.0
time remaining on that action is: 28.9990758896
Heart rate: 145
session time is:  1022.9963789
prog action duration is: 90.0
time remaining on that action is: 27.9999699593
programme time is:  2223.99369335
Heart rate: 145
session time is:  1023.99689889
programme time is:  2224.99421334
prog action duration is: 90.0
time remaining on that action is: 26.9995570183
Heart rate: 145
max reward is: 
0.983022800075
max reward is: 
0.983022800075
session time is:  1024.99686909
programme time is:  2225.99418354
prog action duration is: 90.0
time remaining on that action is: 25.9996268749
Heart rate: 144
session time is:  1025.99686408
programme time is:  2226.99417853
prog action duration is: 90.0
time remaining on that action is: 24.9994709492
Heart rate: 143
session time is:  1026.99727893
prog action duration is: 90.0
programme time is:  2227.99459338
time remaining on that action is: 23.9992518425
Heart rate: 143
session time is:  1027.9963491
programme time is:  2228.99366355
prog action duration is: 90.0
time remaining on that action is: 23.0000638962
Heart rate: 142
max reward is: 
0.983872718076
max reward is: 
0.983872718076
1561738073.88: got validated action STYLE_UPDATE (validation timestamp: 1561738112.0)
with style SYMPATHETIC
with validation state STYLE_UPDATE
publishing this proposed action to tablet: SYMPATHISESYMPATHETIC
publishing this validated action to behaviour manager: STYLE_UPDATESYMPATHETIC0
received validated action: STYLE_UPDATESYMPATHETIC
session time is:  1028.99685907
programme time is:  2229.99417353
prog action duration is: 90.0
time remaining on that action is: 21.9995698929
Heart rate: 142
session time is:  1029.99685907
programme time is:  2230.99417353
prog action duration is: 90.0
time remaining on that action is: 20.9994518757
received response to learner engagement action suggestion
1561738075.58: got validated action SYMPATHISE (validation timestamp: 1561738112.0)
with style SYMPATHETIC
with validation state REFUSED
publishing a style learning action
publishing an action learning example
calling update threshold
new threshold is: 
0.978262103872
adding a new instance to database
adding a new instance to database
Heart rate: 142
session time is:  1030.99728799
prog action duration is: 90.0
programme time is:  2231.99460244
time remaining on that action is: 19.9991898537
Heart rate: 142
prog action duration is: 90.0
session time is:  1031.99687004
programme time is:  2232.99418449
time remaining on that action is: 18.9996409416
Heart rate: 141
max reward is: 
0.975836988936
max reward is: 
0.975836988936
no action suggestioned
1561738077.88: got validated action STYLE_UPDATE (validation timestamp: 1561738112.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
received validated action: STYLE_UPDATENEUTRAL
session time is:  1032.99683595
programme time is:  2233.9941504
prog action duration is: 90.0
time remaining on that action is: 17.9994978905
Heart rate: 141
session time is:  1033.99684811
programme time is:  2234.99416256
prog action duration is: 90.0
time remaining on that action is: 16.9996228218
Heart rate: 141
session time is:  1034.99687004
programme time is:  2235.99418449
prog action duration is: 90.0
time remaining on that action is: 15.999573946
Heart rate: 141
session time is:  1035.99729395
programme time is:  2236.9946084
prog action duration is: 90.0
time remaining on that action is: 14.9991769791
Heart rate: 141
max reward is: 
0.977496910123
max reward is: 
0.977441655679
no action suggestioned
session time is:  1036.9963429
programme time is:  2237.99365735
prog action duration is: 90.0
time remaining on that action is: 13.9999799728
Heart rate: 140
session time is:  1037.99696994
programme time is:  2238.99428439
prog action duration is: 90.0
time remaining on that action is: 12.9993178844
Heart rate: 140
session time is:  1038.99686408
publishing next action: RUNNEUTRAL60
prog action duration is: 90.0
programme time is:  2239.99417853
time remaining on that action is: 11.9993350506
publishing this proposed action to tablet: RUNNEUTRAL
Heart rate: 140
prog action duration is: 90.0
time remaining on that action is: 10.9996759892
session time is:  1039.9968679
programme time is:  2240.99418235
Heart rate: 139
max reward is: 
0.980652851662
max reward is: 
0.980652851662
session time is:  1040.99685407
prog action duration is: 90.0
time remaining on that action is: 9.99951696396
programme time is:  2241.99416852
Heart rate: 139
1561738087.14: got validated action RUN (validation timestamp: 1561738112.0)
with style NEUTRAL
with validation state REFUSED
publishing a style learning action
adding a new instance to database
prog action duration is: 90.0
time remaining on that action is: 8.99944186211
session time is:  1041.99685597
programme time is:  2242.99417043
Heart rate: 138
prog action duration is: 90.0
session time is:  1042.99729609
programme time is:  2243.99461055
time remaining on that action is: 7.99921584129
Heart rate: 138
session time is:  1043.99685693
programme time is:  2244.99417138
prog action duration is: 90.0
time remaining on that action is: 6.99953889847
Heart rate: 138
max reward is: 
0.982946833624
max reward is: 
0.982946833624
session time is:  1044.9968431
programme time is:  2245.99415755
prog action duration is: 90.0
time remaining on that action is: 5.99950385094
Heart rate: 138
session time is:  1045.9968431
programme time is:  2246.99415755
prog action duration is: 90.0
time remaining on that action is: 4.99957585335
Heart rate: 138
session time is:  1046.99686408
programme time is:  2247.99417853
prog action duration is: 90.0
time remaining on that action is: 3.99951887131
Heart rate: 137
prog action duration is: 90.0
time remaining on that action is: 2.99956297874
session time is:  1047.99684596
programme time is:  2248.99416041
Heart rate: 137
max reward is: 
0.982665556017
max reward is: 
0.974882226956
no action suggestioned
prog action duration is: 90.0
time remaining on that action is: 1.99946284294
session time is:  1048.99684501
programme time is:  2249.99415946
Heart rate: 137
session time is:  1049.99688101
programme time is:  2250.99419546
prog action duration is: 90.0
time remaining on that action is: 0.999537944794
received response to styled programme suggestion
1561738095.26: got validated action RUN (validation timestamp: 1561738112.0)
with style POSITIVE
with validation state PASSIVE_ACCEPTED
publishing a style learning action
adding programme action to validated action queue
adding a new instance to database
publishing this validated action to behaviour manager: RUNPOSITIVE60
received validated action: RUNPOSITIVE
Heart rate: 136
session time is:  1050.99685788
participant should now be in RUN
prog action duration is: 60.0
programme time is:  2251.99417233
time remaining on that action is: 59.9997799397
Heart rate: 136
session time is:  1051.99684906
prog action duration is: 60.0
programme time is:  2252.99416351
time remaining on that action is: 59.0001180172
Heart rate: 135
max reward is: 
0.971363424577
max reward is: 
0.971363424577
no action suggestioned
session time is:  1052.9968369
prog action duration is: 60.0
programme time is:  2253.99415135
time remaining on that action is: 58.0000219345
Heart rate: 135
prog action duration is: 60.0
session time is:  1053.997293
programme time is:  2254.99460745
time remaining on that action is: 56.9998409748
Heart rate: 136
prog action duration is: 60.0
time remaining on that action is: 55.9999811649
session time is:  1054.99718499
programme time is:  2255.99449944
Heart rate: 135
prog action duration is: 60.0
session time is:  1055.99648309
programme time is:  2256.99379754
time remaining on that action is: 55.0004611015
Heart rate: 135
max reward is: 
0.966795349426
max reward is: 
0.966795349426
no action suggestioned
prog action duration is: 60.0
session time is:  1056.99729109
programme time is:  2257.99460554
time remaining on that action is: 53.999874115
Heart rate: 134
Speed: 3.9mph
session time is:  1057.997123
programme time is:  2258.99443746
prog action duration is: 60.0
time remaining on that action is: 53.0000369549
Speed: 4.0mph
Heart rate: 134
Speed: 4.2mph
Speed: 4.3mph
session time is:  1058.99686289
programme time is:  2259.99417734
prog action duration is: 60.0
time remaining on that action is: 52.0001740456
Speed: 4.9mph
Speed: 4.5mph
Heart rate: 133
Speed: 4.6mph
Speed: 4.8mph
Speed: 4.7mph
session time is:  1059.99693894
programme time is:  2260.9942534
prog action duration is: 60.0
time remaining on that action is: 51.0001649857
Speed: 4.8mph
Heart rate: 133
Speed: 4.9mph
max reward is: 
0.971508317139
max reward is: 
0.971436511464
no action suggestioned
Speed: 9.8mph
session time is:  1060.99727607
programme time is:  2261.99459052
prog action duration is: 60.0
time remaining on that action is: 49.999735117
Speed: 5.0mph
Speed: 5.1mph
Heart rate: 133
Speed: 5.2mph
Speed: 5.9mph
Speed: 5.6mph
session time is:  1061.99684405
programme time is:  2262.99415851
prog action duration is: 60.0
time remaining on that action is: 49.0002040863
Speed: 5.8mph
Speed: 6.8mph
Speed: 6.0mph
Heart rate: 133
session time is:  1062.99682999
programme time is:  2263.99414444
prog action duration is: 60.0
time remaining on that action is: 48.0002551079
Speed: 6.1mph
Heart rate: 133
Speed: 6.2mph
session time is:  1063.99682999
programme time is:  2264.99414444
prog action duration is: 60.0
time remaining on that action is: 47.0002629757
Heart rate: 135
Speed: 6.3mph
max reward is: 
0.986403740481
max reward is: 
0.986403740481
1561738109.88: got validated action STYLE_UPDATE (validation timestamp: 1561738112.0)
with style SYMPATHETIC
with validation state STYLE_UPDATE
publishing this proposed action to tablet: CHALLENGESYMPATHETIC
publishing this validated action to behaviour manager: STYLE_UPDATESYMPATHETIC0
received validated action: STYLE_UPDATESYMPATHETIC
Speed: 6.9mph
session time is:  1064.99724793
programme time is:  2265.99456239
prog action duration is: 60.0
time remaining on that action is: 45.9998230934
Speed: 6.4mph
Speed: 6.9mph
Speed: 6.5mph
Heart rate: 135
Speed: 6.6mph
Speed: 6.0mph
Speed: 6.8mph
Speed: 6.9mph
prog action duration is: 60.0
session time is:  1065.9968729
programme time is:  2266.99418736
time remaining on that action is: 45.0002410412
Heart rate: 135
received response to learner engagement action suggestion
1561738112.15: got validated action CHALLENGE (validation timestamp: 1561738112.0)
with style SYMPATHETIC
with validation state REFUSED
publishing a style learning action
publishing an action learning example
adding a new instance to database
calling update threshold
new threshold is: 
0.980412464685
adding a new instance to database
session time is:  1066.99683189
programme time is:  2267.99414635
prog action duration is: 60.0
time remaining on that action is: 44.0003039837
Speed: 7.0mph
Heart rate: 135
session time is:  1067.99686003
prog action duration is: 60.0
programme time is:  2268.99417448
time remaining on that action is: 43.0002200603
1561738113.3: got validated action CHALLENGE (validation timestamp: 1561738112.0)
with style SYMPATHETIC
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
adding a new instance to database
calling update threshold
adding a new instance to database
publishing this validated action to behaviour manager: CHALLENGESYMPATHETIC0
received validated action: CHALLENGESYMPATHETIC
Heart rate: 135
max reward is: 
0.993382079268
max reward is: 
0.993382079268
got duplicate learner suggestion too quickly - won't suggest
session time is:  1068.99709392
prog action duration is: 60.0
programme time is:  2269.99440837
time remaining on that action is: 41.9999101162
Heart rate: 135
     user_id  session_number                              state_id  \
4274      MR               2  ff458379-502f-4c81-8a32-815070248238   
4307      MR               2  d7992fff-475b-4636-b215-0f8579c41e35   
4340      MR               2  c2508c64-a3e6-4129-bb54-15971fb7d998   

         timestamp                             action_id     action  \
4274  1561737216.0  206a522c-6a6d-4bf9-8f8e-e1f487573a2b  CHALLENGE   
4307  1561737472.0  21a10252-708d-4990-98fc-9d2a618027c6  CHALLENGE   
4340  1561737856.0  95309d34-aebf-4dfe-a0b6-c00762597514  CHALLENGE   

            style duration  validation  \
4274  SYMPATHETIC        0  UNPROMPTED   
4307  SYMPATHETIC        0  UNPROMPTED   
4340  SYMPATHETIC        0  UNPROMPTED   

                                                 speech  
4274  Zone out-listen to your body and find that rhy...  
4307           No stress. Clear your mind and just run.  
4340  I'm afraid it doesn't get easier-you only get ...  
I'm afraid it doesn't get easier, you only get tougher.
session time is:  1069.99728394
programme time is:  2270.99459839
prog action duration is: 60.0
time remaining on that action is: 40.9998459816
Heart rate: 136
session time is:  1070.99684811
programme time is:  2271.99416256
prog action duration is: 60.0
time remaining on that action is: 40.0002069473
Speed: 0.0mph
Heart rate: 137
session time is:  1071.99683094
programme time is:  2272.99414539
prog action duration is: 60.0
time remaining on that action is: 39.0003340244
Heart rate: 138
max reward is: 
0.974699044189
max reward is: 
0.974699044189
no action suggestioned
1561738117.88: got validated action STYLE_UPDATE (validation timestamp: 1561738112.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
session time is:  1072.99684191
programme time is:  2273.99415636
prog action duration is: 60.0
time remaining on that action is: 38.0002441406
received validated action: STYLE_UPDATENEUTRAL
Heart rate: 139
prog action duration is: 60.0
session time is:  1073.99685788
programme time is:  2274.99417233
time remaining on that action is: 37.0002300739
Heart rate: 141
Speed: 7.0mph
session time is:  1074.9968369
prog action duration is: 60.0
programme time is:  2275.99415135
time remaining on that action is: 36.0002231598
Heart rate: 142
session time is:  1075.99727893
prog action duration is: 60.0
programme time is:  2276.99459338
time remaining on that action is: 34.9998910427
Heart rate: 143
max reward is: 
0.981908465167
max reward is: 
0.981908465167
session time is:  1076.99686289
programme time is:  2277.99417734
prog action duration is: 60.0
time remaining on that action is: 34.0001430511
Heart rate: 144
session time is:  1077.99728203
programme time is:  2278.99459648
prog action duration is: 60.0
time remaining on that action is: 32.9999139309
Heart rate: 146
prog action duration is: 60.0
session time is:  1078.99728203
time remaining on that action is: 31.9999270439
programme time is:  2279.99459648
Heart rate: 147
prog action duration is: 60.0
session time is:  1079.99685502
programme time is:  2280.99416947
time remaining on that action is: 31.0002980232
Heart rate: 149
max reward is: 
0.987065728357
max reward is: 
0.987065728357
1561738125.88: got validated action STYLE_UPDATE (validation timestamp: 1561738112.0)
with style SYMPATHETIC
with validation state STYLE_UPDATE
[ERROR] [1561738125.880564]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

publishing this validated action to behaviour manager: STYLE_UPDATESYMPATHETIC0
received validated action: STYLE_UPDATESYMPATHETIC
prog action duration is: 60.0
session time is:  1080.99685693
programme time is:  2281.99417138
time remaining on that action is: 30.0003609657
Heart rate: 149
session time is:  1081.99727893
programme time is:  2282.99459338
prog action duration is: 60.0
time remaining on that action is: 28.9998290539
Heart rate: 151
prog action duration is: 60.0
session time is:  1082.99683309
programme time is:  2283.99414754
time remaining on that action is: 28.0001859665
Heart rate: 152
session time is:  1083.99727488
prog action duration is: 60.0
programme time is:  2284.99458933
time remaining on that action is: 26.9998779297
Heart rate: 153
max reward is: 
0.986919905199
max reward is: 
0.986919905199
session time is:  1084.99687409
prog action duration is: 60.0
programme time is:  2285.99418855
time remaining on that action is: 26.0003359318
Heart rate: 154
session time is:  1085.99685001
programme time is:  2286.99416447
prog action duration is: 60.0
time remaining on that action is: 25.0002939701
Heart rate: 156
session time is:  1086.9968369
programme time is:  2287.99415135
prog action duration is: 60.0
time remaining on that action is: 24.0002281666
Heart rate: 157
session time is:  1087.99685907
programme time is:  2288.99417353
prog action duration is: 60.0
time remaining on that action is: 23.0002779961
Heart rate: 157
1561738133.66: got validated action PRAISE (validation timestamp: 1561738112.0)
with style POSITIVE
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
adding a new instance to database
adding a new instance to database
publishing this validated action to behaviour manager: PRAISEPOSITIVE0
received validated action: PRAISEPOSITIVE
max reward is: 
1.0
max reward is: 
1.0
1561738133.88: got validated action STYLE_UPDATE (validation timestamp: 1561738112.0)got duplicate learner suggestion too quickly - won't suggest

with style POSITIVE
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATEPOSITIVE0
session time is:  1088.99733591
programme time is:  2289.99465036
prog action duration is: 60.0
time remaining on that action is: 21.9995961189
Heart rate: 158
session time is:  1089.99731708
programme time is:  2290.99463153
prog action duration is: 60.0
time remaining on that action is: 20.9997770786
     user_id  session_number                              state_id  \
3381      MR               1  e17a8829-f934-47c7-9b25-585e88911e13   
3386      MR               1  1f88bd75-d367-4705-91f6-441a7b3678d3   
3388      MR               1  3fd44b6c-fb0e-42fc-9c6b-cd5cbe882772   
3393      MR               1  74ea600a-1b8a-4afd-a747-3fbb486212e7   
3395      MR               1  dfe7c137-873d-4f1e-8e14-5db833f77849   

         timestamp                             action_id  action     style  \
3381  1561478144.0  a31c3975-e08b-4780-acdc-3fd619113075  PRAISE  POSITIVE   
3386  1561478272.0  ba560e30-dda3-4bc8-8fc2-42be61f0aa8b  PRAISE  POSITIVE   
3388  1561478272.0  994a2b5a-a09b-4cb2-9aca-c2d6fefbecd7  PRAISE  POSITIVE   
3393  1561478400.0  81004164-2a9c-4fb0-8e07-f0b4897bdccc  PRAISE  POSITIVE   
3395  1561478528.0  31782d2b-bc50-477a-8121-bc3f0e65bfb9  PRAISE  POSITIVE   

     duration validation                                             speech  
3381        0    CONTROL                                   You've got this!  
3386        0    CONTROL             You're doing really well-keep this up.  
3388        0    CONTROL                                You're nailing this  
3393        0    CONTROL          You'll be destroying 5k runs in no time!!  
3395        0    CONTROL  Loving this effort! You are stronger than you ...  
Damn, you're making this look easy!
Heart rate: 159
session time is:  1090.99728894
programme time is:  2291.9946034
prog action duration is: 60.0
time remaining on that action is: 19.9998450279
Heart rate: 160
session time is:  1091.99690604
prog action duration is: 60.0
time remaining on that action is: 18.9998941422
programme time is:  2292.9942205
Heart rate: 161
max reward is: 
0.980809536721
max reward is: 
0.980809536721
1561738137.88: got validated action STYLE_UPDATE (validation timestamp: 1561738112.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
session time is:  1092.9973731
programme time is:  2293.99468756
prog action duration is: 60.0
time remaining on that action is: 17.9996600151
Heart rate: 162
session time is:  1093.99684501
programme time is:  2294.99415946
prog action duration is: 60.0
time remaining on that action is: 17.0002889633
received validated action: STYLE_UPDATEPOSITIVE
Heart rate: 162
prog action duration is: 60.0
time remaining on that action is: 16.0003039837
session time is:  1094.99687099
programme time is:  2295.99418545
received validated action: STYLE_UPDATENEUTRAL
1561738141.08: got validated action TIME (validation timestamp: 1561738112.0)
with style SYMPATHETIC
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
adding a new instance to database
adding a new instance to database
publishing this validated action to behaviour manager: TIMESYMPATHETIC0
session time is:  1095.99698901
prog action duration is: 60.0
time remaining on that action is: 14.9998440742
programme time is:  2296.99430346
Heart rate: 162
Heart rate: 164
max reward is: 
0.997004984506
max reward is: 
0.997004984506
got duplicate learner suggestion too quickly - won't suggest
1561738141.88: got validated action STYLE_UPDATE (validation timestamp: 1561738112.0)
with style SYMPATHETIC
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATESYMPATHETIC0
received validated action: TIMESYMPATHETIC
session time is:  1096.99686408
programme time is:  2297.99417853
prog action duration is: 60.0
time remaining on that action is: 14.000262022
Heart rate: 164
session time is:  1097.99636292
prog action duration is: 60.0
time remaining on that action is: 13.0007901192
programme time is:  2298.99367738
Heart rate: 164
session time is:  1098.99728799
programme time is:  2299.99460244
publishing next action: WALKNEUTRAL90
prog action duration is: 60.0
time remaining on that action is: 11.9996781349
publishing this proposed action to tablet: WALKSYMPATHETIC
Heart rate: 165
prog action duration is: 60.0
session time is:  1099.997293
programme time is:  2300.99460745
time remaining on that action is: 10.9999079704
Heart rate: 165
max reward is: 
0.989541344427
max reward is: 
0.989541344427
session time is:  1100.9967339
programme time is:  2301.99404836
prog action duration is: 60.0
time remaining on that action is: 10.0004489422
received validated action: STYLE_UPDATESYMPATHETIC
Heart rate: 165
session time is:  1101.9972949
programme time is:  2302.99460936
prog action duration is: 60.0
time remaining on that action is: 8.99983716011
Heart rate: 166
prog action duration is: 60.0
session time is:  1102.99648905
programme time is:  2303.9938035
time remaining on that action is: 8.00067806244
Heart rate: 167
session time is:  1103.99724102
programme time is:  2304.99455547
prog action duration is: 60.0
time remaining on that action is: 6.99981307983
Heart rate: 168
max reward is: 
0.985632837024
max reward is: 
0.985632837024
session time is:  1104.99628496
prog action duration is: 60.0
time remaining on that action is: 6.00064992905
programme time is:  2305.99359941
Heart rate: 169
session time is:  1105.99738789
programme time is:  2306.99470234
prog action duration is: 60.0
time remaining on that action is: 4.99969911575
Heart rate: 169
1561738151.74: got validated action WALK (validation timestamp: 1561738112.0)
with style SYMPATHETIC
with validation state REFUSED
publishing a style learning action
adding a new instance to database
session time is:  1106.99697089
prog action duration is: 60.0
time remaining on that action is: 3.99964594841
programme time is:  2307.99428535
Heart rate: 170
session time is:  1107.99696207
programme time is:  2308.99427652
prog action duration is: 60.0
time remaining on that action is: 3.00015211105
Heart rate: 170
max reward is: 
0.984092353661
max reward is: 
0.984092353661
got a learner suggestion but the tablet is busy so won't queue
prog action duration is: 60.0
session time is:  1108.99688601
programme time is:  2309.99420047
time remaining on that action is: 2.0000770092
Heart rate: 170
session time is:  1109.99686289
programme time is:  2310.99417734
prog action duration is: 60.0
time remaining on that action is: 1.00019311905
received response to styled programme suggestion
1561738155.25: got validated action WALK (validation timestamp: 1561738112.0)
with style POSITIVE
with validation state PASSIVE_ACCEPTED
publishing a style learning action
adding programme action to validated action queue
adding a new instance to database
publishing this validated action to behaviour manager: WALKPOSITIVE90
received validated action: WALKPOSITIVE
Heart rate: 170
participant should now be in WALK
session time is:  1110.99636102
programme time is:  2311.99367547
prog action duration is: 90.0
time remaining on that action is: 89.9998760223
Heart rate: 171
session time is:  1111.99739194
programme time is:  2312.99470639
prog action duration is: 90.0
time remaining on that action is: 88.9990580082
Heart rate: 171
max reward is: 
0.980737160566
max reward is: 
0.980737160566
1561738157.88: got validated action STYLE_UPDATE (validation timestamp: 1561738112.0)
[ERROR] [1561738157.880994]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
session time is:  1112.99683404
programme time is:  2313.99414849
prog action duration is: 90.0
time remaining on that action is: 87.9995660782
Heart rate: 171
session time is:  1113.99684811
programme time is:  2314.99416256
prog action duration is: 90.0
time remaining on that action is: 86.9994549751
Heart rate: 172
session time is:  1114.99686909
prog action duration is: 90.0
time remaining on that action is: 85.9994289875
programme time is:  2315.99418354
Heart rate: 172
session time is:  1115.99689794
programme time is:  2316.99421239
prog action duration is: 90.0
time remaining on that action is: 84.9994270802
Speed: 0.8mph
Speed: 6.9mph
Heart rate: 172
Speed: 6.8mph
max reward is: 
0.970599081567
max reward is: 
0.970599081567
no action suggestioned
Speed: 6.7mph
session time is:  1116.99686098
programme time is:  2317.99417543
prog action duration is: 90.0
time remaining on that action is: 83.9995160103
Speed: 6.8mph
Speed: 6.6mph
Heart rate: 172
Speed: 6.5mph
received validated action: STYLE_UPDATENEUTRAL
Speed: 6.9mph
Speed: 6.4mph
session time is:  1117.99686599
programme time is:  2318.99418044
prog action duration is: 90.0
time remaining on that action is: 82.9996170998
Speed: 6.9mph
Speed: 6.3mph
Speed: 6.2mph
Heart rate: 173
Speed: 6.0mph
Speed: 6.8mph
session time is:  1118.99728107
programme time is:  2319.99459553
prog action duration is: 90.0
time remaining on that action is: 81.9991121292
Speed: 5.9mph
Speed: 5.8mph
Heart rate: 173
Speed: 5.7mph
Speed: 5.6mph
session time is:  1119.99688792
programme time is:  2320.99420238
prog action duration is: 90.0
time remaining on that action is: 80.9995200634
Speed: 5.5mph
Speed: 5.9mph
Heart rate: 173
Speed: 5.4mph
max reward is: 
0.986592500086
max reward is: 
0.986592500086
1561738165.88: got validated action STYLE_UPDATE (validation timestamp: 1561738112.0)
with style POSITIVE
with validation state STYLE_UPDATE
[ERROR] [1561738165.880930]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

publishing this validated action to behaviour manager: STYLE_UPDATEPOSITIVE0
received validated action: STYLE_UPDATEPOSITIVE
Speed: 5.9mph
Speed: 5.2mph
prog action duration is: 90.0
session time is:  1120.99686694
programme time is:  2321.99418139
time remaining on that action is: 79.999548912
Heart rate: 173
Speed: 5.0mph
session time is:  1121.99687099
prog action duration is: 90.0
programme time is:  2322.99418545
time remaining on that action is: 78.9995529652
Speed: 9.8mph
Speed: 4.9mph
Speed: 4.8mph
Heart rate: 173
Speed: 4.7mph
session time is:  1122.99728703
programme time is:  2323.99460149
prog action duration is: 90.0
time remaining on that action is: 77.9990971088
Speed: 4.8mph
Speed: 4.6mph
Speed: 4.5mph
Heart rate: 173
Speed: 4.9mph
Speed: 4.2mph
Speed: 4.0mph
prog action duration is: 90.0
session time is:  1123.99685788
programme time is:  2324.99417233
time remaining on that action is: 76.9996109009
Heart rate: 173
Speed: 9.8mph
max reward is: 
0.987286797392
max reward is: 
0.987286797392
1561738169.88: got validated action STYLE_UPDATE (validation timestamp: 1561738112.0)
with style SYMPATHETIC
with validation state STYLE_UPDATE
publishing this proposed action to tablet: TIMESYMPATHETIC
publishing this validated action to behaviour manager: STYLE_UPDATESYMPATHETIC0
received validated action: STYLE_UPDATESYMPATHETIC
Speed: 3.9mph
session time is:  1124.996907
prog action duration is: 90.0
time remaining on that action is: 75.9991760254
programme time is:  2325.99422145
Heart rate: 173
session time is:  1125.99686408
prog action duration is: 90.0
programme time is:  2326.99417853
time remaining on that action is: 74.9992780685
Heart rate: 173
session time is:  1126.99686289
prog action duration is: 90.0
programme time is:  2327.99417734
time remaining on that action is: 73.9996299744
received response to learner engagement action suggestion
1561738172.55: got validated action TIME (validation timestamp: 1561738112.0)
with style SYMPATHETIC
with validation state REFUSED
publishing a style learning action
publishing an action learning example
adding a new instance to database
adding a new instance to database
Heart rate: 173
session time is:  1127.99686003
prog action duration is: 90.0
programme time is:  2328.99417448
time remaining on that action is: 72.9996099472
Heart rate: 173
Speed: 0.0mph
max reward is: 
0.992911433446
max reward is: 
0.992911433446
prog action duration is: 90.0
time remaining on that action is: 71.9997909069
session time is:  1128.996382
programme time is:  2329.99369645
Heart rate: 173
session time is:  1129.9968679
programme time is:  2330.99418235
prog action duration is: 90.0
time remaining on that action is: 70.9994940758
Heart rate: 173
session time is:  1130.99683595
programme time is:  2331.9941504
prog action duration is: 90.0
time remaining on that action is: 69.9994819164
Heart rate: 172
Speed: 3.9mph
session time is:  1131.99686098
programme time is:  2332.99417543
prog action duration is: 90.0
time remaining on that action is: 68.9994320869
Heart rate: 171
1561738177.87: got validated action PRAISE (validation timestamp: 1561738240.0)
with style POSITIVE
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
adding a new instance to database
publishing an action learning example
adding a new instance to database
max reward is: 
1.0
max reward is: 
1.0
1561738177.88: got validated action STYLE_UPDATE (validation timestamp: 1561738240.0)
[ERROR] [1561738177.880690]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

with style POSITIVE
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: PRAISEPOSITIVE0
received validated action: PRAISEPOSITIVE
publishing this validated action to behaviour manager: STYLE_UPDATEPOSITIVE0
session time is:  1132.99684906
programme time is:  2333.99416351
prog action duration is: 90.0
time remaining on that action is: 67.9995069504
Heart rate: 171
session time is:  1133.99684
prog action duration is: 90.0
time remaining on that action is: 66.9994299412
programme time is:  2334.99415445
Heart rate: 171
     user_id  session_number                              state_id  \
3381      MR               1  e17a8829-f934-47c7-9b25-585e88911e13   
3386      MR               1  1f88bd75-d367-4705-91f6-441a7b3678d3   
3388      MR               1  3fd44b6c-fb0e-42fc-9c6b-cd5cbe882772   
3393      MR               1  74ea600a-1b8a-4afd-a747-3fbb486212e7   
3395      MR               1  dfe7c137-873d-4f1e-8e14-5db833f77849   

         timestamp                             action_id  action     style  \
3381  1561478144.0  a31c3975-e08b-4780-acdc-3fd619113075  PRAISE  POSITIVE   
3386  1561478272.0  ba560e30-dda3-4bc8-8fc2-42be61f0aa8b  PRAISE  POSITIVE   
3388  1561478272.0  994a2b5a-a09b-4cb2-9aca-c2d6fefbecd7  PRAISE  POSITIVE   
3393  1561478400.0  81004164-2a9c-4fb0-8e07-f0b4897bdccc  PRAISE  POSITIVE   
3395  1561478528.0  31782d2b-bc50-477a-8121-bc3f0e65bfb9  PRAISE  POSITIVE   

     duration validation                                             speech  
3381        0    CONTROL                                   You've got this!  
3386        0    CONTROL             You're doing really well-keep this up.  
3388        0    CONTROL                                You're nailing this  
3393        0    CONTROL          You'll be destroying 5k runs in no time!!  
3395        0    CONTROL  Loving this effort! You are stronger than you ...  
Your evolutionary ancestors would be proud of you
session time is:  1134.99685001
prog action duration is: 90.0
time remaining on that action is: 65.9994699955
programme time is:  2335.99416447
Heart rate: 171
session time is:  1135.99684501
prog action duration is: 90.0
programme time is:  2336.99415946
time remaining on that action is: 64.9994280338
Heart rate: 170
max reward is: 
0.993833911998
max reward is: 
0.993833911998
session time is:  1136.99684811
programme time is:  2337.99416256
prog action duration is: 90.0
time remaining on that action is: 63.9994630814
received validated action: STYLE_UPDATEPOSITIVE
Heart rate: 169
session time is:  1137.99685097
prog action duration is: 90.0
programme time is:  2338.99416542
time remaining on that action is: 62.9994781017
Heart rate: 168
session time is:  1138.99685001
programme time is:  2339.99416447
prog action duration is: 90.0
time remaining on that action is: 61.9994320869
Heart rate: 167
session time is:  1139.99728608
programme time is:  2340.99460053
prog action duration is: 90.0
time remaining on that action is: 60.9991829395
Heart rate: 166
max reward is: 
0.98746075861
max reward is: 
0.98746075861
session time is:  1140.99686503
programme time is:  2341.99417949
prog action duration is: 90.0
time remaining on that action is: 59.9996321201
Heart rate: 166
session time is:  1141.99686098
prog action duration is: 90.0
programme time is:  2342.99417543
time remaining on that action is: 58.9995789528
Heart rate: 165
session time is:  1142.9968679
programme time is:  2343.99418235
prog action duration is: 90.0
time remaining on that action is: 57.9995341301
Heart rate: 164
prog action duration is: 90.0
time remaining on that action is: 56.9992411137
session time is:  1143.99729395
programme time is:  2344.9946084
Heart rate: 164
max reward is: 
0.990190466873
max reward is: 
0.990190466873
publishing this proposed action to tablet: PRAISEPOSITIVE
session time is:  1144.99728489
prog action duration is: 90.0
programme time is:  2345.99459934
time remaining on that action is: 55.9992101192
Heart rate: 163
session time is:  1145.99728608
prog action duration is: 90.0
programme time is:  2346.99460053
time remaining on that action is: 54.9991970062
Heart rate: 163
prog action duration is: 90.0
time remaining on that action is: 53.9991910458
session time is:  1146.99730396
programme time is:  2347.99461842
Heart rate: 163
prog action duration is: 90.0
session time is:  1147.9968729
programme time is:  2348.99418736
time remaining on that action is: 52.9996440411
received response to learner engagement action suggestion
1561738193.68: got validated action PRAISE (validation timestamp: 1561738240.0)
with style POSITIVE
with validation state REFUSED
publishing a style learning action
publishing an action learning example
adding a new instance to database
adding a new instance to database
max reward is: 
0.98743589776
max reward is: 
0.98743589776
1561738193.88: got validated action STYLE_UPDATE (validation timestamp: 1561738240.0)
with style SYMPATHETIC
with validation state STYLE_UPDATE
[ERROR] [1561738193.880764]: bad callback: <bound method Action_Moderator.on_suggested_action of <__main__.Action_Moderator instance at 0x7fcd8668c710>>
Traceback (most recent call last):
  File "/opt/ros/melodic/lib/python2.7/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/katiewinkle/src/engagement_architecture/4-action_moderator.py", line 158, in on_suggested_action
    if self.self.unvalidated_action_queue.qsize() == 0:
AttributeError: Action_Moderator instance has no attribute 'self'

publishing this validated action to behaviour manager: STYLE_UPDATESYMPATHETIC0
received validated action: STYLE_UPDATESYMPATHETIC
session time is:  1148.99686694
programme time is:  2349.99418139
prog action duration is: 90.0
time remaining on that action is: 51.9995429516
Heart rate: 163
Heart rate: 163
prog action duration is: 90.0
session time is:  1149.99731088
programme time is:  2350.99462533
time remaining on that action is: 50.9991590977
Heart rate: 162
session time is:  1150.99687195
programme time is:  2351.9941864
prog action duration is: 90.0
time remaining on that action is: 49.9995601177
Heart rate: 161
session time is:  1151.99687505
programme time is:  2352.9941895
prog action duration is: 90.0
time remaining on that action is: 48.9993970394
Heart rate: 160
max reward is: 
0.986080473669
max reward is: 
0.986080473669
session time is:  1152.99729609
programme time is:  2353.99461055
prog action duration is: 90.0
time remaining on that action is: 47.9991579056
Heart rate: 159
session time is:  1153.9972651
programme time is:  2354.99457955
prog action duration is: 90.0
time remaining on that action is: 46.999227047
Heart rate: 158
prog action duration is: 90.0
session time is:  1154.99689507
programme time is:  2355.99420953
time remaining on that action is: 45.9995679855
Heart rate: 157
session time is:  1155.99686193
programme time is:  2356.99417639
prog action duration is: 90.0
time remaining on that action is: 44.999614954
Heart rate: 156
max reward is: 
0.981763452581
max reward is: 
0.981763452581
1561738201.88: got validated action STYLE_UPDATE (validation timestamp: 1561738240.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
received validated action: STYLE_UPDATENEUTRAL
session time is:  1156.99687099
programme time is:  2357.99418545
prog action duration is: 90.0
time remaining on that action is: 43.9996459484
Heart rate: 155
session time is:  1157.99732304
programme time is:  2358.99463749
prog action duration is: 90.0
time remaining on that action is: 42.9991009235
Heart rate: 155
session time is:  1158.99687099
prog action duration is: 90.0
programme time is:  2359.99418545
time remaining on that action is: 41.9995200634
Heart rate: 154
session time is:  1159.99683809
programme time is:  2360.99415255
prog action duration is: 90.0
time remaining on that action is: 40.9996140003
Heart rate: 154
max reward is: 
0.9781680547
max reward is: 
0.9781680547
no action suggestioned
session time is:  1160.99728394
programme time is:  2361.99459839
prog action duration is: 90.0
time remaining on that action is: 39.9991889
Heart rate: 154
1561738206.88: got validated action CHALLENGE (validation timestamp: 1561738240.0)
with style SYMPATHETIC
with validation state UNPROMPTED
publishing a style learning action
adding engagement action to validated action queue
publishing an action learning example
adding a new instance to database
calling update threshold
adding a new instance to database
publishing this validated action to behaviour manager: CHALLENGESYMPATHETIC0
received validated action: CHALLENGESYMPATHETIC
session time is:  1161.9968729
programme time is:  2362.99418736
prog action duration is: 90.0
time remaining on that action is: 38.9996070862
Heart rate: 153
prog action duration is: 90.0
session time is:  1162.99728703
programme time is:  2363.99460149
time remaining on that action is: 37.9992249012
Heart rate: 153
     user_id  session_number                              state_id  \
4274      MR               2  ff458379-502f-4c81-8a32-815070248238   
4307      MR               2  d7992fff-475b-4636-b215-0f8579c41e35   
4340      MR               2  c2508c64-a3e6-4129-bb54-15971fb7d998   
4385      MR               2  bff964c9-55bc-48e3-847f-8f5cec8c445d   

         timestamp                             action_id     action  \
4274  1561737216.0  206a522c-6a6d-4bf9-8f8e-e1f487573a2b  CHALLENGE   
4307  1561737472.0  21a10252-708d-4990-98fc-9d2a618027c6  CHALLENGE   
4340  1561737856.0  95309d34-aebf-4dfe-a0b6-c00762597514  CHALLENGE   
4385  1561738112.0  e8bf8a41-6d6f-49c3-9365-6e6d9a37be5a  CHALLENGE   

            style duration  validation  \
4274  SYMPATHETIC        0  UNPROMPTED   
4307  SYMPATHETIC        0  UNPROMPTED   
4340  SYMPATHETIC        0  UNPROMPTED   
4385  SYMPATHETIC        0  UNPROMPTED   

                                                 speech  
4274  Zone out-listen to your body and find that rhy...  
4307           No stress. Clear your mind and just run.  
4340  I'm afraid it doesn't get easier-you only get ...  
4385  We're here to make each day and every run wort...  
We're here to make each day and every run worth it.
prog action duration is: 90.0
session time is:  1163.99686289
programme time is:  2364.99417734
time remaining on that action is: 36.999628067
Heart rate: 152
max reward is: 
0.985740598356
max reward is: 
0.985740598356
1561738209.88: got validated action STYLE_UPDATE (validation timestamp: 1561738240.0)
with style SYMPATHETIC
with validation state STYLE_UPDATE
publishing this proposed action to tablet: SYMPATHISESYMPATHETIC
publishing this validated action to behaviour manager: STYLE_UPDATESYMPATHETIC0
prog action duration is: 90.0
time remaining on that action is: 35.9996540546
session time is:  1164.99685597
programme time is:  2365.99417043
Heart rate: 151
session time is:  1165.99685192
prog action duration is: 90.0
programme time is:  2366.99416637
time remaining on that action is: 34.999571085
Heart rate: 151
received response to learner engagement action suggestion
1561738211.88: got validated action SYMPATHISE (validation timestamp: 1561738240.0)
with style SYMPATHETIC
with validation state REFUSED
publishing a style learning action
publishing an action learning example
adding a new instance to database
calling update threshold
new threshold is: 
0.98204450835
adding a new instance to database
prog action duration is: 90.0
time remaining on that action is: 33.9995391369
session time is:  1166.99686289
programme time is:  2367.99417734
Heart rate: 151
session time is:  1167.99686408
prog action duration is: 90.0
time remaining on that action is: 32.9994630814
programme time is:  2368.99417853
Heart rate: 151
received validated action: STYLE_UPDATESYMPATHETIC
max reward is: 
0.979246189617
max reward is: 
0.979246189617
no action suggestioned
1561738213.88: got validated action STYLE_UPDATE (validation timestamp: 1561738240.0)
with style NEUTRAL
with validation state STYLE_UPDATE
publishing this validated action to behaviour manager: STYLE_UPDATENEUTRAL0
session time is:  1168.9968679
programme time is:  2369.99418235
prog action duration is: 90.0
time remaining on that action is: 31.9995400906
Heart rate: 150
session time is:  1169.99686694
prog action duration is: 90.0
time remaining on that action is: 30.9995620251
programme time is:  2370.99418139
Heart rate: 149
received validated action: STYLE_UPDATENEUTRAL
session time is:  1170.99685907
prog action duration is: 90.0
time remaining on that action is: 29.9995160103
programme time is:  2371.99417353
Heart rate: 149
session time is:  1171.99729204
prog action duration is: 90.0
programme time is:  2372.99460649
time remaining on that action is: 28.9991590977
Heart rate: 148
max reward is: 
0.974550332443
max reward is: 
0.974550332443
no action suggestioned
session time is:  1172.99685788
programme time is:  2373.99417233
prog action duration is: 90.0
time remaining on that action is: 27.999557972
Heart rate: 148
session time is:  1173.99731302
programme time is:  2374.99462748
prog action duration is: 90.0
time remaining on that action is: 26.9991550446
Heart rate: 147
session time is:  1174.99686193
programme time is:  2375.99417639
prog action duration is: 90.0
time remaining on that action is: 25.9995279312
Heart rate: 146
session time is:  1175.9968679
programme time is:  2376.99418235
prog action duration is: 90.0
time remaining on that action is: 24.9995110035
Heart rate: 145
max reward is: 
0.978618770331
max reward is: 
0.978618770331
no action suggestioned
session time is:  1176.99728394
programme time is:  2377.99459839
prog action duration is: 90.0
time remaining on that action is: 23.9991579056
Heart rate: 145
prog action duration is: 90.0
session time is:  1177.9968791
programme time is:  2378.99419355
time remaining on that action is: 22.9995789528
Heart rate: 144
session time is:  1178.99636006
programme time is:  2379.99367452
prog action duration is: 90.0
time remaining on that action is: 22.0000350475
Heart rate: 143
prog action duration is: 90.0
session time is:  1179.99688196
time remaining on that action is: 20.9996399879
programme time is:  2380.99419641
Heart rate: 143
max reward is: 
0.978509610215
max reward is: 
0.978509610215
no action suggestioned
session time is:  1180.99630594
programme time is:  2381.9936204
prog action duration is: 90.0
time remaining on that action is: 20.0001339912
Heart rate: 143
session time is:  1181.99682999
programme time is:  2382.99414444
prog action duration is: 90.0
time remaining on that action is: 18.9995520115
Heart rate: 143
session time is:  1182.99687409
prog action duration is: 90.0
programme time is:  2383.99418855
time remaining on that action is: 17.9995391369
Heart rate: 143
prog action duration is: 90.0
session time is:  1183.99688697
programme time is:  2384.99420142
time remaining on that action is: 16.9995610714
Heart rate: 143
max reward is: 
0.975592778118
max reward is: 
0.975592778118
no action suggestioned
session time is:  1184.99684596
prog action duration is: 90.0
programme time is:  2385.99416041
time remaining on that action is: 15.9993319511
Heart rate: 143
session time is:  1185.99685407
programme time is:  2386.99416852
prog action duration is: 90.0
time remaining on that action is: 14.9995200634
Heart rate: 142
session time is:  1186.99685502
programme time is:  2387.99416947
prog action duration is: 90.0
time remaining on that action is: 13.9993000031
Heart rate: 142
session time is:  1187.99684191
prog action duration is: 90.0
time remaining on that action is: 12.9994490147
programme time is:  2388.99415636
Heart rate: 142
max reward is: 
0.981405744379
max reward is: 
0.981405744379
no action suggestioned
session time is:  1188.99685311
programme time is:  2389.99416757
prog action duration is: 90.0
time remaining on that action is: 11.9995191097
Heart rate: 141
prog action duration is: 90.0
session time is:  1189.99685597
programme time is:  2390.99417043
time remaining on that action is: 10.9996480942
Heart rate: 141
session time is:  1190.99685311
programme time is:  2391.99416757
prog action duration is: 90.0
time remaining on that action is: 9.99932312965
Heart rate: 141
session time is:  1191.99685097
prog action duration is: 90.0
programme time is:  2392.99416542
time remaining on that action is: 8.99933791161
Heart rate: 141
max reward is: 
0.976646256306
max reward is: 
0.977036423344
no action suggestioned
session time is:  1192.99684811
programme time is:  2393.99416256
prog action duration is: 90.0
time remaining on that action is: 7.99952101707
Heart rate: 140
session time is:  1193.99666095
programme time is:  2394.9939754
prog action duration is: 90.0
time remaining on that action is: 6.99975705147
Heart rate: 140
session time is:  1194.99684405
prog action duration is: 90.0
programme time is:  2395.99415851
time remaining on that action is: 5.99931693077
Heart rate: 139
session time is:  1195.996876
prog action duration is: 90.0
programme time is:  2396.99419045
time remaining on that action is: 4.99940800667
Heart rate: 139
max reward is: 
0.980455364371
max reward is: 
0.978960370055
no action suggestioned
session time is:  1196.99727798
programme time is:  2397.99459243
prog action duration is: 90.0
time remaining on that action is: 3.99911808968
Heart rate: 138
session time is:  1197.99688101
prog action duration is: 90.0
programme time is:  2398.99419546
time remaining on that action is: 2.99949502945
Heart rate: 137
session time is:  1198.99684501
programme time is:  2399.99415946
prog action duration is: 90.0
time remaining on that action is: 1.99955201149
Heart rate: 137
session time is:  1199.99686408
programme time is:  2400.99417853
prog action duration is: 90.0
time remaining on that action is: 0.999558925629
Heart rate: 137
max reward is: 
0.979046880131
max reward is: 
0.976532033187
no action suggestioned
session time is:  1200.99685788
prog action duration is: 90.0
programme time is:  2401.99417233
time remaining on that action is: -0.000518083572388
session is complete
session complete - shutting down
session complete - shutting down node
session complete - shutting down node
session complete - shutting down node
INFO:root:1-clock.py stopped.
Heart rate: 137
Heart rate: 138
Heart rate: 137
Heart rate: 137
max reward is: 
0.978846767055
max reward is: 
0.976135607809
no action suggestioned
Speed: 3.8mph
Speed: 3.7mph
Speed: 3.8mph
Heart rate: 136
Speed: 3.6mph
Speed: 3.5mph
Speed: 3.9mph
Speed: 3.4mph
Speed: 3.2mph
Speed: 3.0mph
Heart rate: 135
Speed: 2.8mph
/opt/ros/melodic/lib/python2.7/dist-packages/rospy/impl/tcpros_base.py:794: DtypeWarning: Columns (37) have mixed types. Specify dtype option on import or set low_memory=False.
  msgs_callback(msgs, self)
new average walk speed is: 3.89802182202
               time                              state_id user_id  \
93370  1.561478e+09  ff93213d-d57d-4c9b-9fcc-816a5a5de8bc      MR   
93371  1.561478e+09  0b2131bd-1634-4318-afba-cd2abf6af719      MR   
93372  1.561478e+09  608eda83-39ba-41a5-8c2f-2491435cbe20      MR   
93373  1.561478e+09  dfbd31a7-e993-4b2e-950a-954888c89f53      MR   
93374  1.561478e+09  1e40ee4d-ea18-4d72-8f27-fe5f4a203333      MR   

      session_condition  self_attitude  expert_attitude  extraversion  \
93370           CONTROL           0.87             0.93          0.86   
93371           CONTROL           0.87             0.93          0.86   
93372           CONTROL           0.87             0.93          0.86   
93373           CONTROL           0.87             0.93          0.86   
93374           CONTROL           0.87             0.93          0.86   

       agreeableness  conscientiousness  emotional_stability      ...        \
93370           0.64               0.79                 0.86      ...         
93371           0.64               0.79                 0.86      ...         
93372           0.64               0.79                 0.86      ...         
93373           0.64               0.79                 0.86      ...         
93374           0.64               0.79                 0.86      ...         

       normalised_time_since_last_action  heart_rate  relative_heart_rate  \
93370                           0.269677          86             0.544304   
93371                           0.278015          86             0.544304   
93372                           0.286347          85             0.537975   
93373                           0.294686          85             0.537975   
93374                           0.303014          84             0.531646   

           au12      au25  session_mood  user_run_pb  user_walk_pb  \
93370  0.000000  0.272660           0.5          4.5           3.0   
93371  0.000000  0.228560           0.5          4.5           4.5   
93372  0.000433  0.136677           0.5          4.5           4.5   
93373  0.000000  0.248280           0.5          4.5           4.5   
93374  0.000000  0.234028           0.5          4.5           4.5   

       user_run_avg  user_walk_avg  
93370           4.0              3  
93371           4.0              3  
93372           4.0              3  
93373           4.0              3  
93374           4.0              3  

[5 rows x 38 columns]
Speed: 2.5mph
new average run speed is: 5.78209137752
               time                              state_id user_id  \
93250  1.561478e+09  d85a6750-8907-477b-9203-578b0f9ebcb3      MR   
93272  1.561478e+09  fe9d50cd-b1b7-4cf9-ab1c-43a39d4d228f      MR   
93273  1.561478e+09  8f9c7a97-8342-4352-88ae-adf667872bb3      MR   
93274  1.561478e+09  4aa1cad6-6bac-4896-9e56-5e1cebd099d3      MR   
93275  1.561478e+09  2d90ee15-7e7d-4b93-9093-636d29385949      MR   

      session_condition  self_attitude  expert_attitude  extraversion  \
93250           CONTROL           0.87             0.93          0.86   
93272           CONTROL           0.87             0.93          0.86   
93273           CONTROL           0.87             0.93          0.86   
93274           CONTROL           0.87             0.93          0.86   
93275           CONTROL           0.87             0.93          0.86   

       agreeableness  conscientiousness  emotional_stability      ...        \
93250           0.64               0.79                 0.86      ...         
93272           0.64               0.79                 0.86      ...         
93273           0.64               0.79                 0.86      ...         
93274           0.64               0.79                 0.86      ...         
93275           0.64               0.79                 0.86      ...         

       normalised_time_since_last_action  heart_rate  relative_heart_rate  \
93250                           0.164422          86             0.544304   
93272                           0.038755          86             0.544304   
93273                           0.047092          86             0.544304   
93274                           0.055428          87             0.550633   
93275                           0.063759          87             0.550633   

           au12      au25  session_mood  user_run_pb  user_walk_pb  \
93250  0.095118  0.411010           0.5          4.0           3.0   
93272  0.298182  0.135470           0.5          4.2           3.0   
93273  0.196758  0.293028           0.5          4.4           3.0   
93274  0.122054  0.274412           0.5          4.4           3.0   
93275  0.134720  0.413604           0.5          4.4           3.0   

       user_run_avg  user_walk_avg  
93250           4.0              3  
93272           4.0              3  
93273           4.0              3  
93274           4.0              3  
93275           4.0              3  

[5 rows x 38 columns]
session complete - shutting down node
INFO:root:8-end_session.py stopped.
Heart rate: 134
Speed: 2.4mph
Speed: 2.9mph
Speed: 2.3mph
Heart rate: 134
Speed: 2.2mph
max reward is: 
0.978846767055
max reward is: 
0.976135607809
no action suggestioned
Speed: 2.1mph
Speed: 2.0mph
Speed: 1.8mph
Speed: 1.9mph
Heart rate: 133
Speed: 1.2mph
Speed: 1.0mph
Speed: 1.8mph
Speed: 0.8mph
Speed: 0.7mph
Speed: 0.6mph
Speed: 0.0mph
Heart rate: 132
Heart rate: 130
Heart rate: 129
max reward is: 
0.978846767055
max reward is: 
0.976135607809
no action suggestioned
Heart rate: 128
Speed: 0.8mph
Speed: 0.0mph
Heart rate: 127
Heart rate: 126
Heart rate: 126
max reward is: 
0.978846767055
max reward is: 
0.976135607809
no action suggestioned
Heart rate: 125
Speed: 0.6mph
Speed: 0.0mph
Heart rate: 125
Heart rate: 124
Heart rate: 124
max reward is: 
0.978846767055
max reward is: 
0.976135607809
no action suggestioned
Heart rate: 123
Heart rate: 123
Heart rate: 123
Heart rate: 124
max reward is: 
0.978846767055
max reward is: 
0.976135607809
no action suggestioned
Heart rate: 124
Heart rate: 124
INFO:root:6-behaviour_manager.py stopped.
Heart rate: 124
Heart rate: 124
max reward is: 
0.978846767055
max reward is: 
0.976135607809
no action suggestioned
Heart rate: 124
Heart rate: 125
Heart rate: 125
Heart rate: 125
max reward is: 
0.978846767055
max reward is: 
0.976135607809
no action suggestioned
INFO:root:2-state_analyser.py stopped.
Heart rate: 125
INFO:root:3-programme_manager.py stopped.
Heart rate: 125
INFO:root:4-action_moderator.py stopped.
Heart rate: 125
INFO:root:5-c25klearner.py stopped.
Heart rate: 125
Heart rate: 124
Heart rate: 123
Heart rate: 121
Heart rate: 120
Heart rate: 119
Heart rate: 118
Heart rate: 117
Traceback (most recent call last):
  File "/home/katiewinkle/src/couchto5k-sensors/src/H10_heart_monitor.py", line 361, in <module>
    cli()
  File "/home/katiewinkle/src/couchto5k-sensors/src/H10_heart_monitor.py", line 357, in cli
    main("DD:72:CF:DA:10:72", args.o, args.g, args.b, args.H, args.d)
  File "/home/katiewinkle/src/couchto5k-sensors/src/H10_heart_monitor.py", line 284, in main
    gt.expect(hr_expect, timeout=10)
  File "/usr/lib/python2.7/dist-packages/pexpect/spawnbase.py", line 321, in expect
    timeout, searchwindowsize, async)
  File "/usr/lib/python2.7/dist-packages/pexpect/spawnbase.py", line 345, in expect_list
    return exp.expect_loop(timeout)
  File "/usr/lib/python2.7/dist-packages/pexpect/expect.py", line 105, in expect_loop
    return self.eof(e)
  File "/usr/lib/python2.7/dist-packages/pexpect/expect.py", line 50, in eof
    raise EOF(msg)
pexpect.exceptions.EOF: End Of File (EOF). Exception style platform.
<pexpect.pty_spawn.spawn object at 0x7fa00c594b90>
command: /usr/bin/gatttool
args: ['/usr/bin/gatttool', '-b', 'DD:72:CF:DA:10:72', '-t', 'random', '--interactive']
buffer (last 100 chars): ''
before (last 100 chars): '\n\r\n(gatttool:31035): GLib-\x1b[1;33mWARNING\x1b[0m **: \x1b[34m17:11:29.134\x1b[0m: Invalid file descriptor.\r\n\r\n'
after: <class 'pexpect.exceptions.EOF'>
match: None
match_index: None
exitstatus: 0
flag_eof: True
pid: 31035
child_fd: 13
closed: False
timeout: 30
delimiter: <class 'pexpect.exceptions.EOF'>
logfile: None
logfile_read: None
logfile_send: None
maxread: 2000
ignorecase: False
searchwindowsize: None
delaybeforesend: 0.05
delayafterclose: 0.1
delayafterterminate: 0.1
searcher: searcher_re:
    0: re.compile("Notification handle = 0x0010 value: ([0-9a-f ]+)")
INFO:root:H10_heart_monitor.py stopped.
INFO:root:facialexpression_node stopped.
WARNING:root:treadmill_speed_monitor.py not stopped! Killing it.
INFO:root:treadmill_speed_monitor.py stopped.
WARNING:root:Finalising the session
INFO:root:All scripts stopped!

